"use strict";(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[7508],{"../../packages/videopress/src/client/admin/components/video-storage-meter/stories/index.mdx":(h,i,e)=>{e.r(i),e.d(i,{default:()=>m});var d=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),s=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js"),t=e("../../../node_modules/.pnpm/@storybook+addon-docs@7.0.5_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/addon-docs/dist/shims/mdx-react-shim.js"),u=e.n(t),c=e("../../../node_modules/.pnpm/@storybook+blocks@7.0.5_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/blocks/dist/index.mjs"),_=e("../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx"),a=e("../../packages/videopress/src/client/admin/components/video-storage-meter/stories/index.stories.tsx");function l(r){const o=Object.assign({h1:"h1",p:"p",h2:"h2",h3:"h3",ul:"ul",li:"li",code:"code"},(0,t.useMDXComponents)(),r.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.h_,{of:a}),`
`,(0,s.jsx)(o.h1,{id:"videostoragemeter",children:"VideoStorageMeter"}),`
`,(0,s.jsx)(o.p,{children:"Component that shows cloud storage usage."}),`
`,(0,s.jsx)(c.Xz,{withSource:"open",children:(0,s.jsx)(c.oG,{id:"packages-videopress-video-storage-meter--default"})}),`
`,(0,s.jsx)(o.h2,{id:"api",children:"API"}),`
`,(0,s.jsx)(o.h3,{id:"total",children:"total"}),`
`,(0,s.jsxs)(o.ul,{children:[`
`,(0,s.jsxs)(o.li,{children:["type: ",(0,s.jsx)(o.code,{children:"number"})]}),`
`]}),`
`,(0,s.jsx)(o.p,{children:"The total available cloud space for the user, in bytes."}),`
`,(0,s.jsx)(o.h3,{id:"used",children:"used"}),`
`,(0,s.jsxs)(o.ul,{children:[`
`,(0,s.jsxs)(o.li,{children:["type: ",(0,s.jsx)(o.code,{children:"number"})]}),`
`]}),`
`,(0,s.jsx)(o.p,{children:"The used cloud space, in bytes."}),`
`,(0,s.jsx)(o.h3,{id:"classname",children:"className"}),`
`,(0,s.jsxs)(o.ul,{children:[`
`,(0,s.jsxs)(o.li,{children:["type: ",(0,s.jsx)(o.code,{children:"string"})]}),`
`]}),`
`,(0,s.jsx)(o.p,{children:"Optional classname to apply to the root element."}),`
`,(0,s.jsx)(o.h3,{id:"progressbarclassname",children:"progressBarClassName"}),`
`,(0,s.jsxs)(o.ul,{children:[`
`,(0,s.jsxs)(o.li,{children:["type: ",(0,s.jsx)(o.code,{children:"string"})]}),`
`]}),`
`,(0,s.jsxs)(o.ul,{children:[`
`,(0,s.jsx)(o.li,{children:"Optional classname to apply to the progress bar element."}),`
`]})]})}function p(r={}){const{wrapper:o}=Object.assign({},(0,t.useMDXComponents)(),r.components);return o?(0,s.jsx)(o,Object.assign({},r,{children:(0,s.jsx)(l,r)})):l(r)}const m=p},"../../packages/videopress/src/client/admin/components/video-storage-meter/stories/index.stories.tsx":(h,i,e)=>{var p,m,r;e.r(i),e.d(i,{__namedExportsOrder:()=>l,_default:()=>a,default:()=>c});var d=e("../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx"),s=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js"),t=`import VideoStorageMeter from '..';
import type { ComponentStory, ComponentMeta } from '@storybook/react';

export default {
	title: 'Packages/VideoPress/Video Storage Meter',
	component: VideoStorageMeter,
} as ComponentMeta< typeof VideoStorageMeter >;

const Template: ComponentStory< typeof VideoStorageMeter > = args => (
	<VideoStorageMeter { ...args } />
);

export const _default = Template.bind( {} );
_default.args = {
	total: 1024 * 1024 * 1024 * 1024, // 1 TiB
	used: ( 1024 * 1024 * 1024 * 1024 ) / 2, // 50%
};
`,u={_default:{startLoc:{col:59,line:7},endLoc:{col:98,line:7},startBody:{col:59,line:7},endBody:{col:98,line:7}}};const c={parameters:{storySource:{source:`import VideoStorageMeter from '..';
import type { ComponentStory, ComponentMeta } from '@storybook/react';
export default ({
  title: 'Packages/VideoPress/Video Storage Meter',
  component: VideoStorageMeter
} as ComponentMeta<typeof VideoStorageMeter>);
const Template: ComponentStory<typeof VideoStorageMeter> = args => <VideoStorageMeter {...args} />;
export const _default = Template.bind({});
_default.args = {
  total: 1024 * 1024 * 1024 * 1024,
  // 1 TiB
  used: 1024 * 1024 * 1024 * 1024 / 2 // 50%
};
_default.parameters = {
  ..._default.parameters,
  docs: {
    ..._default.parameters?.docs,
    source: {
      originalSource: "args => <VideoStorageMeter {...args} />",
      ..._default.parameters?.docs?.source
    }
  }
};`,locationsMap:{default:{startLoc:{col:59,line:7},endLoc:{col:98,line:7},startBody:{col:59,line:7},endBody:{col:98,line:7}}}}},title:"Packages/VideoPress/Video Storage Meter",component:d.Z},_=o=>(0,s.jsx)(d.Z,{...o});_.displayName="Template";const a=_.bind({});a.args={total:1024*1024*1024*1024,used:1024*1024*1024*1024/2},a.parameters={...a.parameters,docs:{...(p=a.parameters)==null?void 0:p.docs,source:{originalSource:"args => <VideoStorageMeter {...args} />",...(r=(m=a.parameters)==null?void 0:m.docs)==null?void 0:r.source}}};const l=["_default"]},"../../packages/videopress/src/client/admin/components/progress-bar/index.tsx":(h,i,e)=>{e.d(i,{Z:()=>r});var d=e("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),s=e.n(d),t=e("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),u=e.n(t),c=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/admin/components/progress-bar/style.module.scss"),_={};_.insert="head",_.singleton=!1;var a=u()(c.Z,_);const l=c.Z.locals||{};var p=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const m=o=>{let{className:j,progress:g,size:P="normal"}=o;if(g==null)return null;const E={width:`${Math.max(Math.min(g,1),0)*100}%`};return(0,p.jsx)("div",{className:s()(j,l.wrapper,{[l.small]:P==="small"}),children:(0,p.jsx)("div",{className:s()(l.progress),style:E})})};m.displayName="ProgressBar";const r=m},"../../packages/videopress/src/client/admin/components/site-settings-section/constants.ts":(h,i,e)=>{e.d(i,{RB:()=>t,mP:()=>d});const d="atomic",s="simple",t="jetpack"},"../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx":(h,i,e)=>{e.d(i,{Z:()=>D});var d=e("../components/components/text/index.tsx"),s=e("../../../node_modules/.pnpm/@wordpress+i18n@4.36.0/node_modules/@wordpress/i18n/build-module/index.js"),t=e("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),u=e.n(t),c=e("../../../node_modules/.pnpm/filesize@8.0.6/node_modules/filesize/lib/filesize.min.js"),_=e.n(c),a=e("../../packages/videopress/src/client/admin/hooks/use-plan/index.ts"),l=e("../../packages/videopress/src/client/admin/hooks/use-videopress-settings/index.ts"),p=e("../../packages/videopress/src/client/admin/hooks/use-videos/index.js"),m=e("../../packages/videopress/src/client/admin/components/progress-bar/index.tsx"),r=e("../../packages/videopress/src/client/admin/components/site-settings-section/constants.ts"),o=e("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),j=e.n(o),g=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/admin/components/video-storage-meter/style.module.scss"),P={};P.insert="head",P.singleton=!1;var S=j()(g.Z,P);const E=g.Z.locals||{};var y=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const v=s.__,x=M=>{let{className:O,progressBarClassName:k,total:T,used:f}=M;if(!T||f==null)return null;const C=f/T,b=`${(C*100).toFixed()}%`,V=_()(T,{base:10});return(0,y.jsxs)("div",{className:u()(O),children:[(0,y.jsx)(d.ZP,{className:u()(E["percentage-description"]),children:(0,s.gB)(v("%1$s of %2$s of cloud video storage","jetpack-videopress-pkg"),b,V)}),(0,y.jsx)(m.Z,{className:u()(E["progress-bar"],k),progress:C})]})};x.displayName="VideoStorageMeter";const n=M=>{const{storageUsed:O,uploadedVideoCount:k}=(0,p.ZP)(),{features:T}=(0,a.g)(),{settings:f}=(0,l.C)(),{siteType:C}=f,b=1e3*1e3*1e3*1e3;return C===r.mP||T!=null&&T.isVideoPressUnlimitedSupported||!k?null:O?(0,y.jsx)(x,{...M,used:O,total:b}):(0,y.jsx)(x,{...M,used:0,total:1})};n.displayName="ConnectVideoStorageMeter";const D=x;try{n.displayName="ConnectVideoStorageMeter",n.__docgenInfo={description:"",displayName:"ConnectVideoStorageMeter",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx#ConnectVideoStorageMeter"]={docgenInfo:n.__docgenInfo,name:"ConnectVideoStorageMeter",path:"../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx#ConnectVideoStorageMeter"})}catch(M){}},"../../packages/videopress/src/client/admin/hooks/use-plan/index.ts":(h,i,e)=>{e.d(i,{g:()=>m});var d=e("../../../node_modules/.pnpm/@wordpress+data@9.6.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-select/index.js"),s=e("../../packages/videopress/src/client/state/index.js");function t(r){return r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace("_",""))}function u(r){return r.indexOf("_")!==-1}function c(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const j=Object.assign({},r);for(const g in j)j.hasOwnProperty(g)&&u(g)&&(j[t(g)]=j[g],o&&delete j[g]);return j}const{paidFeatures:_={},siteProductData:a={},productData:l={},productPrice:p={}}=window&&window.jetpackVideoPressInitialState?window.jetpackVideoPressInitialState:{},m=()=>{const r=c(a.pricing_for_ui,!0),o=c(l.introductory_offer,!0),j={...c(l,!0),introductoryOffer:o},{purchases:g,isFetchingPurchases:P}=(0,d.Z)(v=>({purchases:v(s.tT).getPurchases(),isFetchingPurchases:v(s.tT).isFetchingPurchases()}),[]),S=g.map(v=>c(v,!0));function E(v){return S.some(x=>x.productSlug===v)}const y=["jetpack_videopress","jetpack_videopress_monthly","jetpack_complete","jetpack_complete_monthly","jetpack_business","jetpack_business_monthly","jetpack_personal","jetpack_personal_monthly","jetpack_premium","jetpack_premium_monthly","videopress","videopress-pro","wp_p2_plus_monthly","bundle_pro","value_bundle","value_bundle_monthly","value_bundle-2y","value_bundle-3y","pro-plan","pro-plan-monthly","pro-plan-2y","business-bundle","business-bundle-monthly","business-bundle-2y","business-bundle-3y","ecommerce-bundle","ecommerce-bundle-monthly","ecommerce-bundle-2y","ecommerce-bundle-3y"].some(v=>E(v));return{features:_,siteProduct:{...c({...a},!0),pricingForUi:r},product:j,productPrice:p,purchases:S,hasVideoPressPurchase:y,isFetchingPurchases:P}}},"../../packages/videopress/src/client/admin/hooks/use-videopress-settings/index.ts":(h,i,e)=>{e.d(i,{C:()=>c});var d=e("../../../node_modules/.pnpm/@wordpress+data@9.6.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-dispatch/use-dispatch.js"),s=e("../../../node_modules/.pnpm/@wordpress+data@9.6.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-select/index.js"),t=e("../../packages/videopress/src/client/state/index.js"),u=e("../../packages/videopress/src/client/admin/components/site-settings-section/constants.ts");const c=()=>{var l,p,m;const _=(0,d.Z)(t.tT),a=(0,s.Z)(r=>r(t.tT).getVideoPressSettings(),[]);return{settings:{videoPressVideosPrivateForSite:(l=a==null?void 0:a.videoPressVideosPrivateForSite)!=null?l:!1,siteIsPrivate:(p=a==null?void 0:a.siteIsPrivate)!=null?p:!1,siteType:(m=a==null?void 0:a.siteType)!=null?m:u.RB},onUpdate:r=>_.updateVideoPressSettings(r)}}},"../../packages/videopress/src/client/admin/hooks/use-videos/index.js":(h,i,e)=>{e.d(i,{ZP:()=>u});var d=e("../../../node_modules/.pnpm/@wordpress+data@9.6.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-select/index.js"),s=e("../../../node_modules/.pnpm/@wordpress+data@9.6.0_react@18.2.0/node_modules/@wordpress/data/build-module/dispatch.js"),t=e("../../packages/videopress/src/client/state/constants.js");function u(){const a=(0,d.Z)(n=>n(t.tT).getVideos()),l=(0,d.Z)(n=>n(t.tT).getUploadingVideos()),p=l.length>0,m="",r=(0,d.Z)(n=>n(t.tT).getUploadedVideoCount()),o=(0,d.Z)(n=>n(t.tT).getIsFetching()),j=(0,d.Z)(n=>n(t.tT).getIsFetchingUploadedVideoCount()),g=(0,d.Z)(n=>n(t.tT).getFirstUploadedVideoId()),P=(0,d.Z)(n=>n(t.tT).getFirstVideoProcessed()),S=(0,d.Z)(n=>n(t.tT).getDismissedFirstVideoPopover()),E=(0,d.Z)(n=>n(t.tT).getVideosQuery()||{}),y=(0,d.Z)(n=>n(t.tT).getPagination()),v=(0,d.Z)(n=>n(t.tT).getStorageUsed(),[]),x=(0,d.Z)(n=>n(t.tT).getVideosFilter());return{items:a,uploading:l,isUploading:p,search:m,filter:x,uploadedVideoCount:r,isFetching:o,isFetchingUploadedVideoCount:j,firstUploadedVideoId:g,firstVideoProcessed:P,dismissedFirstVideoPopover:S,...E,...y,...v,setPage:n=>(0,s.W)(t.tT).setVideosQuery({page:n}),setSearch:n=>(0,s.W)(t.tT).setVideosQuery({search:n}),setFilter:(0,s.W)(t.tT).setVideosFilter}}const c=()=>{const a=useSelect(o=>o(STORE_ID).getLocalVideos()),l=useSelect(o=>o(STORE_ID).getUploadedLocalVideoCount()),p=useSelect(o=>o(STORE_ID).getIsFetchingLocalVideos()),m=useSelect(o=>o(STORE_ID).getLocalVideosQuery()||{}),r=useSelect(o=>o(STORE_ID).getLocalPagination());return{items:a,uploadedLocalVideoCount:l,isFetching:p,...m,...r,setPage:o=>dispatch(STORE_ID).setLocalVideosQuery({page:o})}},_=()=>useSelect(l=>l(STORE_ID).getVideosQuery()||{})},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/admin/components/progress-bar/style.module.scss":(h,i,e)=>{e.d(i,{Z:()=>_});var d=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),s=e.n(d),t=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),u=e.n(t),c=u()(s());c.push([h.id,".oFyvI2R2ev0HeVNk7jvU{width:100%;height:12px;background-color:var(--jp-gray-5);border-radius:calc(var(--spacing-base)*3);overflow:hidden}.oFyvI2R2ev0HeVNk7jvU.z1wCzLRxP7O5Q_oy9gL0{height:3px}.oFyvI2R2ev0HeVNk7jvU .QWDZG7i7cOCBHNFmz035{height:100%;border-radius:calc(var(--spacing-base)*3);background-color:var(--jp-green-50)}",""]),c.locals={wrapper:"oFyvI2R2ev0HeVNk7jvU",small:"z1wCzLRxP7O5Q_oy9gL0",progress:"QWDZG7i7cOCBHNFmz035"};const _=c},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/admin/components/video-storage-meter/style.module.scss":(h,i,e)=>{e.d(i,{Z:()=>_});var d=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),s=e.n(d),t=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),u=e.n(t),c=u()(s());c.push([h.id,".J0cboZTh2LMTitQ_wbbw{color:var(--jp-gray-80);margin-bottom:calc(var(--spacing-base)*2)}.uC0NRkCYRpEEddC3UOuf{margin-top:calc(var(--spacing-base)*2)}",""]),c.locals={"percentage-description":"J0cboZTh2LMTitQ_wbbw","progress-bar":"uC0NRkCYRpEEddC3UOuf"};const _=c}}]);})();
