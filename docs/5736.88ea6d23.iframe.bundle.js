(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[5736],{"../../../node_modules/.pnpm/@wordpress+url@3.54.0/node_modules/@wordpress/url/build-module/clean-for-slug.js":(I,B,y)=>{"use strict";y.d(B,{J:()=>v});var C=y("../../../node_modules/.pnpm/remove-accents@0.5.0/node_modules/remove-accents/index.js"),D=y.n(C);function v(P){return P?D()(P).replace(/[\s\./]+/g,"-").replace(/[^\p{L}\p{N}_-]+/gu,"").toLowerCase().replace(/-+/g,"-").replace(/(^-+)|(-+$)/g,""):""}},"../../../node_modules/.pnpm/js-base64@2.6.4/node_modules/js-base64/base64.js":function(I,B,y){var C,D;(function(v,P){I.exports=P(v)})(typeof self!="undefined"?self:typeof window!="undefined"?window:typeof y.g!="undefined"?y.g:this,function(v){"use strict";v=v||{};var P=v.Base64,L="2.6.4",b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=function(i){for(var d={},E=0,H=i.length;E<H;E++)d[i.charAt(E)]=E;return d}(b),U=String.fromCharCode,x=function(i){if(i.length<2){var d=i.charCodeAt(0);return d<128?i:d<2048?U(192|d>>>6)+U(128|d&63):U(224|d>>>12&15)+U(128|d>>>6&63)+U(128|d&63)}else{var d=65536+(i.charCodeAt(0)-55296)*1024+(i.charCodeAt(1)-56320);return U(240|d>>>18&7)+U(128|d>>>12&63)+U(128|d>>>6&63)+U(128|d&63)}},O=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,F=function(i){return i.replace(O,x)},X=function(i){var d=[0,2,1][i.length%3],E=i.charCodeAt(0)<<16|(i.length>1?i.charCodeAt(1):0)<<8|(i.length>2?i.charCodeAt(2):0),H=[b.charAt(E>>>18),b.charAt(E>>>12&63),d>=2?"=":b.charAt(E>>>6&63),d>=1?"=":b.charAt(E&63)];return H.join("")},q=v.btoa&&typeof v.btoa=="function"?function(i){return v.btoa(i)}:function(i){if(i.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return i.replace(/[\s\S]{1,3}/g,X)},z=function(i){return q(F(String(i)))},T=function(i){return i.replace(/[+\/]/g,function(d){return d=="+"?"-":"_"}).replace(/=/g,"")},k=function(i,d){return d?T(z(i)):z(i)},N=function(i){return k(i,!0)},W;v.Uint8Array&&(W=function(i,d){for(var E="",H=0,Z=i.length;H<Z;H+=3){var V=i[H],Q=i[H+1],G=i[H+2],J=V<<16|Q<<8|G;E+=b.charAt(J>>>18)+b.charAt(J>>>12&63)+(typeof Q!="undefined"?b.charAt(J>>>6&63):"=")+(typeof G!="undefined"?b.charAt(J&63):"=")}return d?T(E):E});var f=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,s=function(i){switch(i.length){case 4:var d=(7&i.charCodeAt(0))<<18|(63&i.charCodeAt(1))<<12|(63&i.charCodeAt(2))<<6|63&i.charCodeAt(3),E=d-65536;return U((E>>>10)+55296)+U((E&1023)+56320);case 3:return U((15&i.charCodeAt(0))<<12|(63&i.charCodeAt(1))<<6|63&i.charCodeAt(2));default:return U((31&i.charCodeAt(0))<<6|63&i.charCodeAt(1))}},l=function(i){return i.replace(f,s)},a=function(i){var d=i.length,E=d%4,H=(d>0?A[i.charAt(0)]<<18:0)|(d>1?A[i.charAt(1)]<<12:0)|(d>2?A[i.charAt(2)]<<6:0)|(d>3?A[i.charAt(3)]:0),Z=[U(H>>>16),U(H>>>8&255),U(H&255)];return Z.length-=[0,0,2,1][E],Z.join("")},_=v.atob&&typeof v.atob=="function"?function(i){return v.atob(i)}:function(i){return i.replace(/\S{1,4}/g,a)},h=function(i){return _(String(i).replace(/[^A-Za-z0-9\+\/]/g,""))},w=function(i){return l(_(i))},m=function(i){return String(i).replace(/[-_]/g,function(d){return d=="-"?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,"")},j=function(i){return w(m(i))},M;v.Uint8Array&&(M=function(i){return Uint8Array.from(h(m(i)),function(d){return d.charCodeAt(0)})});var Y=function(){var i=v.Base64;return v.Base64=P,i};if(v.Base64={VERSION:L,atob:h,btoa:q,fromBase64:j,toBase64:k,utob:F,encode:k,encodeURI:N,btou:l,decode:j,noConflict:Y,fromUint8Array:W,toUint8Array:M},typeof Object.defineProperty=="function"){var c=function(i){return{value:i,enumerable:!1,writable:!0,configurable:!0}};v.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",c(function(){return j(this)})),Object.defineProperty(String.prototype,"toBase64",c(function(i){return k(this,i)})),Object.defineProperty(String.prototype,"toBase64URI",c(function(){return k(this,!0)}))}}return v.Meteor&&(Base64=v.Base64),I.exports?I.exports.Base64=v.Base64:(C=[],D=function(){return v.Base64}.apply(B,C),D!==void 0&&(I.exports=D)),{Base64:v.Base64}})},"../../../node_modules/.pnpm/querystringify@2.2.0/node_modules/querystringify/index.js":(I,B)=>{"use strict";var y=Object.prototype.hasOwnProperty,C;function D(b){try{return decodeURIComponent(b.replace(/\+/g," "))}catch(A){return null}}function v(b){try{return encodeURIComponent(b)}catch(A){return null}}function P(b){for(var A=/([^=?#&]+)=?([^&]*)/g,U={},x;x=A.exec(b);){var O=D(x[1]),F=D(x[2]);O===null||F===null||O in U||(U[O]=F)}return U}function L(b,A){A=A||"";var U=[],x,O;typeof A!="string"&&(A="?");for(O in b)if(y.call(b,O)){if(x=b[O],!x&&(x===null||x===C||isNaN(x))&&(x=""),O=v(O),x=v(x),O===null||x===null)continue;U.push(O+"="+x)}return U.length?A+U.join("&"):""}B.stringify=L,B.parse=P},"../../../node_modules/.pnpm/remove-accents@0.5.0/node_modules/remove-accents/index.js":I=>{var B={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u1EA4:"A",\u1EAE:"A",\u1EB2:"A",\u1EB4:"A",\u1EB6:"A",\u00C6:"AE",\u1EA6:"A",\u1EB0:"A",\u0202:"A",\u1EA2:"A",\u1EA0:"A",\u1EA8:"A",\u1EAA:"A",\u1EAC:"A",\u00C7:"C",\u1E08:"C",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u1EBE:"E",\u1E16:"E",\u1EC0:"E",\u1E14:"E",\u1E1C:"E",\u0206:"E",\u1EBA:"E",\u1EBC:"E",\u1EB8:"E",\u1EC2:"E",\u1EC4:"E",\u1EC6:"E",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u1E2E:"I",\u020A:"I",\u1EC8:"I",\u1ECA:"I",\u00D0:"D",\u00D1:"N",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u1ED0:"O",\u1E4C:"O",\u1E52:"O",\u020E:"O",\u1ECE:"O",\u1ECC:"O",\u1ED4:"O",\u1ED6:"O",\u1ED8:"O",\u1EDC:"O",\u1EDE:"O",\u1EE0:"O",\u1EDA:"O",\u1EE2:"O",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u1EE6:"U",\u1EE4:"U",\u1EEC:"U",\u1EEE:"U",\u1EF0:"U",\u00DD:"Y",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u1EA5:"a",\u1EAF:"a",\u1EB3:"a",\u1EB5:"a",\u1EB7:"a",\u00E6:"ae",\u1EA7:"a",\u1EB1:"a",\u0203:"a",\u1EA3:"a",\u1EA1:"a",\u1EA9:"a",\u1EAB:"a",\u1EAD:"a",\u00E7:"c",\u1E09:"c",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u1EBF:"e",\u1E17:"e",\u1EC1:"e",\u1E15:"e",\u1E1D:"e",\u0207:"e",\u1EBB:"e",\u1EBD:"e",\u1EB9:"e",\u1EC3:"e",\u1EC5:"e",\u1EC7:"e",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u1E2F:"i",\u020B:"i",\u1EC9:"i",\u1ECB:"i",\u00F0:"d",\u00F1:"n",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u1ED1:"o",\u1E4D:"o",\u1E53:"o",\u020F:"o",\u1ECF:"o",\u1ECD:"o",\u1ED5:"o",\u1ED7:"o",\u1ED9:"o",\u1EDD:"o",\u1EDF:"o",\u1EE1:"o",\u1EDB:"o",\u1EE3:"o",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u1EE7:"u",\u1EE5:"u",\u1EED:"u",\u1EEF:"u",\u1EF1:"u",\u00FD:"y",\u00FF:"y",\u0100:"A",\u0101:"a",\u0102:"A",\u0103:"a",\u0104:"A",\u0105:"a",\u0106:"C",\u0107:"c",\u0108:"C",\u0109:"c",\u010A:"C",\u010B:"c",\u010C:"C",\u010D:"c",C\u0306:"C",c\u0306:"c",\u010E:"D",\u010F:"d",\u0110:"D",\u0111:"d",\u0112:"E",\u0113:"e",\u0114:"E",\u0115:"e",\u0116:"E",\u0117:"e",\u0118:"E",\u0119:"e",\u011A:"E",\u011B:"e",\u011C:"G",\u01F4:"G",\u011D:"g",\u01F5:"g",\u011E:"G",\u011F:"g",\u0120:"G",\u0121:"g",\u0122:"G",\u0123:"g",\u0124:"H",\u0125:"h",\u0126:"H",\u0127:"h",\u1E2A:"H",\u1E2B:"h",\u0128:"I",\u0129:"i",\u012A:"I",\u012B:"i",\u012C:"I",\u012D:"i",\u012E:"I",\u012F:"i",\u0130:"I",\u0131:"i",\u0132:"IJ",\u0133:"ij",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u1E30:"K",\u1E31:"k",K\u0306:"K",k\u0306:"k",\u0139:"L",\u013A:"l",\u013B:"L",\u013C:"l",\u013D:"L",\u013E:"l",\u013F:"L",\u0140:"l",\u0141:"l",\u0142:"l",\u1E3E:"M",\u1E3F:"m",M\u0306:"M",m\u0306:"m",\u0143:"N",\u0144:"n",\u0145:"N",\u0146:"n",\u0147:"N",\u0148:"n",\u0149:"n",N\u0306:"N",n\u0306:"n",\u014C:"O",\u014D:"o",\u014E:"O",\u014F:"o",\u0150:"O",\u0151:"o",\u0152:"OE",\u0153:"oe",P\u0306:"P",p\u0306:"p",\u0154:"R",\u0155:"r",\u0156:"R",\u0157:"r",\u0158:"R",\u0159:"r",R\u0306:"R",r\u0306:"r",\u0212:"R",\u0213:"r",\u015A:"S",\u015B:"s",\u015C:"S",\u015D:"s",\u015E:"S",\u0218:"S",\u0219:"s",\u015F:"s",\u0160:"S",\u0161:"s",\u0162:"T",\u0163:"t",\u021B:"t",\u021A:"T",\u0164:"T",\u0165:"t",\u0166:"T",\u0167:"t",T\u0306:"T",t\u0306:"t",\u0168:"U",\u0169:"u",\u016A:"U",\u016B:"u",\u016C:"U",\u016D:"u",\u016E:"U",\u016F:"u",\u0170:"U",\u0171:"u",\u0172:"U",\u0173:"u",\u0216:"U",\u0217:"u",V\u0306:"V",v\u0306:"v",\u0174:"W",\u0175:"w",\u1E82:"W",\u1E83:"w",X\u0306:"X",x\u0306:"x",\u0176:"Y",\u0177:"y",\u0178:"Y",Y\u0306:"Y",y\u0306:"y",\u0179:"Z",\u017A:"z",\u017B:"Z",\u017C:"z",\u017D:"Z",\u017E:"z",\u017F:"s",\u0192:"f",\u01A0:"O",\u01A1:"o",\u01AF:"U",\u01B0:"u",\u01CD:"A",\u01CE:"a",\u01CF:"I",\u01D0:"i",\u01D1:"O",\u01D2:"o",\u01D3:"U",\u01D4:"u",\u01D5:"U",\u01D6:"u",\u01D7:"U",\u01D8:"u",\u01D9:"U",\u01DA:"u",\u01DB:"U",\u01DC:"u",\u1EE8:"U",\u1EE9:"u",\u1E78:"U",\u1E79:"u",\u01FA:"A",\u01FB:"a",\u01FC:"AE",\u01FD:"ae",\u01FE:"O",\u01FF:"o",\u00DE:"TH",\u00FE:"th",\u1E54:"P",\u1E55:"p",\u1E64:"S",\u1E65:"s",X\u0301:"X",x\u0301:"x",\u0403:"\u0413",\u0453:"\u0433",\u040C:"\u041A",\u045C:"\u043A",A\u030B:"A",a\u030B:"a",E\u030B:"E",e\u030B:"e",I\u030B:"I",i\u030B:"i",\u01F8:"N",\u01F9:"n",\u1ED2:"O",\u1ED3:"o",\u1E50:"O",\u1E51:"o",\u1EEA:"U",\u1EEB:"u",\u1E80:"W",\u1E81:"w",\u1EF2:"Y",\u1EF3:"y",\u0200:"A",\u0201:"a",\u0204:"E",\u0205:"e",\u0208:"I",\u0209:"i",\u020C:"O",\u020D:"o",\u0210:"R",\u0211:"r",\u0214:"U",\u0215:"u",B\u030C:"B",b\u030C:"b",\u010C\u0323:"C",\u010D\u0323:"c",\u00CA\u030C:"E",\u00EA\u030C:"e",F\u030C:"F",f\u030C:"f",\u01E6:"G",\u01E7:"g",\u021E:"H",\u021F:"h",J\u030C:"J",\u01F0:"j",\u01E8:"K",\u01E9:"k",M\u030C:"M",m\u030C:"m",P\u030C:"P",p\u030C:"p",Q\u030C:"Q",q\u030C:"q",\u0158\u0329:"R",\u0159\u0329:"r",\u1E66:"S",\u1E67:"s",V\u030C:"V",v\u030C:"v",W\u030C:"W",w\u030C:"w",X\u030C:"X",x\u030C:"x",Y\u030C:"Y",y\u030C:"y",A\u0327:"A",a\u0327:"a",B\u0327:"B",b\u0327:"b",\u1E10:"D",\u1E11:"d",\u0228:"E",\u0229:"e",\u0190\u0327:"E",\u025B\u0327:"e",\u1E28:"H",\u1E29:"h",I\u0327:"I",i\u0327:"i",\u0197\u0327:"I",\u0268\u0327:"i",M\u0327:"M",m\u0327:"m",O\u0327:"O",o\u0327:"o",Q\u0327:"Q",q\u0327:"q",U\u0327:"U",u\u0327:"u",X\u0327:"X",x\u0327:"x",Z\u0327:"Z",z\u0327:"z",\u0439:"\u0438",\u0419:"\u0418",\u0451:"\u0435",\u0401:"\u0415"},y=Object.keys(B).join("|"),C=new RegExp(y,"g"),D=new RegExp(y,"");function v(b){return B[b]}var P=function(b){return b.replace(C,v)},L=function(b){return!!b.match(D)};I.exports=P,I.exports.has=L,I.exports.remove=P},"../../../node_modules/.pnpm/requires-port@1.0.0/node_modules/requires-port/index.js":I=>{"use strict";I.exports=function(y,C){if(C=C.split(":")[0],y=+y,!y)return!1;switch(C){case"http":case"ws":return y!==80;case"https":case"wss":return y!==443;case"ftp":return y!==21;case"gopher":return y!==70;case"file":return!1}return y!==0}},"../../../node_modules/.pnpm/tus-js-client@2.3.0/node_modules/tus-js-client/lib.esm/browser/index.js":(I,B,y)=>{"use strict";y.d(B,{gq:()=>$e});var C=y("../../../node_modules/.pnpm/js-base64@2.6.4/node_modules/js-base64/base64.js"),D=y("../../../node_modules/.pnpm/url-parse@1.5.10/node_modules/url-parse/index.js"),v=y.n(D);function P(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P=function(e){return typeof e}:P=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(r)}function L(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function b(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),n&&z(r,n)}function A(r){return function(){var n=T(r),e;if(X()){var t=T(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return U(this,e)}}function U(r,n){return n&&(P(n)==="object"||typeof n=="function")?n:x(r)}function x(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function O(r){var n=typeof Map=="function"?new Map:void 0;return O=function(t){if(t===null||!q(t))return t;if(typeof t!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n!="undefined"){if(n.has(t))return n.get(t);n.set(t,o)}function o(){return F(t,arguments,T(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),z(o,t)},O(r)}function F(r,n,e){return X()?F=Reflect.construct:F=function(o,u,p){var g=[null];g.push.apply(g,u);var R=Function.bind.apply(o,g),S=new R;return p&&z(S,p.prototype),S},F.apply(null,arguments)}function X(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(r){return!1}}function q(r){return Function.toString.call(r).indexOf("[native code]")!==-1}function z(r,n){return z=Object.setPrototypeOf||function(t,o){return t.__proto__=o,t},z(r,n)}function T(r){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(r)}var k=function(r){b(e,r);var n=A(e);function e(t){var o,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(L(this,e),o=n.call(this,t),o.originalRequest=p,o.originalResponse=g,o.causingError=u,u!=null&&(t+=", caused by ".concat(u.toString())),p!=null){var R=p.getHeader("X-Request-ID")||"n/a",S=p.getMethod(),K=p.getURL(),te=g?g.getStatus():"n/a",fe=g?g.getBody()||"":"n/a";t+=", originated from request (method: ".concat(S,", url: ").concat(K,", response code: ").concat(te,", response text: ").concat(fe,", request id: ").concat(R,")")}return o.message=t,o}return e}(O(Error));const N=k;var W=!1;function f(){W=!0}function s(r){W&&console.log(r)}function l(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var n=Math.random()*16|0,e=r=="x"?n:n&3|8;return e.toString(16)})}function a(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);n&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),e.push.apply(e,t)}return e}function _(r){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?a(Object(e),!0).forEach(function(t){h(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):a(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}function h(r,n,e){return n in r?Object.defineProperty(r,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[n]=e,r}function w(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function m(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function j(r,n,e){return n&&m(r.prototype,n),e&&m(r,e),r}var M={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,_onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:null,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null},Y=function(){function r(n,e){w(this,r),"resume"in e&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=e,this._urlStorage=this.options.urlStorage,this.file=n,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}return j(r,[{key:"findPreviousUploads",value:function(){var e=this;return this.options.fingerprint(this.file,this.options).then(function(t){return e._urlStorage.findUploadsByFingerprint(t)})}},{key:"resumeFromPreviousUpload",value:function(e){this.url=e.uploadUrl||null,this._parallelUploadUrls=e.parallelUploadUrls||null,this._urlStorageKey=e.urlStorageKey}},{key:"start",value:function(){var e=this,t=this.file;if(!t){this._emitError(new Error("tus: no file or stream to upload provided"));return}if(!this.options.endpoint&&!this.options.uploadUrl){this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));return}var o=this.options.retryDelays;if(o!=null&&Object.prototype.toString.call(o)!=="[object Array]"){this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"));return}this.options.parallelUploads>1&&["uploadUrl","uploadSize","uploadLengthDeferred"].forEach(function(u){e.options[u]&&e._emitError(new Error("tus: cannot use the ".concat(u," option when parallelUploads is enabled")))}),this.options.fingerprint(t,this.options).then(function(u){return u==null?s("No fingerprint was calculated meaning that the upload cannot be stored in the URL storage."):s("Calculated fingerprint: ".concat(u)),e._fingerprint=u,e._source?e._source:e.options.fileReader.openFile(t,e.options.chunkSize)}).then(function(u){e._source=u,e.options.parallelUploads>1||e._parallelUploadUrls!=null?e._startParallelUpload():e._startSingleUpload()}).catch(function(u){e._emitError(u)})}},{key:"_startParallelUpload",value:function(){var e=this,t=this._size=this._source.size,o=0;this._parallelUploads=[];var u=this._parallelUploadUrls!=null?this._parallelUploadUrls.length:this.options.parallelUploads,p=Q(this._source.size,u,this._parallelUploadUrls);this._parallelUploadUrls=new Array(p.length);var g=p.map(function(S,K){var te=0;return e._source.slice(S.start,S.end).then(function(fe){var tt=fe.value;return new Promise(function(rt,nt){var ot=_({},e.options,{uploadUrl:S.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,metadata:{},headers:_({},e.options.headers,{"Upload-Concat":"partial"}),onSuccess:rt,onError:nt,onProgress:function(re){o=o-te+re,te=re,e._emitProgress(o,t)},_onUploadUrlAvailable:function(){e._parallelUploadUrls[K]=ce.url,e._parallelUploadUrls.filter(function(re){return!!re}).length===p.length&&e._saveUploadInUrlStorage()}}),ce=new r(tt,ot);ce.start(),e._parallelUploads.push(ce)})})}),R;Promise.all(g).then(function(){R=e._openRequest("POST",e.options.endpoint),R.setHeader("Upload-Concat","final;".concat(e._parallelUploadUrls.join(" ")));var S=c(e.options.metadata);return S!==""&&R.setHeader("Upload-Metadata",S),e._sendRequest(R,null)}).then(function(S){if(!i(S.getStatus(),200)){e._emitHttpError(R,S,"tus: unexpected response while creating upload");return}var K=S.getHeader("Location");if(K==null){e._emitHttpError(R,S,"tus: invalid or missing Location header");return}e.url=V(e.options.endpoint,K),s("Created upload at ".concat(e.url)),e._emitSuccess()}).catch(function(S){e._emitError(S)})}},{key:"_startSingleUpload",value:function(){if(this.options.uploadLengthDeferred)this._size=null;else if(this.options.uploadSize!=null){if(this._size=+this.options.uploadSize,isNaN(this._size)){this._emitError(new Error("tus: cannot convert `uploadSize` option into a number"));return}}else if(this._size=this._source.size,this._size==null){this._emitError(new Error("tus: cannot automatically derive upload's size from input and must be specified manually using the `uploadSize` option"));return}if(this._aborted=!1,this.url!=null){s("Resuming upload from previous URL: ".concat(this.url)),this._resumeUpload();return}if(this.options.uploadUrl!=null){s("Resuming upload from provided URL: ".concat(this.options.url)),this.url=this.options.uploadUrl,this._resumeUpload();return}s("Creating a new upload"),this._createUpload()}},{key:"abort",value:function(e){var t=this;if(arguments.length>1&&typeof arguments[1]=="function")throw new Error("tus: the abort function does not accept a callback since v2 anymore; please use the returned Promise instead");return this._parallelUploads!=null&&this._parallelUploads.forEach(function(o){o.abort(e)}),this._req!==null&&(this._req.abort(),this._source.close()),this._aborted=!0,this._retryTimeout!=null&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),!e||this.url==null?Promise.resolve():r.terminate(this.url,this.options).then(function(){return t._removeFromUrlStorage()})}},{key:"_emitHttpError",value:function(e,t,o,u){this._emitError(new N(o,u,e,t))}},{key:"_emitError",value:function(e){var t=this;if(!this._aborted){if(this.options.retryDelays!=null){var o=this._offset!=null&&this._offset>this._offsetBeforeRetry;if(o&&(this._retryAttempt=0),Z(e,this._retryAttempt,this.options)){var u=this.options.retryDelays[this._retryAttempt++];this._offsetBeforeRetry=this._offset,this._retryTimeout=setTimeout(function(){t.start()},u);return}}if(typeof this.options.onError=="function")this.options.onError(e);else throw e}}},{key:"_emitSuccess",value:function(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),typeof this.options.onSuccess=="function"&&this.options.onSuccess()}},{key:"_emitProgress",value:function(e,t){typeof this.options.onProgress=="function"&&this.options.onProgress(e,t)}},{key:"_emitChunkComplete",value:function(e,t,o){typeof this.options.onChunkComplete=="function"&&this.options.onChunkComplete(e,t,o)}},{key:"_createUpload",value:function(){var e=this;if(!this.options.endpoint){this._emitError(new Error("tus: unable to create upload because no endpoint is provided"));return}var t=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?t.setHeader("Upload-Defer-Length",1):t.setHeader("Upload-Length",this._size);var o=c(this.options.metadata);o!==""&&t.setHeader("Upload-Metadata",o);var u;this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,u=this._addChunkToRequest(t)):u=this._sendRequest(t,null),u.then(function(p){if(!i(p.getStatus(),200)){e._emitHttpError(t,p,"tus: unexpected response while creating upload");return}var g=p.getHeader("Location");if(g==null){e._emitHttpError(t,p,"tus: invalid or missing Location header");return}if(e.url=V(e.options.endpoint,g),s("Created upload at ".concat(e.url)),typeof e.options._onUploadUrlAvailable=="function"&&e.options._onUploadUrlAvailable(),e._size===0){e._emitSuccess(),e._source.close();return}e._saveUploadInUrlStorage(),e.options.uploadDataDuringCreation?e._handleUploadResponse(t,p):(e._offset=0,e._performUpload())}).catch(function(p){e._emitHttpError(t,null,"tus: failed to create upload",p)})}},{key:"_resumeUpload",value:function(){var e=this,t=this._openRequest("HEAD",this.url),o=this._sendRequest(t,null);o.then(function(u){var p=u.getStatus();if(!i(p,200)){if(i(p,400)&&e._removeFromUrlStorage(),p===423){e._emitHttpError(t,u,"tus: upload is currently locked; retry later");return}if(!e.options.endpoint){e._emitHttpError(t,u,"tus: unable to resume upload (new upload cannot be created without an endpoint)");return}e.url=null,e._createUpload();return}var g=parseInt(u.getHeader("Upload-Offset"),10);if(isNaN(g)){e._emitHttpError(t,u,"tus: invalid or missing offset value");return}var R=parseInt(u.getHeader("Upload-Length"),10);if(isNaN(R)&&!e.options.uploadLengthDeferred){e._emitHttpError(t,u,"tus: invalid or missing length value");return}if(typeof e.options._onUploadUrlAvailable=="function"&&e.options._onUploadUrlAvailable(),g===R){e._emitProgress(R,R),e._emitSuccess();return}e._offset=g,e._performUpload()}).catch(function(u){e._emitHttpError(t,null,"tus: failed to resume upload",u)})}},{key:"_performUpload",value:function(){var e=this;if(!this._aborted){var t;this.options.overridePatchMethod?(t=this._openRequest("POST",this.url),t.setHeader("X-HTTP-Method-Override","PATCH")):t=this._openRequest("PATCH",this.url),t.setHeader("Upload-Offset",this._offset);var o=this._addChunkToRequest(t);o.then(function(u){if(!i(u.getStatus(),200)){e._emitHttpError(t,u,"tus: unexpected response while uploading chunk");return}e._handleUploadResponse(t,u)}).catch(function(u){e._aborted||e._emitHttpError(t,null,"tus: failed to upload chunk at offset ".concat(e._offset),u)})}}},{key:"_addChunkToRequest",value:function(e){var t=this,o=this._offset,u=this._offset+this.options.chunkSize;return e.setProgressHandler(function(p){t._emitProgress(o+p,t._size)}),e.setHeader("Content-Type","application/offset+octet-stream"),(u===1/0||u>this._size)&&!this.options.uploadLengthDeferred&&(u=this._size),this._source.slice(o,u).then(function(p){var g=p.value,R=p.done;return t.options.uploadLengthDeferred&&R&&(t._size=t._offset+(g&&g.size?g.size:0),e.setHeader("Upload-Length",t._size)),g===null?t._sendRequest(e):(t._emitProgress(t._offset,t._size),t._sendRequest(e,g))})}},{key:"_handleUploadResponse",value:function(e,t){var o=parseInt(t.getHeader("Upload-Offset"),10);if(isNaN(o)){this._emitHttpError(e,t,"tus: invalid or missing offset value");return}if(this._emitProgress(o,this._size),this._emitChunkComplete(o-this._offset,o,this._size),this._offset=o,o==this._size){this._emitSuccess(),this._source.close();return}this._performUpload()}},{key:"_openRequest",value:function(e,t){var o=d(e,t,this.options);return this._req=o,o}},{key:"_removeFromUrlStorage",value:function(){var e=this;this._urlStorageKey&&(this._urlStorage.removeUpload(this._urlStorageKey).catch(function(t){e._emitError(t)}),this._urlStorageKey=null)}},{key:"_saveUploadInUrlStorage",value:function(){var e=this;if(!(!this.options.storeFingerprintForResuming||!this._fingerprint)){var t={size:this._size,metadata:this.options.metadata,creationTime:new Date().toString()};this._parallelUploads?t.parallelUploadUrls=this._parallelUploadUrls:t.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,t).then(function(o){return e._urlStorageKey=o}).catch(function(o){e._emitError(o)})}}},{key:"_sendRequest",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return E(e,t,this.options)}}],[{key:"terminate",value:function(e,t){if(arguments.length>1&&typeof arguments[arguments.length-1]=="function")throw new Error("tus: the terminate function does not accept a callback since v2 anymore; please use the returned Promise instead");t===void 0&&(t={});var o=d("DELETE",e,t);return E(o,null,t).then(function(u){if(u.getStatus()!==204)throw new N("tus: unexpected response while terminating upload",null,o,u)}).catch(function(u){if(u instanceof N||(u=new N("tus: failed to terminate upload",u,o,null)),!Z(u,0,t))throw u;var p=t.retryDelays[0],g=t.retryDelays.slice(1),R=_({},t,{retryDelays:g});return new Promise(function(S){return setTimeout(S,p)}).then(function(){return r.terminate(e,R)})})}}]),r}();function c(r){var n=[];for(var e in r)n.push("".concat(e," ").concat(C.Base64.encode(r[e])));return n.join(",")}function i(r,n){return r>=n&&r<n+100}function d(r,n,e){var t=e.httpStack.createRequest(r,n);t.setHeader("Tus-Resumable","1.0.0");var o=e.headers||{};for(var u in o)t.setHeader(u,o[u]);if(e.addRequestId){var p=l();t.setHeader("X-Request-ID",p)}return t}function E(r,n,e){var t=typeof e.onBeforeRequest=="function"?Promise.resolve(e.onBeforeRequest(r)):Promise.resolve();return t.then(function(){return r.send(n).then(function(o){var u=typeof e.onAfterResponse=="function"?Promise.resolve(e.onAfterResponse(r,o)):Promise.resolve();return u.then(function(){return o})})})}function H(){var r=!0;return typeof window!="undefined"&&"navigator"in window&&window.navigator.onLine===!1&&(r=!1),r}function Z(r,n,e){if(e.retryDelays==null||n>=e.retryDelays.length||r.originalRequest==null)return!1;if(e&&typeof e.onShouldRetry=="function")return e.onShouldRetry(r,n,e);var t=r.originalResponse?r.originalResponse.getStatus():0;return(!i(t,400)||t===409||t===423)&&H()}function V(r,n){return new(v())(n,r).toString()}function Q(r,n,e){for(var t=Math.floor(r/n),o=[],u=0;u<n;u++)o.push({start:t*u,end:t*(u+1)});return o[n-1].end=r,e&&o.forEach(function(p,g){p.uploadUrl=e[g]||null}),o}Y.defaultOptions=M;const G=Y;function J(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function pe(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function Re(r,n,e){return n&&pe(r.prototype,n),e&&pe(r,e),r}var Oe=function(){function r(){J(this,r)}return Re(r,[{key:"listAllUploads",value:function(){return Promise.resolve([])}},{key:"findUploadsByFingerprint",value:function(e){return Promise.resolve([])}},{key:"removeUpload",value:function(e){return Promise.resolve()}},{key:"addUpload",value:function(e,t){return Promise.resolve(null)}}]),r}();function Ee(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function he(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function Pe(r,n,e){return n&&he(r.prototype,n),e&&he(r,e),r}var ne=!1;try{ne="localStorage"in window;var de="tusSupport";localStorage.setItem(de,localStorage.getItem(de))}catch(r){if(r.code===r.SECURITY_ERR||r.code===r.QUOTA_EXCEEDED_ERR)ne=!1;else throw r}var Ae=ne,ke=function(){function r(){Ee(this,r)}return Pe(r,[{key:"findAllUploads",value:function(){var e=this._findEntries("tus::");return Promise.resolve(e)}},{key:"findUploadsByFingerprint",value:function(e){var t=this._findEntries("tus::".concat(e,"::"));return Promise.resolve(t)}},{key:"removeUpload",value:function(e){return localStorage.removeItem(e),Promise.resolve()}},{key:"addUpload",value:function(e,t){var o=Math.round(Math.random()*1e12),u="tus::".concat(e,"::").concat(o);return localStorage.setItem(u,JSON.stringify(t)),Promise.resolve(u)}},{key:"_findEntries",value:function(e){for(var t=[],o=0;o<localStorage.length;o++){var u=localStorage.key(o);if(u.indexOf(e)===0)try{var p=JSON.parse(localStorage.getItem(u));p.urlStorageKey=u,t.push(p)}catch(g){}}return t}}]),r}();function oe(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function _e(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function ie(r,n,e){return n&&_e(r.prototype,n),e&&_e(r,e),r}var Ce=function(){function r(){oe(this,r)}return ie(r,[{key:"createRequest",value:function(e,t){return new De(e,t)}},{key:"getName",value:function(){return"XHRHttpStack"}}]),r}(),De=function(){function r(n,e){oe(this,r),this._xhr=new XMLHttpRequest,this._xhr.open(n,e,!0),this._method=n,this._url=e,this._headers={}}return ie(r,[{key:"getMethod",value:function(){return this._method}},{key:"getURL",value:function(){return this._url}},{key:"setHeader",value:function(e,t){this._xhr.setRequestHeader(e,t),this._headers[e]=t}},{key:"getHeader",value:function(e){return this._headers[e]}},{key:"setProgressHandler",value:function(e){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(t){t.lengthComputable&&e(t.loaded)})}},{key:"send",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return new Promise(function(o,u){e._xhr.onload=function(){o(new je(e._xhr))},e._xhr.onerror=function(p){u(p)},e._xhr.send(t)})}},{key:"abort",value:function(){return this._xhr.abort(),Promise.resolve()}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),r}(),je=function(){function r(n){oe(this,r),this._xhr=n}return ie(r,[{key:"getStatus",value:function(){return this._xhr.status}},{key:"getHeader",value:function(e){return this._xhr.getResponseHeader(e)}},{key:"getBody",value:function(){return this._xhr.responseText}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),r}(),Ie=function(){return typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"};const me=Ie;function qe(r){return new Promise(function(n,e){var t=new XMLHttpRequest;t.responseType="blob",t.onload=function(){var o=t.response;n(o)},t.onerror=function(o){e(o)},t.open("GET",r),t.send()})}var He=function(){return typeof window!="undefined"&&(typeof window.PhoneGap!="undefined"||typeof window.Cordova!="undefined"||typeof window.cordova!="undefined")};const Be=He;function Fe(r){return new Promise(function(n,e){var t=new FileReader;t.onload=function(){var o=new Uint8Array(t.result);n({value:o})},t.onerror=function(o){e(o)},t.readAsArrayBuffer(r)})}function ae(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function ve(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function ue(r,n,e){return n&&ve(r.prototype,n),e&&ve(r,e),r}var ge=function(){function r(n){ae(this,r),this._file=n,this.size=n.size}return ue(r,[{key:"slice",value:function(e,t){if(Be())return Fe(this._file.slice(e,t));var o=this._file.slice(e,t);return Promise.resolve({value:o})}},{key:"close",value:function(){}}]),r}(),ze=function(){function r(n,e){ae(this,r),this._chunkSize=e,this._buffer=void 0,this._bufferOffset=0,this._reader=n,this._done=!1}return ue(r,[{key:"slice",value:function(e,t){return e<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(e,t)}},{key:"_readUntilEnoughDataOrDone",value:function(e,t){var o=this,u=t<=this._bufferOffset+ye(this._buffer);if(this._done||u){var p=this._getDataFromBuffer(e,t),g=p==null?this._done:!1;return Promise.resolve({value:p,done:g})}return this._reader.read().then(function(R){var S=R.value,K=R.done;return K?o._done=!0:o._buffer===void 0?o._buffer=S:o._buffer=Te(o._buffer,S),o._readUntilEnoughDataOrDone(e,t)})}},{key:"_getDataFromBuffer",value:function(e,t){e>this._bufferOffset&&(this._buffer=this._buffer.slice(e-this._bufferOffset),this._bufferOffset=e);var o=ye(this._buffer)===0;return this._done&&o?null:this._buffer.slice(0,t-e)}},{key:"close",value:function(){this._reader.cancel&&this._reader.cancel()}}]),r}();function ye(r){return r===void 0?0:r.size!==void 0?r.size:r.length}function Te(r,n){if(r.concat)return r.concat(n);if(r instanceof Blob)return new Blob([r,n],{type:r.type});if(r.set){var e=new r.constructor(r.length+n.length);return e.set(r),e.set(n,r.length),e}throw new Error("Unknown data type")}var Le=function(){function r(){ae(this,r)}return ue(r,[{key:"openFile",value:function(e,t){return me()&&e&&typeof e.uri!="undefined"?qe(e.uri).then(function(o){return new ge(o)}).catch(function(o){throw new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(o))}):typeof e.slice=="function"&&typeof e.size!="undefined"?Promise.resolve(new ge(e)):typeof e.read=="function"?(t=+t,isFinite(t)?Promise.resolve(new ze(e,t)):Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option"))):Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment"))}}]),r}();function Ne(r,n){return me()?Promise.resolve(Me(r,n)):Promise.resolve(["tus-br",r.name,r.type,r.size,r.lastModified,n.endpoint].join("-"))}function Me(r,n){var e=r.exif?Ke(JSON.stringify(r.exif)):"noexif";return["tus-rn",r.name||"noname",r.size||"nosize",e,n.endpoint].join("/")}function Ke(r){var n=0;if(r.length===0)return n;for(var e=0;e<r.length;e++){var t=r.charCodeAt(e);n=(n<<5)-n+t,n&=n}return n}function $(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$=function(e){return typeof e}:$=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(r)}function Xe(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function be(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function We(r,n,e){return n&&be(r.prototype,n),e&&be(r,e),r}function Ye(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),n&&se(r,n)}function se(r,n){return se=Object.setPrototypeOf||function(t,o){return t.__proto__=o,t},se(r,n)}function Ze(r){return function(){var n=ee(r),e;if(Ve()){var t=ee(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return Ge(this,e)}}function Ge(r,n){return n&&($(n)==="object"||typeof n=="function")?n:Je(r)}function Je(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Ve(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(r){return!1}}function ee(r){return ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(r)}function Ue(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);n&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),e.push.apply(e,t)}return e}function le(r){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?Ue(Object(e),!0).forEach(function(t){Qe(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Ue(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}function Qe(r,n,e){return n in r?Object.defineProperty(r,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[n]=e,r}var we=le({},G.defaultOptions,{httpStack:new Ce,fileReader:new Le,urlStorage:Ae?new ke:new Oe,fingerprint:Ne}),$e=function(r){Ye(e,r);var n=Ze(e);function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Xe(this,e),o=le({},we,{},o),n.call(this,t,o)}return We(e,null,[{key:"terminate",value:function(o,u,p){return u=le({},we,{},u),G.terminate(o,u,p)}}]),e}(G),Se=window,et=Se.XMLHttpRequest,xe=Se.Blob,at=et&&xe&&typeof xe.prototype.slice=="function"},"../../../node_modules/.pnpm/url-parse@1.5.10/node_modules/url-parse/index.js":(I,B,y)=>{"use strict";var C=y("../../../node_modules/.pnpm/requires-port@1.0.0/node_modules/requires-port/index.js"),D=y("../../../node_modules/.pnpm/querystringify@2.2.0/node_modules/querystringify/index.js"),v=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,P=/[\n\r\t]/g,L=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,b=/:\d+$/,A=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,U=/^[a-zA-Z]:/;function x(f){return(f||"").toString().replace(v,"")}var O=[["#","hash"],["?","query"],function(s,l){return q(l.protocol)?s.replace(/\\/g,"/"):s},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],F={hash:1,query:1};function X(f){var s;typeof window!="undefined"?s=window:typeof y.g!="undefined"?s=y.g:typeof self!="undefined"?s=self:s={};var l=s.location||{};f=f||l;var a={},_=typeof f,h;if(f.protocol==="blob:")a=new k(unescape(f.pathname),{});else if(_==="string"){a=new k(f,{});for(h in F)delete a[h]}else if(_==="object"){for(h in f)h in F||(a[h]=f[h]);a.slashes===void 0&&(a.slashes=L.test(f.href))}return a}function q(f){return f==="file:"||f==="ftp:"||f==="http:"||f==="https:"||f==="ws:"||f==="wss:"}function z(f,s){f=x(f),f=f.replace(P,""),s=s||{};var l=A.exec(f),a=l[1]?l[1].toLowerCase():"",_=!!l[2],h=!!l[3],w=0,m;return _?h?(m=l[2]+l[3]+l[4],w=l[2].length+l[3].length):(m=l[2]+l[4],w=l[2].length):h?(m=l[3]+l[4],w=l[3].length):m=l[4],a==="file:"?w>=2&&(m=m.slice(2)):q(a)?m=l[4]:a?_&&(m=m.slice(2)):w>=2&&q(s.protocol)&&(m=l[4]),{protocol:a,slashes:_||q(a),slashesCount:w,rest:m}}function T(f,s){if(f==="")return s;for(var l=(s||"/").split("/").slice(0,-1).concat(f.split("/")),a=l.length,_=l[a-1],h=!1,w=0;a--;)l[a]==="."?l.splice(a,1):l[a]===".."?(l.splice(a,1),w++):w&&(a===0&&(h=!0),l.splice(a,1),w--);return h&&l.unshift(""),(_==="."||_==="..")&&l.push(""),l.join("/")}function k(f,s,l){if(f=x(f),f=f.replace(P,""),!(this instanceof k))return new k(f,s,l);var a,_,h,w,m,j,M=O.slice(),Y=typeof s,c=this,i=0;for(Y!=="object"&&Y!=="string"&&(l=s,s=null),l&&typeof l!="function"&&(l=D.parse),s=X(s),_=z(f||"",s),a=!_.protocol&&!_.slashes,c.slashes=_.slashes||a&&s.slashes,c.protocol=_.protocol||s.protocol||"",f=_.rest,(_.protocol==="file:"&&(_.slashesCount!==2||U.test(f))||!_.slashes&&(_.protocol||_.slashesCount<2||!q(c.protocol)))&&(M[3]=[/(.*)/,"pathname"]);i<M.length;i++){if(w=M[i],typeof w=="function"){f=w(f,c);continue}h=w[0],j=w[1],h!==h?c[j]=f:typeof h=="string"?(m=h==="@"?f.lastIndexOf(h):f.indexOf(h),~m&&(typeof w[2]=="number"?(c[j]=f.slice(0,m),f=f.slice(m+w[2])):(c[j]=f.slice(m),f=f.slice(0,m)))):(m=h.exec(f))&&(c[j]=m[1],f=f.slice(0,m.index)),c[j]=c[j]||a&&w[3]&&s[j]||"",w[4]&&(c[j]=c[j].toLowerCase())}l&&(c.query=l(c.query)),a&&s.slashes&&c.pathname.charAt(0)!=="/"&&(c.pathname!==""||s.pathname!=="")&&(c.pathname=T(c.pathname,s.pathname)),c.pathname.charAt(0)!=="/"&&q(c.protocol)&&(c.pathname="/"+c.pathname),C(c.port,c.protocol)||(c.host=c.hostname,c.port=""),c.username=c.password="",c.auth&&(m=c.auth.indexOf(":"),~m?(c.username=c.auth.slice(0,m),c.username=encodeURIComponent(decodeURIComponent(c.username)),c.password=c.auth.slice(m+1),c.password=encodeURIComponent(decodeURIComponent(c.password))):c.username=encodeURIComponent(decodeURIComponent(c.auth)),c.auth=c.password?c.username+":"+c.password:c.username),c.origin=c.protocol!=="file:"&&q(c.protocol)&&c.host?c.protocol+"//"+c.host:"null",c.href=c.toString()}function N(f,s,l){var a=this;switch(f){case"query":typeof s=="string"&&s.length&&(s=(l||D.parse)(s)),a[f]=s;break;case"port":a[f]=s,C(s,a.protocol)?s&&(a.host=a.hostname+":"+s):(a.host=a.hostname,a[f]="");break;case"hostname":a[f]=s,a.port&&(s+=":"+a.port),a.host=s;break;case"host":a[f]=s,b.test(s)?(s=s.split(":"),a.port=s.pop(),a.hostname=s.join(":")):(a.hostname=s,a.port="");break;case"protocol":a.protocol=s.toLowerCase(),a.slashes=!l;break;case"pathname":case"hash":if(s){var _=f==="pathname"?"/":"#";a[f]=s.charAt(0)!==_?_+s:s}else a[f]=s;break;case"username":case"password":a[f]=encodeURIComponent(s);break;case"auth":var h=s.indexOf(":");~h?(a.username=s.slice(0,h),a.username=encodeURIComponent(decodeURIComponent(a.username)),a.password=s.slice(h+1),a.password=encodeURIComponent(decodeURIComponent(a.password))):a.username=encodeURIComponent(decodeURIComponent(s))}for(var w=0;w<O.length;w++){var m=O[w];m[4]&&(a[m[1]]=a[m[1]].toLowerCase())}return a.auth=a.password?a.username+":"+a.password:a.username,a.origin=a.protocol!=="file:"&&q(a.protocol)&&a.host?a.protocol+"//"+a.host:"null",a.href=a.toString(),a}function W(f){(!f||typeof f!="function")&&(f=D.stringify);var s,l=this,a=l.host,_=l.protocol;_&&_.charAt(_.length-1)!==":"&&(_+=":");var h=_+(l.protocol&&l.slashes||q(l.protocol)?"//":"");return l.username?(h+=l.username,l.password&&(h+=":"+l.password),h+="@"):l.password?(h+=":"+l.password,h+="@"):l.protocol!=="file:"&&q(l.protocol)&&!a&&l.pathname!=="/"&&(h+="@"),(a[a.length-1]===":"||b.test(l.hostname)&&!l.port)&&(a+=":"),h+=a+l.pathname,s=typeof l.query=="object"?f(l.query):l.query,s&&(h+=s.charAt(0)!=="?"?"?"+s:s),l.hash&&(h+=l.hash),h}k.prototype={set:N,toString:W},k.extractProtocol=z,k.location=X,k.trimLeft=x,k.qs=D,I.exports=k}}]);})();
