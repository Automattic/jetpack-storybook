"use strict";(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[4555],{"../connection/components/use-connection/index.jsx":(ce,B,i)=>{i.d(B,{Z:()=>N});var d=i("../api/index.jsx"),g=i("../../../node_modules/.pnpm/@wordpress+data@9.0.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-dispatch/use-dispatch.js"),I=i("../../../node_modules/.pnpm/@wordpress+data@9.0.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-select/index.js"),E=i("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),u=i("../connection/state/store.jsx");const l=window!=null&&window.JP_CONNECTION_INITIAL_STATE?window.JP_CONNECTION_INITIAL_STATE:{},N=function(){let{registrationNonce:F=l.registrationNonce,apiRoot:L=l.apiRoot,apiNonce:A=l.apiNonce,redirectUri:S,autoTrigger:f,from:j,skipUserConnection:y}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{registerSite:H,connectUser:b,refreshConnectedPlugins:O}=(0,g.Z)(u.t),D=(0,I.Z)(m=>m(u.t).getRegistrationError()),{siteIsRegistering:R,userIsConnecting:T,userConnectionData:p,connectedPlugins:M,connectionErrors:x,isRegistered:w,isUserConnected:W,hasConnectedOwner:ee}=(0,I.Z)(m=>({siteIsRegistering:m(u.t).getSiteIsRegistering(),userIsConnecting:m(u.t).getUserIsConnecting(),userConnectionData:m(u.t).getUserConnectionData(),connectedPlugins:m(u.t).getConnectedPlugins(),connectionErrors:m(u.t).getConnectionErrors(),...m(u.t).getConnectionStatus()})),U=()=>{if(y){if(S)return window.location=S,Promise.resolve(S)}else return b({from:j,redirectUri:S});return Promise.resolve()},G=m=>(m&&m.preventDefault(),w?U():H({registrationNonce:F,redirectUri:S}).then(()=>U()));return(0,E.useEffect)(()=>{d.ZP.setApiRoot(L),d.ZP.setApiNonce(A)},[L,A]),(0,E.useEffect)(()=>{f&&!R&&!T&&G()},[]),{handleRegisterSite:G,handleConnectUser:U,refreshConnectedPlugins:O,isRegistered:w,isUserConnected:W,siteIsRegistering:R,userIsConnecting:T,registrationError:D,userConnectionData:p,hasConnectedOwner:ee,connectedPlugins:M,connectionErrors:x}}},"../connection/state/store.jsx":(ce,B,i)=>{i.d(B,{t:()=>Z});var d=i("../api/index.jsx");const g="SET_CONNECTION_STATUS",I="SET_CONNECTION_STATUS_IS_FETCHING",E="FETCH_CONNECTION_STATUS",u="SET_SITE_IS_REGISTERING",l="SET_USER_IS_CONNECTING",N="SET_REGISTRATION_ERROR",F="CLEAR_REGISTRATION_ERROR",L="REGISTER_SITE",A="SET_AUTHORIZATION_URL",S="CONNECT_USER",f="DISCONNECT_USER_SUCCESS",j="FETCH_AUTHORIZATION_URL",y="SET_CONNECTED_PLUGINS",H="REFRESH_CONNECTED_PLUGINS",b="SET_CONNECTION_ERRORS",O=n=>({type:g,connectionStatus:n}),D=n=>({type:I,isFetching:n}),R=()=>({type:E}),T=n=>({type:u,isRegistering:n}),p=n=>({type:l,isConnecting:n}),M=()=>({type:f}),x=n=>({type:N,registrationError:n}),w=()=>({type:F}),W=n=>({type:A,authorizationUrl:n}),ee=n=>({type:j,redirectUri:n}),U=n=>({type:y,connectedPlugins:n}),G=n=>({type:b,connectionErrors:n});function m(){let{from:n,redirectFunc:o,redirectUri:c}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function*(){yield p(!0),yield{type:S,from:n,redirectFunc:o,redirectUri:c}}()}function ue(n){let{registrationNonce:o,redirectUri:c}=n;return function*(){yield w(),yield T(!0);try{const _=yield{type:L,registrationNonce:o,redirectUri:c};return yield O({isRegistered:!0}),yield W(_.authorizeUrl),yield T(!1),Promise.resolve(_)}catch(_){return yield x(_),yield T(!1),Promise.reject(_)}}()}const te={setConnectionStatus:O,setConnectionStatusIsFetching:D,fetchConnectionStatus:R,fetchAuthorizationUrl:ee,setSiteIsRegistering:T,setUserIsConnecting:p,setRegistrationError:x,clearRegistrationError:w,setAuthorizationUrl:W,registerSite:ue,connectUser:m,disconnectUserSuccess:M,setConnectedPlugins:U,refreshConnectedPlugins:()=>async n=>{let{dispatch:o}=n;return await new Promise(c=>d.ZP.fetchConnectedPlugins().then(_=>{o(U(_)),c(_)}))},setConnectionErrors:G};var le=i("../../../node_modules/.pnpm/@wordpress+data@9.0.0_react@18.2.0/node_modules/@wordpress/data/build-module/factory.js");const Z="jetpack-connection",de=n=>{let{registrationNonce:o,redirectUri:c}=n;return d.ZP.registerSite(o,c)},se=(0,le.R)(n=>{let{resolveSelect:o}=n;return function(){let{from:c,redirectFunc:_,redirectUri:V}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise((oe,Ce)=>{o(Z).getAuthorizationUrl(V).then($=>{const Ie=_||(J=>window.location.assign(J)),ie=new URL($);c&&ie.searchParams.set("from",encodeURIComponent(c));const z=ie.toString();Ie(z),oe(z)}).catch($=>{Ce($)})})}}),ge={FETCH_AUTHORIZATION_URL:n=>{let{redirectUri:o}=n;return d.ZP.fetchAuthorizationUrl(o)},REGISTER_SITE:de,CONNECT_USER:se};var P=i("../../../node_modules/.pnpm/@wordpress+data@9.0.0_react@18.2.0/node_modules/@wordpress/data/build-module/index.js");const Ee=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;switch(o.type){case g:return{...n,...o.connectionStatus};case f:return{...n,isUserConnected:!1}}return n},v=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;switch(o.type){case y:return o.connectedPlugins}return n},_e=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case I:return o.isFetching}return n},Pe=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case u:return o.isRegistering}return n},Ne=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case l:return o.isConnecting}return n},ye=(n,o)=>{switch(o.type){case F:return!1;case N:return o.registrationError;default:return n}},Oe=(n,o)=>{switch(o.type){case A:return o.authorizationUrl;default:return n}},Ue=(n,o)=>{switch(o.type){default:return n}},ve=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;switch(o.type){case b:return o.connectionErrors}return n},me=(0,P.UY)({connectionStatus:Ee,connectionStatusIsFetching:_e,siteIsRegistering:Pe,userIsConnecting:Ne,registrationError:ye,authorizationUrl:Oe,userConnectionData:Ue,connectedPlugins:v,connectionErrors:ve}),re={...{getAuthorizationUrl:{isFulfilled:function(n){const o=!!n.authorizationUrl;for(var c=arguments.length,_=new Array(c>1?c-1:0),V=1;V<c;V++)_[V-1]=arguments[V];const oe=(0,P.Ys)(Z).hasFinishedResolution("getAuthorizationUrl",_);return o&&!oe&&(0,P.WI)(Z).finishResolution("getAuthorizationUrl",_),o},*fulfill(n){const o=yield te.fetchAuthorizationUrl(n);yield te.setAuthorizationUrl(o.authorizeUrl)}}}},Se={...{getConnectionStatus:n=>n.connectionStatus||{},getConnectionStatusIsFetching:()=>!1,getSiteIsRegistering:n=>n.siteIsRegistering||!1,getUserIsConnecting:n=>n.userIsConnecting||!1,getRegistrationError:n=>n.registrationError||!1,getAuthorizationUrl:n=>n.authorizationUrl||!1,getUserConnectionData:n=>n.userConnectionData||!1,getConnectedPlugins:n=>n.connectedPlugins||[],getConnectionErrors:n=>n.connectionErrors||[],getWpcomUser:n=>{var o,c;return(c=(o=n==null?void 0:n.userConnectionData)==null?void 0:o.currentUser)==null?void 0:c.wpcomUser},getBlogId:n=>{var o,c;return(c=(o=n==null?void 0:n.userConnectionData)==null?void 0:o.currentUser)==null?void 0:c.blogId}}};var Te=i("../../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/defineProperty.js"),pe=i.n(Te),ke=i("../../../node_modules/.pnpm/@wordpress+data@9.0.0_react@18.2.0/node_modules/@wordpress/data/build-module/redux-store/index.js");class k{static mayBeInit(o,c){k.store===null&&(k.store=(0,ke.Z)(o,c),(0,P.z2)(k.store))}}pe()(k,"store",null);const ne=k,he=window.JP_CONNECTION_INITIAL_STATE;he||console.error("Jetpack Connection package: Initial state is missing. Check documentation to see how to use the Connection composer package to set up the initial state."),ne.mayBeInit(Z,{__experimentalUseThunks:!0,reducer:me,actions:te,selectors:Se,resolvers:re,controls:ge,initialState:he||{}})},"../../packages/my-jetpack/_inc/components/product-card/action-buton.jsx":(ce,B,i)=>{i.d(B,{N:()=>l,Z:()=>F});var d=i("../components/components/button/index.tsx"),g=i("../../../node_modules/.pnpm/@wordpress+i18n@4.30.0/node_modules/@wordpress/i18n/build-module/index.js"),I=i("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),E=i("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const u=g.__,l={ACTIVE:"active",INACTIVE:"inactive",ERROR:"error",ABSENT:"plugin_absent",ABSENT_WITH_PLAN:"plugin_absent_with_plan",NEEDS_PURCHASE:"needs_purchase",NEEDS_PURCHASE_OR_FREE:"needs_purchase_or_free"},N=L=>{let{status:A,admin:S,name:f,onActivate:j,onManage:y,onFixConnection:H,isFetching:b,isInstallingStandalone:O,className:D,onAdd:R}=L;if(!S)return(0,E.jsx)(d.Z,{...p,size:"small",variant:"link",weight:"regular",children:(0,g.gB)(u("Learn about %s","jetpack-my-jetpack"),f)});const T=b||O,p={variant:T?void 0:"primary",disabled:T,className:D};switch(A){case l.ABSENT:case l.ABSENT_WITH_PLAN:return(0,E.jsxs)(d.Z,{...p,size:"small",variant:"link",weight:"regular",children:[A===l.ABSENT&&(0,g.gB)(u("Get %s","jetpack-my-jetpack"),f),A===l.ABSENT_WITH_PLAN&&(0,g.gB)(u("Install %s","jetpack-my-jetpack"),f)]});case l.NEEDS_PURCHASE:return(0,E.jsx)(d.Z,{...p,size:"small",weight:"regular",onClick:R,children:u("Purchase","jetpack-my-jetpack")});case l.NEEDS_PURCHASE_OR_FREE:return(0,E.jsx)(d.Z,{...p,size:"small",weight:"regular",onClick:R,children:u("Start for free","jetpack-my-jetpack")});case l.ACTIVE:return(0,E.jsx)(d.Z,{...p,size:"small",weight:"regular",variant:"secondary",onClick:y,children:u("Manage","jetpack-my-jetpack")});case l.ERROR:return(0,E.jsx)(d.Z,{...p,size:"small",weight:"regular",onClick:H,children:u("Fix connection","jetpack-my-jetpack")});case l.INACTIVE:return(0,E.jsx)(d.Z,{...p,size:"small",weight:"regular",variant:"secondary",onClick:j,children:u("Activate","jetpack-my-jetpack")});default:return null}};N.__docgenInfo={description:"",methods:[],displayName:"ActionButton"};const F=N},"../../packages/my-jetpack/_inc/state/store.js":(ce,B,i)=>{i.d(B,{t:()=>He,N:()=>Me});var d=i("../connection/state/store.jsx"),g=i("../../../node_modules/.pnpm/@wordpress+api-fetch@6.27.0/node_modules/@wordpress/api-fetch/build-module/index.js"),I=i("../../../node_modules/.pnpm/@wordpress+i18n@4.30.0/node_modules/@wordpress/i18n/build-module/index.js");const E="my-jetpack/v1",u=`${E}/site/purchases`,l=`${E}/site/products`,N=`${E}/chat/availability`,F=["scan"],L="videopress",A="videopress/v1/stats/featured",S=I.__,f="SET_PURCHASES_IS_FETCHING",j="FETCH_PURCHASES",y="SET_PURCHASES",H="SET_AVAILABLE_LICENSES_IS_FETCHING",b="FETCH_AVAILABLE_LICENSES",O="SET_AVAILABLE_LICENSES",D="SET_IS_FETCHING_PRODUCT",R="SET_PRODUCT",T="SET_PRODUCT_REQUEST_ERROR",p="ACTIVATE_PRODUCT",M="SET_PRODUCT_STATUS",x="SET_CHAT_AVAILABILITY_IS_FETCHING",w="SET_CHAT_AVAILABILITY",W="SET_GLOBAL_NOTICE",ee="CLEAN_GLOBAL_NOTICE",U="SET_PRODUCT_STATS",G="SET_IS_FETCHING_PRODUCT_STATS",m=e=>({type:f,isFetching:e}),ue=e=>({type:x,isFetching:e}),fe=()=>({type:j}),te=e=>({type:y,purchases:e}),le=e=>({type:w,chatAvailability:e}),Re=e=>({type:H,isFetching:e}),Z=()=>({type:b}),de=e=>({type:O,availableLicenses:e}),se=e=>({type:R,product:e}),K=(e,t)=>({type:T,productId:e,error:t}),ge=(e,t)=>({type:M,productId:e,status:t}),P=(e,t)=>({type:"SET_GLOBAL_NOTICE",message:e,options:t}),Ee=()=>({type:"CLEAN_GLOBAL_NOTICE"});function v(e,t){return{type:D,productId:e,isFetching:t}}function _e(e,t,r){let{select:s,dispatch:a,registry:Q}=r;return new Promise((X,Ae)=>{if(!s.isValidProduct(e)){const C=S("Invalid product name","jetpack-my-jetpack"),ae=new Error(C);a(K(e,ae)),a(P(C,{status:"error",isDismissible:!0})),Ae(ae);return}const q=t.activate?"POST":"DELETE";return a(v(e,!0)),(0,g.Z)({path:`${l}/${e}`,method:q}).then(C=>{a(v(e,!1)),a(se(C)),Q.dispatch(d.t).refreshConnectedPlugins(),X(C==null?void 0:C.status)}).catch(C=>{const{name:ae}=s.getProduct(e),We=(0,I.gB)(S("Failed to activate %1$s. Please try again","jetpack-my-jetpack"),ae);a(v(e,!1)),a(K(e,C)),a(P(We,{status:"error",isDismissible:!0})),Ae(C)})})}const Fe={setPurchasesIsFetching:m,setChatAvailabilityIsFetching:ue,fetchPurchases:fe,setPurchases:te,setChatAvailability:le,setAvailableLicensesIsFetching:Re,fetchAvailableLicenses:Z,setAvailableLicenses:de,setProductStats:(e,t)=>({type:U,productId:e,stats:t}),setIsFetchingProductStats:(e,t)=>({type:G,productId:e,isFetching:t}),...{setGlobalNotice:P,cleanGlobalNotice:Ee},...{setProduct:se,activateProduct:e=>async t=>await _e(e,{activate:!0},t),installStandalonePluginForProduct:e=>async t=>{const{select:r,dispatch:s,registry:a}=t;return await new Promise((Q,X)=>{if(!r.isValidProduct(e)){const h=S("Invalid product name","jetpack-my-jetpack"),q=new Error(h);s(K(e,q)),s(P(h,{status:"error",isDismissible:!0})),X(q);return}return s(v(e,!0)),(0,g.Z)({path:`${l}/${e}/install-standalone`,method:"POST"}).then(h=>{s(v(e,!1)),s(se(h)),a.dispatch(d.t).refreshConnectedPlugins(),Q(h==null?void 0:h.standalone_plugin_info)}).catch(h=>{const{name:q}=r.getProduct(e),C=(0,I.gB)(S("Failed to install standalone plugin for %1$s: %2$s. Please try again","jetpack-my-jetpack"),q,h.message);s(v(e,!1)),s(K(e,h)),s(P(C,{status:"error",isDismissible:!0})),X(h)})})},setIsFetchingProduct:v,setRequestProductError:K,setProductStatus:ge}};function me(){return new Promise((e,t)=>{(0,g.Z)({path:u}).then(e).catch(t)})}const Le={[j]:me};var re=i("../../../node_modules/.pnpm/@wordpress+data@9.0.0_react@18.2.0/node_modules/@wordpress/data/build-module/index.js");const je=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:{const{productId:r,isFetching:s}=t;return{...e,isFetching:{...e.isFetching,[r]:s},errors:{...e.errors,[r]:s?void 0:e.errors[r]}}}case M:{const{productId:r,status:s}=t;return{...e,items:{...e.items,[r]:{...e.items[r],status:s}}}}case R:{const{product:r}=t,{slug:s}=r;return{...e,items:{...e.items,[s]:r}}}case T:{const{productId:r,error:s}=t;return{...e,errors:{...e.errors,[r]:s}}}default:return e}},be=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{...e,isFetching:t.isFetching};case y:return{...e,items:(t==null?void 0:t.purchases)||[]};default:return e}},De=function(){var r;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{isFetching:!1,isAvailable:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{...e,isFetching:t.isFetching};case w:return{...e,isAvailable:(r=t==null?void 0:t.chatAvailability)==null?void 0:r.is_available};default:return e}},we=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return{...e,isFetching:t.isFetching};case O:return{...e,items:(t==null?void 0:t.availableLicenses)||[]};default:return e}},Se=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{global:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:{const{message:r,options:s}=t;return{...e,global:{message:r,options:s}}}case ee:return{...e,global:{}};default:return e}},Te=function(){return arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}},pe=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:{const{productId:r,isFetching:s}=t;return{...e,isFetching:{...e.isFetching,[r]:s}}}case U:{const{productId:r,stats:s}=t;return{...e,items:{...e.items,[r]:s}}}default:return e}},k=(0,re.UY)({products:je,purchases:be,chatAvailability:De,availableLicenses:we,notices:Se,plugins:Te,stats:pe});var ne=i("../api/index.jsx");const n=async()=>(0,g.Z)({path:A}),c=async e=>e===L?n():null,_=I.__,Ce={...{getProduct:{isFulfilled:(e,t)=>{var s;return(((s=e==null?void 0:e.products)==null?void 0:s.items)||{}).hasOwnProperty(t)&&!F.includes(t)},fulfill:e=>async t=>{let{dispatch:r}=t;try{r.setIsFetchingProduct(e,!0);const s=await(0,g.Z)({path:`${l}/${e}`});return r.setProduct(s),r.setIsFetchingProduct(e,!1),Promise.resolve()}catch(s){if(r.setIsFetchingProduct(e,!1),s!=null&&s.code&&(s!=null&&s.message))return r.setRequestProductError(e,s),Promise.reject(s);throw new Error(s)}}},getPurchases:()=>async e=>{let{dispatch:t}=e;t.setPurchasesIsFetching(!0);try{t.setPurchases(await(0,g.Z)({path:u})),t.setPurchasesIsFetching(!1)}catch(r){t.setPurchasesIsFetching(!1),r.code!=="not_connected"&&t.setGlobalNotice(_("There was an error fetching your purchases information. Check your site connectivity and try again.","jetpack-my-jetpack"),{status:"error"})}},getChatAvailability:()=>async e=>{let{dispatch:t}=e;t.setChatAvailabilityIsFetching(!0);try{t.setChatAvailability(await(0,g.Z)({path:N})),t.setChatAvailabilityIsFetching(!1)}catch(r){t.setChatAvailabilityIsFetching(!1)}},getAvailableLicenses:()=>async e=>{let{dispatch:t}=e;t.setAvailableLicensesIsFetching(!0);try{const{apiRoot:r,apiNonce:s}=(window==null?void 0:window.myJetpackRest)||{};ne.ZP.setApiRoot(r),ne.ZP.setApiNonce(s);const a=await ne.ZP.getUserLicenses();a&&a.items?t.setAvailableLicenses(a.items.filter(Q=>{let{attached_at:X}=Q;return X===null})):t.setAvailableLicenses([])}catch(r){t.setAvailableLicenses([])}finally{t.setAvailableLicensesIsFetching(!1)}}},getProductStats:{isFulfilled:(e,t)=>{var r,s;return((s=(r=e.stats)==null?void 0:r.items)==null?void 0:s.hasOwnProperty(t))||!1},fulfill:e=>async t=>{let{dispatch:r}=t;try{r.setIsFetchingProductStats(e,!0);const s=await c(e);return r.setProductStats(e,s),r.setIsFetchingProductStats(e,!1),Promise.resolve()}catch(s){if(r.setProductStats(e,null),r.setIsFetchingProductStats(e,!1),s!=null&&s.code&&(s!=null&&s.message))return Promise.reject(s);throw new Error(s)}}}};var $=i("../../packages/my-jetpack/_inc/components/product-card/action-buton.jsx");function Ie(e){return e.replace(/([-_][a-z])/gi,t=>t.toUpperCase().replace("_",""))}function ie(e){return e.indexOf("_")!==-1}function z(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=Object.assign({},e);for(const s in r)r.hasOwnProperty(s)&&ie(s)&&(r[Ie(s)]=r[s],t&&delete r[s]);return r}const J=e=>{var t;return((t=e.products)==null?void 0:t.items)||{}},Be=e=>Object.keys(J(e)),xe={...{getProducts:J,getProductNames:Be,getProduct:(e,t)=>{var a;const r=((a=J(e))==null?void 0:a[t])||{},s=z(r,!0);return s.standalonePluginInfo=z(s.standalonePluginInfo||{},!0),s.pricingForUi=z(s.pricingForUi||{},!0),s.pricingForUi.introductoryOffer=s.pricingForUi.isIntroductoryOffer?z(s.pricingForUi.introductoryOffer,!0):null,s.features=s.features||[],s.supportedProducts=s.supportedProducts||[],s.pricingForUi.fullPricePerMonth=Math.ceil(s.pricingForUi.fullPrice/12*100)/100,s.pricingForUi.discountPricePerMonth=Math.ceil(s.pricingForUi.discountPrice/12*100)/100,s},isValidProduct:(e,t)=>Be(e).includes(t),isFetching:(e,t)=>{var r,s;return((s=(r=e.products)==null?void 0:r.isFetching)==null?void 0:s[t])||!1},getProductsThatRequiresUserConnection:e=>{const t=J(e);return Object.keys(t).reduce((r,s)=>{const a=t[s];return(a==null?void 0:a.requires_user_connection)&&((a==null?void 0:a.status)===$.N.ACTIVE||(a==null?void 0:a.status)===$.N.ERROR)&&r.push(a==null?void 0:a.name),r},[])}},...{getPurchases:e=>{var t;return((t=e.purchases)==null?void 0:t.items)||[]},isRequestingPurchases:e=>{var t;return((t=e.purchases)==null?void 0:t.isFetching)||!1}},...{getChatAvailability:e=>e.chatAvailability.isAvailable,isRequestingChatAvailability:e=>e.chatAvailability.isFetching},...{getAvailableLicenses:e=>{var t;return((t=e.availableLicenses)==null?void 0:t.items)||[]},isFetchingAvailableLicenses:e=>{var t;return((t=e.availableLicenses)==null?void 0:t.isFetching)||!1}},...{getGlobalNotice:e=>{var t;return(t=e.notices)==null?void 0:t.global}},...{hasStandalonePluginInstalled:e=>Object.values(e.plugins).filter(t=>["jetpack-backup","jetpack-boost","jetpack-protect","jetpack-search","jetpack-social","jetpack-videopress"].indexOf(t.TextDomain)>=0).length>0},...{getProductStats:(e,t)=>{var r,s;return(s=(r=e.stats)==null?void 0:r.items)==null?void 0:s[t]},isFetchingProductStats:(e,t)=>{var r,s;return((s=(r=e.stats)==null?void 0:r.isFetching)==null?void 0:s[t])||!1}}};var Ge=i("../../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/defineProperty.js"),Ze=i.n(Ge),Ve=i("../../../node_modules/.pnpm/@wordpress+data@9.0.0_react@18.2.0/node_modules/@wordpress/data/build-module/redux-store/index.js");class Y{static mayBeInit(t,r){Y.store===null&&(Y.store=(0,Ve.Z)(t,r),(0,re.z2)(Y.store))}}Ze()(Y,"store",null);const ze=Y,He="my-jetpack";function Me(){ze.mayBeInit(He,{__experimentalUseThunks:!0,reducer:k,actions:Fe,selectors:xe,resolvers:Ce,controls:Le,initialState:window.myJetpackInitialState||{}})}}}]);})();
