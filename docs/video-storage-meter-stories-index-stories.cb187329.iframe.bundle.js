(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[5556],{"../../packages/videopress/src/client/admin/components/video-storage-meter/stories/index.stories.tsx":(b,p,s)=>{var c,l,m;"use strict";s.r(p),s.d(p,{__namedExportsOrder:()=>d,_default:()=>e,default:()=>i});var _=s("../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx"),u=s("../../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const i={title:"Packages/VideoPress/Video Storage Meter",component:_.A},e=(r=>(0,u.jsx)(_.A,{...r})).bind({});e.args={total:1024*1024*1024*1024,used:1024*1024*1024*1024/2};const d=["_default"];e.parameters={...e.parameters,docs:{...(c=e.parameters)==null?void 0:c.docs,source:{originalSource:"args => <VideoStorageMeter {...args} />",...(m=(l=e.parameters)==null?void 0:l.docs)==null?void 0:m.source}}}},"../../packages/videopress/src/client/admin/hooks/use-videos/index.js":(b,p,s)=>{"use strict";var _=s("../../packages/videopress/src/client/state/constants.js");function u(){const e=useSelect(t=>t(STORE_ID).getVideos()),d=useSelect(t=>t(STORE_ID).getUploadingVideos()),c=d.length>0,l="",m=useSelect(t=>t(STORE_ID).getUploadedVideoCount()),r=useSelect(t=>t(STORE_ID).getIsFetching()),y=useSelect(t=>t(STORE_ID).getIsFetchingUploadedVideoCount()),I=useSelect(t=>t(STORE_ID).getFirstUploadedVideoId()),E=useSelect(t=>t(STORE_ID).getFirstVideoProcessed()),j=useSelect(t=>t(STORE_ID).getDismissedFirstVideoPopover()),h=useSelect(t=>t(STORE_ID).getVideosQuery()||{}),O=useSelect(t=>t(STORE_ID).getPagination()),f=useSelect(t=>t(STORE_ID).getStorageUsed(),[]),P=useSelect(t=>t(STORE_ID).getVideosFilter()),w=useSelect(t=>t(STORE_ID).getUploadErrorVideos());return{items:e,uploading:d,isUploading:c,search:l,filter:P,uploadedVideoCount:m,isFetching:r,isFetchingUploadedVideoCount:y,firstUploadedVideoId:I,firstVideoProcessed:E,dismissedFirstVideoPopover:j,...h,...O,...f,uploadErrors:w,setPage:t=>dispatch(STORE_ID).setVideosQuery({page:t}),setSearch:t=>dispatch(STORE_ID).setVideosQuery({search:t}),setFilter:dispatch(STORE_ID).setVideosFilter}}const i=()=>{const e=useSelect(r=>r(STORE_ID).getLocalVideos()),d=useSelect(r=>r(STORE_ID).getUploadedLocalVideoCount()),c=useSelect(r=>r(STORE_ID).getIsFetchingLocalVideos()),l=useSelect(r=>r(STORE_ID).getLocalVideosQuery()||{}),m=useSelect(r=>r(STORE_ID).getLocalPagination());return{items:e,uploadedLocalVideoCount:d,isFetching:c,...l,...m,setPage:r=>dispatch(STORE_ID).setLocalVideosQuery({page:r})}},a=()=>useSelect(d=>d(STORE_ID).getVideosQuery()||{})},"../components/components/progress-bar/index.tsx":(b,p,s)=>{"use strict";s.d(p,{A:()=>r});var _=s("../../../node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs"),u=s("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.94.0_webpack-cli@4.9.1_/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=s.n(u),a=s("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.94.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.94.0_webpack-cli@4.9.1_/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.94.0_webpack-cli@4.9.1_/node_modules/sass-loader/dist/cjs.js!../components/components/progress-bar/style.module.scss"),e={};e.insert="head",e.singleton=!1;var d=i()(a.A,e);const c=a.A.locals||{};var l=s("../../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const r=({className:y,progressClassName:I,progress:E,size:j="normal"})=>{if(E==null)return null;const O={width:`${Math.max(Math.min(E,1),0)*100}%`};return(0,l.jsx)("div",{className:(0,_.A)(y,c.wrapper,{[c.small]:j==="small"}),children:(0,l.jsx)("div",{className:(0,_.A)(I,c.progress),style:O})})}},"../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx":(b,p,s)=>{"use strict";s.d(p,{A:()=>D});var _=s("../components/components/text/index.tsx"),u=s("../components/components/progress-bar/index.tsx"),i=s("../../../node_modules/.pnpm/@wordpress+i18n@5.8.2/node_modules/@wordpress/i18n/build-module/index.js"),a=s("../../../node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs"),e=s("../../../node_modules/.pnpm/filesize@8.0.6/node_modules/filesize/lib/filesize.min.js"),d=s.n(e),c=s("../../packages/videopress/src/client/state/index.js");const{paidFeatures:l={},siteProductData:m={},productData:r={},productPrice:y={}}=window&&window.jetpackVideoPressInitialState?window.jetpackVideoPressInitialState:{},I=()=>{const n=mapObjectKeysToCamel(m.pricing_for_ui,!0),o=mapObjectKeysToCamel(r.introductory_offer,!0),g={...mapObjectKeysToCamel(r,!0),introductoryOffer:o},{purchases:v,isFetchingPurchases:k}=useSelect(S=>({purchases:S(STORE_ID).getPurchases(),isFetchingPurchases:S(STORE_ID).isFetchingPurchases()}),[]),T=v.map(S=>mapObjectKeysToCamel(S,!0));function x(S){return T.some(B=>B.productSlug===S)}const A=["jetpack_videopress_bi_yearly","jetpack_videopress","jetpack_videopress_monthly","jetpack_complete_bi_yearly","jetpack_complete","jetpack_complete_monthly","jetpack_business","jetpack_business_monthly","jetpack_personal","jetpack_personal_monthly","jetpack_premium","jetpack_premium_monthly","videopress","videopress-pro","wp_p2_plus_monthly","bundle_pro","value_bundle","value_bundle_monthly","value_bundle-2y","value_bundle-3y","pro-plan","pro-plan-monthly","pro-plan-2y","business-bundle","business-bundle-monthly","business-bundle-2y","business-bundle-3y","wp_com_hundred_year_bundle_centennially","wp_bundle_migration_trial_monthly","wp_bundle_hosting_trial_monthly","ecommerce-bundle","ecommerce-bundle-monthly","ecommerce-bundle-2y","ecommerce-bundle-3y","ecommerce-trial-bundle-monthly","wooexpress-small-bundle-yearly","wooexpress-small-bundle-monthly","wooexpress-medium-bundle-yearly","wooexpress-medium-bundle-monthly"].some(S=>x(S));return{features:l,siteProduct:{...mapObjectKeysToCamel({...m},!0),pricingForUi:n},product:g,productPrice:y,purchases:T,hasVideoPressPurchase:A,isFetchingPurchases:k}};var E=s("../../packages/videopress/src/client/admin/hooks/use-videopress-settings/index.ts"),j=s("../../packages/videopress/src/client/admin/hooks/use-videos/index.js"),h=s("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.94.0_webpack-cli@4.9.1_/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),O=s.n(h),f=s("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.94.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.94.0_webpack-cli@4.9.1_/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.94.0_webpack-cli@4.9.1_/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/admin/components/video-storage-meter/style.module.scss"),P={};P.insert="head",P.singleton=!1;var w=O()(f.A,P);const t=f.A.locals||{};var M=s("../../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const C=i.__,R=({className:n,progressBarClassName:o,total:g,used:v})=>{if(!g||v==null)return null;const k=v/g,T=`${(k*100).toFixed()}%`,x=d()(g,{base:10});return(0,M.jsxs)("div",{className:(0,a.A)(n),children:[(0,M.jsx)(_.Ay,{className:(0,a.A)(t["percentage-description"]),children:(0,i.nv)(C("%1$s of %2$s of cloud video storage","jetpack-videopress-pkg"),T,x)}),(0,M.jsx)(u.A,{className:(0,a.A)(t["progress-bar"],o),progress:k})]})},V=n=>{const{storageUsed:o,uploadedVideoCount:g}=useVideos(),{features:v}=usePlan(),{settings:k}=useVideoPressSettings(),{siteType:T}=k,x=1e3*1e3*1e3*1e3;return T===SITE_TYPE_ATOMIC||v!=null&&v.isVideoPressUnlimitedSupported||!g?null:o?_jsx(R,{...n,used:o,total:x}):_jsx(R,{...n,used:0,total:1})},D=R;try{V.displayName="ConnectVideoStorageMeter",V.__docgenInfo={description:"",displayName:"ConnectVideoStorageMeter",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx#ConnectVideoStorageMeter"]={docgenInfo:V.__docgenInfo,name:"ConnectVideoStorageMeter",path:"../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx#ConnectVideoStorageMeter"})}catch(n){}},"../../packages/videopress/src/client/admin/hooks/use-videopress-settings/index.ts":(b,p,s)=>{"use strict";var _=s("../../packages/videopress/src/client/state/index.js");const u=()=>{var e,d,c;const i=useDispatch(STORE_ID),a=useSelect(l=>l(STORE_ID).getVideoPressSettings(),[]);return{settings:{videoPressVideosPrivateForSite:(e=a==null?void 0:a.videoPressVideosPrivateForSite)!=null?e:!1,siteIsPrivate:(d=a==null?void 0:a.siteIsPrivate)!=null?d:!1,siteType:(c=a==null?void 0:a.siteType)!=null?c:SITE_TYPE_JETPACK},onUpdate:l=>i.updateVideoPressSettings(l)}}},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.94.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.94.0_webpack-cli@4.9.1_/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.94.0_webpack-cli@4.9.1_/node_modules/sass-loader/dist/cjs.js!../components/components/progress-bar/style.module.scss":(b,p,s)=>{"use strict";s.d(p,{A:()=>d});var _=s("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.94.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/runtime/noSourceMaps.js"),u=s.n(_),i=s("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.94.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/runtime/api.js"),a=s.n(i),e=a()(u());e.push([b.id,".W4NUeZAGw0aXojyLmjzP{width:100%;height:12px;background-color:var(--jp-gray-5);border-radius:calc(var(--spacing-base)*3);overflow:hidden}.W4NUeZAGw0aXojyLmjzP.aCtQACi6JDw6tIP5cLu1{height:3px}.W4NUeZAGw0aXojyLmjzP .kaV9vllufIW5_MQslIfu{height:100%;border-radius:calc(var(--spacing-base)*3);background-color:var(--jp-black);min-width:12px}",""]),e.locals={wrapper:"W4NUeZAGw0aXojyLmjzP",small:"aCtQACi6JDw6tIP5cLu1",progress:"kaV9vllufIW5_MQslIfu"};const d=e},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.94.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.94.0_webpack-cli@4.9.1_/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.94.0_webpack-cli@4.9.1_/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/admin/components/video-storage-meter/style.module.scss":(b,p,s)=>{"use strict";s.d(p,{A:()=>d});var _=s("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.94.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/runtime/noSourceMaps.js"),u=s.n(_),i=s("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.94.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/runtime/api.js"),a=s.n(i),e=a()(u());e.push([b.id,".J0cboZTh2LMTitQ_wbbw{color:var(--jp-gray-80);margin-bottom:calc(var(--spacing-base)*2)}.uC0NRkCYRpEEddC3UOuf{margin-top:calc(var(--spacing-base)*2)}",""]),e.locals={"percentage-description":"J0cboZTh2LMTitQ_wbbw","progress-bar":"uC0NRkCYRpEEddC3UOuf"};const d=e},"../../../node_modules/.pnpm/filesize@8.0.6/node_modules/filesize/lib/filesize.min.js":function(b){/*!
 2021 Jason Mulligan <jason.mulligan@avoidwork.com>
 @version 8.0.6
*/(function(p,s){b.exports=s()})(this,function(){"use strict";var p=/^(b|B)$/,s={iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},_={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]},u={floor:Math.floor,ceil:Math.ceil};function i(a){var e,d,c,l,m,r,y,I,E,j,h,O,f,P,w,t,M,C,R,V,D,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=[],g=0;if(isNaN(a))throw new TypeError("Invalid number");if(c=n.bits===!0,w=n.unix===!0,O=n.pad===!0,d=n.base||10,f=n.round!==void 0?n.round:w?1:2,y=n.locale!==void 0?n.locale:"",I=n.localeOptions||{},t=n.separator!==void 0?n.separator:"",M=n.spacer!==void 0?n.spacer:w?"":" ",R=n.symbols||{},C=d===2?n.standard||"iec":"jedec",h=n.output||"string",m=n.fullform===!0,r=n.fullforms instanceof Array?n.fullforms:[],e=n.exponent!==void 0?n.exponent:-1,V=u[n.roundingMethod]||Math.round,E=(j=Number(a))<0,l=d>2?1e3:1024,D=isNaN(n.precision)===!1?parseInt(n.precision,10):0,E&&(j=-j),(e===-1||isNaN(e))&&(e=Math.floor(Math.log(j)/Math.log(l)))<0&&(e=0),e>8&&(D>0&&(D+=8-e),e=8),h==="exponent")return e;if(j===0)o[0]=0,P=o[1]=w?"":s[C][c?"bits":"bytes"][e];else{g=j/(d===2?Math.pow(2,10*e):Math.pow(1e3,e)),c&&(g*=8)>=l&&e<8&&(g/=l,e++);var v=Math.pow(10,e>0?f:0);o[0]=V(g*v)/v,o[0]===l&&e<8&&n.exponent===void 0&&(o[0]=1,e++),P=o[1]=d===10&&e===1?c?"kbit":"kB":s[C][c?"bits":"bytes"][e],w&&(o[1]=o[1].charAt(0),p.test(o[1])&&(o[0]=Math.floor(o[0]),o[1]=""))}if(E&&(o[0]=-o[0]),D>0&&(o[0]=o[0].toPrecision(D)),o[1]=R[o[1]]||o[1],y===!0?o[0]=o[0].toLocaleString():y.length>0?o[0]=o[0].toLocaleString(y,I):t.length>0&&(o[0]=o[0].toString().replace(".",t)),O&&Number.isInteger(o[0])===!1&&f>0){var k=t||".",T=o[0].toString().split(k),x=T[1]||"",A=x.length,S=f-A;o[0]="".concat(T[0]).concat(k).concat(x.padEnd(A+S,"0"))}return m&&(o[1]=r[e]?r[e]:_[C][e]+(c?"bit":"byte")+(o[0]===1?"":"s")),h==="array"?o:h==="object"?{value:o[0],symbol:o[1],exponent:e,unit:P}:o.join(M)}return i.partial=function(a){return function(e){return i(e,a)}},i})},"../../../node_modules/.pnpm/is-plain-object@5.0.0/node_modules/is-plain-object/dist/is-plain-object.mjs":(b,p,s)=>{"use strict";s.d(p,{Q:()=>u});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function _(i){return Object.prototype.toString.call(i)==="[object Object]"}function u(i){var a,e;return _(i)===!1?!1:(a=i.constructor,a===void 0?!0:(e=a.prototype,!(_(e)===!1||e.hasOwnProperty("isPrototypeOf")===!1)))}}}]);})();
