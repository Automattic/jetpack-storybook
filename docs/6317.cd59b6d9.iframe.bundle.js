(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[6317],{"../../../node_modules/.pnpm/@wordpress+url@4.9.0/node_modules/@wordpress/url/build-module/clean-for-slug.js":(K,F,R)=>{"use strict";R.d(F,{O:()=>G});var T=R("../../../node_modules/.pnpm/remove-accents@0.5.0/node_modules/remove-accents/index.js"),B=R.n(T);function G(g){return g?B()(g).replace(/[\s\./]+/g,"-").replace(/[^\p{L}\p{N}_-]+/gu,"").toLowerCase().replace(/-+/g,"-").replace(/(^-+)|(-+$)/g,""):""}},"../../../node_modules/.pnpm/debug@4.3.4/node_modules/debug/src/browser.js":(K,F,R)=>{var T=R("../../../node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");F.formatArgs=G,F.save=g,F.load=te,F.useColors=B,F.storage=z(),F.destroy=(()=>{let P=!1;return()=>{P||(P=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),F.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function B(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function G(P){if(P[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+P[0]+(this.useColors?"%c ":" ")+"+"+K.exports.humanize(this.diff),!this.useColors)return;const _="color: "+this.color;P.splice(1,0,_,"color: inherit");let b=0,N=0;P[0].replace(/%[a-zA-Z%]/g,U=>{U!=="%%"&&(b++,U==="%c"&&(N=b))}),P.splice(N,0,_)}F.log=console.debug||console.log||(()=>{});function g(P){try{P?F.storage.setItem("debug",P):F.storage.removeItem("debug")}catch(_){}}function te(){let P;try{P=F.storage.getItem("debug")}catch(_){}return!P&&typeof T!="undefined"&&"env"in T&&(P=T.env.DEBUG),P}function z(){try{return localStorage}catch(P){}}K.exports=R("../../../node_modules/.pnpm/debug@4.3.4/node_modules/debug/src/common.js")(F);const{formatters:q}=K.exports;q.j=function(P){try{return JSON.stringify(P)}catch(_){return"[UnexpectedJSONParseError]: "+_.message}}},"../../../node_modules/.pnpm/debug@4.3.4/node_modules/debug/src/common.js":(K,F,R)=>{function T(B){g.debug=g,g.default=g,g.coerce=b,g.disable=q,g.enable=z,g.enabled=P,g.humanize=R("../../../node_modules/.pnpm/ms@2.1.2/node_modules/ms/index.js"),g.destroy=N,Object.keys(B).forEach(U=>{g[U]=B[U]}),g.names=[],g.skips=[],g.formatters={};function G(U){let E=0;for(let H=0;H<U.length;H++)E=(E<<5)-E+U.charCodeAt(H),E|=0;return g.colors[Math.abs(E)%g.colors.length]}g.selectColor=G;function g(U){let E,H=null,ae,X;function Z(...$){if(!Z.enabled)return;const d=Z,y=Number(new Date),v=y-(E||y);d.diff=v,d.prev=E,d.curr=y,E=y,$[0]=g.coerce($[0]),typeof $[0]!="string"&&$.unshift("%O");let c=0;$[0]=$[0].replace(/%([a-zA-Z%])/g,(O,D)=>{if(O==="%%")return"%";c++;const j=g.formatters[D];if(typeof j=="function"){const V=$[c];O=j.call(d,V),$.splice(c,1),c--}return O}),g.formatArgs.call(d,$),(d.log||g.log).apply(d,$)}return Z.namespace=U,Z.useColors=g.useColors(),Z.color=g.selectColor(U),Z.extend=te,Z.destroy=g.destroy,Object.defineProperty(Z,"enabled",{enumerable:!0,configurable:!1,get:()=>H!==null?H:(ae!==g.namespaces&&(ae=g.namespaces,X=g.enabled(U)),X),set:$=>{H=$}}),typeof g.init=="function"&&g.init(Z),Z}function te(U,E){const H=g(this.namespace+(typeof E=="undefined"?":":E)+U);return H.log=this.log,H}function z(U){g.save(U),g.namespaces=U,g.names=[],g.skips=[];let E;const H=(typeof U=="string"?U:"").split(/[\s,]+/),ae=H.length;for(E=0;E<ae;E++)H[E]&&(U=H[E].replace(/\*/g,".*?"),U[0]==="-"?g.skips.push(new RegExp("^"+U.slice(1)+"$")):g.names.push(new RegExp("^"+U+"$")))}function q(){const U=[...g.names.map(_),...g.skips.map(_).map(E=>"-"+E)].join(",");return g.enable(""),U}function P(U){if(U[U.length-1]==="*")return!0;let E,H;for(E=0,H=g.skips.length;E<H;E++)if(g.skips[E].test(U))return!1;for(E=0,H=g.names.length;E<H;E++)if(g.names[E].test(U))return!0;return!1}function _(U){return U.toString().substring(2,U.toString().length-2).replace(/\.\*\?$/,"*")}function b(U){return U instanceof Error?U.stack||U.message:U}function N(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return g.enable(g.load()),g}K.exports=T},"../../../node_modules/.pnpm/ms@2.1.2/node_modules/ms/index.js":K=>{var F=1e3,R=F*60,T=R*60,B=T*24,G=B*7,g=B*365.25;K.exports=function(_,b){b=b||{};var N=typeof _;if(N==="string"&&_.length>0)return te(_);if(N==="number"&&isFinite(_))return b.long?q(_):z(_);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(_))};function te(_){if(_=String(_),!(_.length>100)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(_);if(b){var N=parseFloat(b[1]),U=(b[2]||"ms").toLowerCase();switch(U){case"years":case"year":case"yrs":case"yr":case"y":return N*g;case"weeks":case"week":case"w":return N*G;case"days":case"day":case"d":return N*B;case"hours":case"hour":case"hrs":case"hr":case"h":return N*T;case"minutes":case"minute":case"mins":case"min":case"m":return N*R;case"seconds":case"second":case"secs":case"sec":case"s":return N*F;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return N;default:return}}}}function z(_){var b=Math.abs(_);return b>=B?Math.round(_/B)+"d":b>=T?Math.round(_/T)+"h":b>=R?Math.round(_/R)+"m":b>=F?Math.round(_/F)+"s":_+"ms"}function q(_){var b=Math.abs(_);return b>=B?P(_,b,B,"day"):b>=T?P(_,b,T,"hour"):b>=R?P(_,b,R,"minute"):b>=F?P(_,b,F,"second"):_+" ms"}function P(_,b,N,U){var E=b>=N*1.5;return Math.round(_/N)+" "+U+(E?"s":"")}},"../../../node_modules/.pnpm/querystringify@2.2.0/node_modules/querystringify/index.js":(K,F)=>{"use strict";var R=Object.prototype.hasOwnProperty,T;function B(z){try{return decodeURIComponent(z.replace(/\+/g," "))}catch(q){return null}}function G(z){try{return encodeURIComponent(z)}catch(q){return null}}function g(z){for(var q=/([^=?#&]+)=?([^&]*)/g,P={},_;_=q.exec(z);){var b=B(_[1]),N=B(_[2]);b===null||N===null||b in P||(P[b]=N)}return P}function te(z,q){q=q||"";var P=[],_,b;typeof q!="string"&&(q="?");for(b in z)if(R.call(z,b)){if(_=z[b],!_&&(_===null||_===T||isNaN(_))&&(_=""),b=G(b),_=G(_),b===null||_===null)continue;P.push(b+"="+_)}return P.length?q+P.join("&"):""}F.stringify=te,F.parse=g},"../../../node_modules/.pnpm/remove-accents@0.5.0/node_modules/remove-accents/index.js":K=>{var F={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u1EA4:"A",\u1EAE:"A",\u1EB2:"A",\u1EB4:"A",\u1EB6:"A",\u00C6:"AE",\u1EA6:"A",\u1EB0:"A",\u0202:"A",\u1EA2:"A",\u1EA0:"A",\u1EA8:"A",\u1EAA:"A",\u1EAC:"A",\u00C7:"C",\u1E08:"C",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u1EBE:"E",\u1E16:"E",\u1EC0:"E",\u1E14:"E",\u1E1C:"E",\u0206:"E",\u1EBA:"E",\u1EBC:"E",\u1EB8:"E",\u1EC2:"E",\u1EC4:"E",\u1EC6:"E",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u1E2E:"I",\u020A:"I",\u1EC8:"I",\u1ECA:"I",\u00D0:"D",\u00D1:"N",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u1ED0:"O",\u1E4C:"O",\u1E52:"O",\u020E:"O",\u1ECE:"O",\u1ECC:"O",\u1ED4:"O",\u1ED6:"O",\u1ED8:"O",\u1EDC:"O",\u1EDE:"O",\u1EE0:"O",\u1EDA:"O",\u1EE2:"O",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u1EE6:"U",\u1EE4:"U",\u1EEC:"U",\u1EEE:"U",\u1EF0:"U",\u00DD:"Y",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u1EA5:"a",\u1EAF:"a",\u1EB3:"a",\u1EB5:"a",\u1EB7:"a",\u00E6:"ae",\u1EA7:"a",\u1EB1:"a",\u0203:"a",\u1EA3:"a",\u1EA1:"a",\u1EA9:"a",\u1EAB:"a",\u1EAD:"a",\u00E7:"c",\u1E09:"c",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u1EBF:"e",\u1E17:"e",\u1EC1:"e",\u1E15:"e",\u1E1D:"e",\u0207:"e",\u1EBB:"e",\u1EBD:"e",\u1EB9:"e",\u1EC3:"e",\u1EC5:"e",\u1EC7:"e",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u1E2F:"i",\u020B:"i",\u1EC9:"i",\u1ECB:"i",\u00F0:"d",\u00F1:"n",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u1ED1:"o",\u1E4D:"o",\u1E53:"o",\u020F:"o",\u1ECF:"o",\u1ECD:"o",\u1ED5:"o",\u1ED7:"o",\u1ED9:"o",\u1EDD:"o",\u1EDF:"o",\u1EE1:"o",\u1EDB:"o",\u1EE3:"o",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u1EE7:"u",\u1EE5:"u",\u1EED:"u",\u1EEF:"u",\u1EF1:"u",\u00FD:"y",\u00FF:"y",\u0100:"A",\u0101:"a",\u0102:"A",\u0103:"a",\u0104:"A",\u0105:"a",\u0106:"C",\u0107:"c",\u0108:"C",\u0109:"c",\u010A:"C",\u010B:"c",\u010C:"C",\u010D:"c",C\u0306:"C",c\u0306:"c",\u010E:"D",\u010F:"d",\u0110:"D",\u0111:"d",\u0112:"E",\u0113:"e",\u0114:"E",\u0115:"e",\u0116:"E",\u0117:"e",\u0118:"E",\u0119:"e",\u011A:"E",\u011B:"e",\u011C:"G",\u01F4:"G",\u011D:"g",\u01F5:"g",\u011E:"G",\u011F:"g",\u0120:"G",\u0121:"g",\u0122:"G",\u0123:"g",\u0124:"H",\u0125:"h",\u0126:"H",\u0127:"h",\u1E2A:"H",\u1E2B:"h",\u0128:"I",\u0129:"i",\u012A:"I",\u012B:"i",\u012C:"I",\u012D:"i",\u012E:"I",\u012F:"i",\u0130:"I",\u0131:"i",\u0132:"IJ",\u0133:"ij",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u1E30:"K",\u1E31:"k",K\u0306:"K",k\u0306:"k",\u0139:"L",\u013A:"l",\u013B:"L",\u013C:"l",\u013D:"L",\u013E:"l",\u013F:"L",\u0140:"l",\u0141:"l",\u0142:"l",\u1E3E:"M",\u1E3F:"m",M\u0306:"M",m\u0306:"m",\u0143:"N",\u0144:"n",\u0145:"N",\u0146:"n",\u0147:"N",\u0148:"n",\u0149:"n",N\u0306:"N",n\u0306:"n",\u014C:"O",\u014D:"o",\u014E:"O",\u014F:"o",\u0150:"O",\u0151:"o",\u0152:"OE",\u0153:"oe",P\u0306:"P",p\u0306:"p",\u0154:"R",\u0155:"r",\u0156:"R",\u0157:"r",\u0158:"R",\u0159:"r",R\u0306:"R",r\u0306:"r",\u0212:"R",\u0213:"r",\u015A:"S",\u015B:"s",\u015C:"S",\u015D:"s",\u015E:"S",\u0218:"S",\u0219:"s",\u015F:"s",\u0160:"S",\u0161:"s",\u0162:"T",\u0163:"t",\u021B:"t",\u021A:"T",\u0164:"T",\u0165:"t",\u0166:"T",\u0167:"t",T\u0306:"T",t\u0306:"t",\u0168:"U",\u0169:"u",\u016A:"U",\u016B:"u",\u016C:"U",\u016D:"u",\u016E:"U",\u016F:"u",\u0170:"U",\u0171:"u",\u0172:"U",\u0173:"u",\u0216:"U",\u0217:"u",V\u0306:"V",v\u0306:"v",\u0174:"W",\u0175:"w",\u1E82:"W",\u1E83:"w",X\u0306:"X",x\u0306:"x",\u0176:"Y",\u0177:"y",\u0178:"Y",Y\u0306:"Y",y\u0306:"y",\u0179:"Z",\u017A:"z",\u017B:"Z",\u017C:"z",\u017D:"Z",\u017E:"z",\u017F:"s",\u0192:"f",\u01A0:"O",\u01A1:"o",\u01AF:"U",\u01B0:"u",\u01CD:"A",\u01CE:"a",\u01CF:"I",\u01D0:"i",\u01D1:"O",\u01D2:"o",\u01D3:"U",\u01D4:"u",\u01D5:"U",\u01D6:"u",\u01D7:"U",\u01D8:"u",\u01D9:"U",\u01DA:"u",\u01DB:"U",\u01DC:"u",\u1EE8:"U",\u1EE9:"u",\u1E78:"U",\u1E79:"u",\u01FA:"A",\u01FB:"a",\u01FC:"AE",\u01FD:"ae",\u01FE:"O",\u01FF:"o",\u00DE:"TH",\u00FE:"th",\u1E54:"P",\u1E55:"p",\u1E64:"S",\u1E65:"s",X\u0301:"X",x\u0301:"x",\u0403:"\u0413",\u0453:"\u0433",\u040C:"\u041A",\u045C:"\u043A",A\u030B:"A",a\u030B:"a",E\u030B:"E",e\u030B:"e",I\u030B:"I",i\u030B:"i",\u01F8:"N",\u01F9:"n",\u1ED2:"O",\u1ED3:"o",\u1E50:"O",\u1E51:"o",\u1EEA:"U",\u1EEB:"u",\u1E80:"W",\u1E81:"w",\u1EF2:"Y",\u1EF3:"y",\u0200:"A",\u0201:"a",\u0204:"E",\u0205:"e",\u0208:"I",\u0209:"i",\u020C:"O",\u020D:"o",\u0210:"R",\u0211:"r",\u0214:"U",\u0215:"u",B\u030C:"B",b\u030C:"b",\u010C\u0323:"C",\u010D\u0323:"c",\u00CA\u030C:"E",\u00EA\u030C:"e",F\u030C:"F",f\u030C:"f",\u01E6:"G",\u01E7:"g",\u021E:"H",\u021F:"h",J\u030C:"J",\u01F0:"j",\u01E8:"K",\u01E9:"k",M\u030C:"M",m\u030C:"m",P\u030C:"P",p\u030C:"p",Q\u030C:"Q",q\u030C:"q",\u0158\u0329:"R",\u0159\u0329:"r",\u1E66:"S",\u1E67:"s",V\u030C:"V",v\u030C:"v",W\u030C:"W",w\u030C:"w",X\u030C:"X",x\u030C:"x",Y\u030C:"Y",y\u030C:"y",A\u0327:"A",a\u0327:"a",B\u0327:"B",b\u0327:"b",\u1E10:"D",\u1E11:"d",\u0228:"E",\u0229:"e",\u0190\u0327:"E",\u025B\u0327:"e",\u1E28:"H",\u1E29:"h",I\u0327:"I",i\u0327:"i",\u0197\u0327:"I",\u0268\u0327:"i",M\u0327:"M",m\u0327:"m",O\u0327:"O",o\u0327:"o",Q\u0327:"Q",q\u0327:"q",U\u0327:"U",u\u0327:"u",X\u0327:"X",x\u0327:"x",Z\u0327:"Z",z\u0327:"z",\u0439:"\u0438",\u0419:"\u0418",\u0451:"\u0435",\u0401:"\u0415"},R=Object.keys(F).join("|"),T=new RegExp(R,"g"),B=new RegExp(R,"");function G(z){return F[z]}var g=function(z){return z.replace(T,G)},te=function(z){return!!z.match(B)};K.exports=g,K.exports.has=te,K.exports.remove=g},"../../../node_modules/.pnpm/requires-port@1.0.0/node_modules/requires-port/index.js":K=>{"use strict";K.exports=function(R,T){if(T=T.split(":")[0],R=+R,!R)return!1;switch(T){case"http":case"ws":return R!==80;case"https":case"wss":return R!==443;case"ftp":return R!==21;case"gopher":return R!==70;case"file":return!1}return R!==0}},"../../../node_modules/.pnpm/tus-js-client@4.1.0/node_modules/tus-js-client/lib.esm/browser/index.js":(K,F,R)=>{"use strict";R.d(F,{_O:()=>on});const T="3.7.7",B=T,G=typeof Buffer=="function",g=typeof TextDecoder=="function"?new TextDecoder:void 0,te=typeof TextEncoder=="function"?new TextEncoder:void 0,z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",q=Array.prototype.slice.call(z),P=(e=>{let t={};return e.forEach((r,n)=>t[r]=n),t})(q),_=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,b=String.fromCharCode.bind(String),N=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),U=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),E=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),H=e=>{let t,r,n,a,s="";const h=e.length%3;for(let S=0;S<e.length;){if((r=e.charCodeAt(S++))>255||(n=e.charCodeAt(S++))>255||(a=e.charCodeAt(S++))>255)throw new TypeError("invalid character found");t=r<<16|n<<8|a,s+=q[t>>18&63]+q[t>>12&63]+q[t>>6&63]+q[t&63]}return h?s.slice(0,h-3)+"===".substring(h):s},ae=typeof btoa=="function"?e=>btoa(e):G?e=>Buffer.from(e,"binary").toString("base64"):H,X=G?e=>Buffer.from(e).toString("base64"):e=>{let r=[];for(let n=0,a=e.length;n<a;n+=4096)r.push(b.apply(null,e.subarray(n,n+4096)));return ae(r.join(""))},Z=(e,t=!1)=>t?U(X(e)):X(e),$=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?b(192|t>>>6)+b(128|t&63):b(224|t>>>12&15)+b(128|t>>>6&63)+b(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return b(240|t>>>18&7)+b(128|t>>>12&63)+b(128|t>>>6&63)+b(128|t&63)}},d=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,y=e=>e.replace(d,$),v=G?e=>Buffer.from(e,"utf8").toString("base64"):te?e=>X(te.encode(e)):e=>ae(y(e)),c=(e,t=!1)=>t?U(v(e)):v(e),k=e=>c(e,!0),O=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,D=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),r=t-65536;return b((r>>>10)+55296)+b((r&1023)+56320);case 3:return b((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return b((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},j=e=>e.replace(O,D),V=e=>{if(e=e.replace(/\s+/g,""),!_.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,r="",n,a;for(let s=0;s<e.length;)t=P[e.charAt(s++)]<<18|P[e.charAt(s++)]<<12|(n=P[e.charAt(s++)])<<6|(a=P[e.charAt(s++)]),r+=n===64?b(t>>16&255):a===64?b(t>>16&255,t>>8&255):b(t>>16&255,t>>8&255,t&255);return r},ce=typeof atob=="function"?e=>atob(E(e)):G?e=>Buffer.from(e,"base64").toString("binary"):V,Ee=G?e=>N(Buffer.from(e,"base64")):e=>N(ce(e).split("").map(t=>t.charCodeAt(0))),w=e=>Ee(tt(e)),xe=G?e=>Buffer.from(e,"base64").toString("utf8"):g?e=>g.decode(Ee(e)):e=>j(ce(e)),tt=e=>E(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),ze=e=>xe(tt(e)),Tt=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},rt=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),nt=function(){const e=(t,r)=>Object.defineProperty(String.prototype,t,rt(r));e("fromBase64",function(){return ze(this)}),e("toBase64",function(t){return c(this,t)}),e("toBase64URI",function(){return c(this,!0)}),e("toBase64URL",function(){return c(this,!0)}),e("toUint8Array",function(){return w(this)})},ot=function(){const e=(t,r)=>Object.defineProperty(Uint8Array.prototype,t,rt(r));e("toBase64",function(t){return Z(this,t)}),e("toBase64URI",function(){return Z(this,!0)}),e("toBase64URL",function(){return Z(this,!0)})},Dt={version:T,VERSION:B,atob:ce,atobPolyfill:V,btoa:ae,btoaPolyfill:H,fromBase64:ze,toBase64:c,encode:c,encodeURI:k,encodeURL:k,utob:y,btou:j,decode:ze,isValid:Tt,fromUint8Array:Z,toUint8Array:w,extendString:nt,extendUint8Array:ot,extendBuiltins:()=>{nt(),ot()}};var Nt=R("../../../node_modules/.pnpm/url-parse@1.5.10/node_modules/url-parse/index.js"),Bt=R.n(Nt);function _e(e){"@babel/helpers - typeof";return _e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_e(e)}function it(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ht(n.key),n)}}function zt(e,t,r){return t&&it(e.prototype,t),r&&it(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ht(e){var t=qt(e,"string");return _e(t)=="symbol"?t:String(t)}function qt(e,t){if(_e(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_e(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gt(e,t,r){return t=Pe(t),Kt(e,qe()?Reflect.construct(t,r||[],Pe(e).constructor):t.apply(e,r))}function Kt(e,t){if(t&&(_e(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xt(e)}function Xt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oe(e,t)}function He(e){var t=typeof Map=="function"?new Map:void 0;return He=function(n){if(n===null||!Yt(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t!="undefined"){if(t.has(n))return t.get(n);t.set(n,a)}function a(){return Wt(n,arguments,Pe(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Oe(a,n)},He(e)}function Wt(e,t,r){if(qe())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var a=new(e.bind.apply(e,n));return r&&Oe(a,r.prototype),a}function qe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(qe=function(){return!!e})()}function Yt(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch(t){return typeof e=="function"}}function Oe(e,t){return Oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Oe(e,t)}function Pe(e){return Pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pe(e)}var $t=function(e){Zt(t,e);function t(r){var n,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(Mt(this,t),n=Gt(this,t,[r]),n.originalRequest=s,n.originalResponse=h,n.causingError=a,a!=null&&(r+=", caused by ".concat(a.toString())),s!=null){var S=s.getHeader("X-Request-ID")||"n/a",m=s.getMethod(),C=s.getURL(),L=h?h.getStatus():"n/a",J=h?h.getBody()||"":"n/a";r+=", originated from request (method: ".concat(m,", url: ").concat(C,", response code: ").concat(L,", response text: ").concat(J,", request id: ").concat(S,")")}return n.message=r,n}return zt(t)}(He(Error));const De=$t;var at=!1;function un(){at=!0}function pe(e){at&&console.log(e)}function Jt(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e==="x"?t:t&3|8;return r.toString(16)})}function Me(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Me=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(u,o,i){u[o]=i.value},s=typeof Symbol=="function"?Symbol:{},h=s.iterator||"@@iterator",S=s.asyncIterator||"@@asyncIterator",m=s.toStringTag||"@@toStringTag";function C(u,o,i){return Object.defineProperty(u,o,{value:i,enumerable:!0,configurable:!0,writable:!0}),u[o]}try{C({},"")}catch(u){C=function(i,l,p){return i[l]=p}}function L(u,o,i,l){var p=o&&o.prototype instanceof ue?o:ue,f=Object.create(p.prototype),x=new ge(l||[]);return a(f,"_invoke",{value:Qe(u,i,x)}),f}function J(u,o,i){try{return{type:"normal",arg:u.call(o,i)}}catch(l){return{type:"throw",arg:l}}}t.wrap=L;var fe="suspendedStart",Le="suspendedYield",ye="executing",ie="completed",M={};function ue(){}function re(){}function W(){}var oe={};C(oe,h,function(){return this});var me=Object.getPrototypeOf,se=me&&me(me(be([])));se&&se!==r&&n.call(se,h)&&(oe=se);var ne=W.prototype=ue.prototype=Object.create(oe);function Ie(u){["next","throw","return"].forEach(function(o){C(u,o,function(i){return this._invoke(o,i)})})}function le(u,o){function i(p,f,x,A){var I=J(u[p],u,f);if(I.type!=="throw"){var Q=I.arg,Y=Q.value;return Y&&he(Y)=="object"&&n.call(Y,"__await")?o.resolve(Y.__await).then(function(ee){i("next",ee,x,A)},function(ee){i("throw",ee,x,A)}):o.resolve(Y).then(function(ee){Q.value=ee,x(Q)},function(ee){return i("throw",ee,x,A)})}A(I.arg)}var l;a(this,"_invoke",{value:function(f,x){function A(){return new o(function(I,Q){i(f,x,I,Q)})}return l=l?l.then(A,A):A()}})}function Qe(u,o,i){var l=fe;return function(p,f){if(l===ye)throw new Error("Generator is already running");if(l===ie){if(p==="throw")throw f;return{value:e,done:!0}}for(i.method=p,i.arg=f;;){var x=i.delegate;if(x){var A=Te(x,i);if(A){if(A===M)continue;return A}}if(i.method==="next")i.sent=i._sent=i.arg;else if(i.method==="throw"){if(l===fe)throw l=ie,i.arg;i.dispatchException(i.arg)}else i.method==="return"&&i.abrupt("return",i.arg);l=ye;var I=J(u,o,i);if(I.type==="normal"){if(l=i.done?ie:Le,I.arg===M)continue;return{value:I.arg,done:i.done}}I.type==="throw"&&(l=ie,i.method="throw",i.arg=I.arg)}}}function Te(u,o){var i=o.method,l=u.iterator[i];if(l===e)return o.delegate=null,i==="throw"&&u.iterator.return&&(o.method="return",o.arg=e,Te(u,o),o.method==="throw")||i!=="return"&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+i+"' method")),M;var p=J(l,u.iterator,o.arg);if(p.type==="throw")return o.method="throw",o.arg=p.arg,o.delegate=null,M;var f=p.arg;return f?f.done?(o[u.resultName]=f.value,o.next=u.nextLoc,o.method!=="return"&&(o.method="next",o.arg=e),o.delegate=null,M):f:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,M)}function et(u){var o={tryLoc:u[0]};1 in u&&(o.catchLoc=u[1]),2 in u&&(o.finallyLoc=u[2],o.afterLoc=u[3]),this.tryEntries.push(o)}function ve(u){var o=u.completion||{};o.type="normal",delete o.arg,u.completion=o}function ge(u){this.tryEntries=[{tryLoc:"root"}],u.forEach(et,this),this.reset(!0)}function be(u){if(u||u===""){var o=u[h];if(o)return o.call(u);if(typeof u.next=="function")return u;if(!isNaN(u.length)){var i=-1,l=function p(){for(;++i<u.length;)if(n.call(u,i))return p.value=u[i],p.done=!1,p;return p.value=e,p.done=!0,p};return l.next=l}}throw new TypeError(he(u)+" is not iterable")}return re.prototype=W,a(ne,"constructor",{value:W,configurable:!0}),a(W,"constructor",{value:re,configurable:!0}),re.displayName=C(W,m,"GeneratorFunction"),t.isGeneratorFunction=function(u){var o=typeof u=="function"&&u.constructor;return!!o&&(o===re||(o.displayName||o.name)==="GeneratorFunction")},t.mark=function(u){return Object.setPrototypeOf?Object.setPrototypeOf(u,W):(u.__proto__=W,C(u,m,"GeneratorFunction")),u.prototype=Object.create(ne),u},t.awrap=function(u){return{__await:u}},Ie(le.prototype),C(le.prototype,S,function(){return this}),t.AsyncIterator=le,t.async=function(u,o,i,l,p){p===void 0&&(p=Promise);var f=new le(L(u,o,i,l),p);return t.isGeneratorFunction(o)?f:f.next().then(function(x){return x.done?x.value:f.next()})},Ie(ne),C(ne,m,"Generator"),C(ne,h,function(){return this}),C(ne,"toString",function(){return"[object Generator]"}),t.keys=function(u){var o=Object(u),i=[];for(var l in o)i.push(l);return i.reverse(),function p(){for(;i.length;){var f=i.pop();if(f in o)return p.value=f,p.done=!1,p}return p.done=!0,p}},t.values=be,ge.prototype={constructor:ge,reset:function(o){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(ve),!o)for(var i in this)i.charAt(0)==="t"&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var o=this.tryEntries[0].completion;if(o.type==="throw")throw o.arg;return this.rval},dispatchException:function(o){if(this.done)throw o;var i=this;function l(Q,Y){return x.type="throw",x.arg=o,i.next=Q,Y&&(i.method="next",i.arg=e),!!Y}for(var p=this.tryEntries.length-1;p>=0;--p){var f=this.tryEntries[p],x=f.completion;if(f.tryLoc==="root")return l("end");if(f.tryLoc<=this.prev){var A=n.call(f,"catchLoc"),I=n.call(f,"finallyLoc");if(A&&I){if(this.prev<f.catchLoc)return l(f.catchLoc,!0);if(this.prev<f.finallyLoc)return l(f.finallyLoc)}else if(A){if(this.prev<f.catchLoc)return l(f.catchLoc,!0)}else{if(!I)throw new Error("try statement without catch or finally");if(this.prev<f.finallyLoc)return l(f.finallyLoc)}}}},abrupt:function(o,i){for(var l=this.tryEntries.length-1;l>=0;--l){var p=this.tryEntries[l];if(p.tryLoc<=this.prev&&n.call(p,"finallyLoc")&&this.prev<p.finallyLoc){var f=p;break}}f&&(o==="break"||o==="continue")&&f.tryLoc<=i&&i<=f.finallyLoc&&(f=null);var x=f?f.completion:{};return x.type=o,x.arg=i,f?(this.method="next",this.next=f.finallyLoc,M):this.complete(x)},complete:function(o,i){if(o.type==="throw")throw o.arg;return o.type==="break"||o.type==="continue"?this.next=o.arg:o.type==="return"?(this.rval=this.arg=o.arg,this.method="return",this.next="end"):o.type==="normal"&&i&&(this.next=i),M},finish:function(o){for(var i=this.tryEntries.length-1;i>=0;--i){var l=this.tryEntries[i];if(l.finallyLoc===o)return this.complete(l.completion,l.afterLoc),ve(l),M}},catch:function(o){for(var i=this.tryEntries.length-1;i>=0;--i){var l=this.tryEntries[i];if(l.tryLoc===o){var p=l.completion;if(p.type==="throw"){var f=p.arg;ve(l)}return f}}throw new Error("illegal catch attempt")},delegateYield:function(o,i,l){return this.delegate={iterator:be(o),resultName:i,nextLoc:l},this.method==="next"&&(this.arg=e),M}},t}function ut(e,t,r,n,a,s,h){try{var S=e[s](h),m=S.value}catch(C){r(C);return}S.done?t(m):Promise.resolve(m).then(n,a)}function Vt(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var s=e.apply(t,r);function h(m){ut(s,n,a,h,S,"next",m)}function S(m){ut(s,n,a,h,S,"throw",m)}h(void 0)})}}function st(e,t){return rr(e)||tr(e,t)||er(e,t)||Qt()}function Qt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function er(e,t){if(e){if(typeof e=="string")return lt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lt(e,t)}}function lt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tr(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,h,S=[],m=!0,C=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;m=!1}else for(;!(m=(n=s.call(r)).done)&&(S.push(n.value),S.length!==t);m=!0);}catch(L){C=!0,a=L}finally{try{if(!m&&r.return!=null&&(h=r.return(),Object(h)!==h))return}finally{if(C)throw a}}return S}}function rr(e){if(Array.isArray(e))return e}function he(e){"@babel/helpers - typeof";return he=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},he(e)}function ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ft(Object(r),!0).forEach(function(n){nr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nr(e,t,r){return t=pt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function or(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ct(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pt(n.key),n)}}function ir(e,t,r){return t&&ct(e.prototype,t),r&&ct(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pt(e){var t=ar(e,"string");return he(t)=="symbol"?t:String(t)}function ar(e,t){if(he(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(he(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ge="tus-v1",Ne="ietf-draft-03",ur={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:gt,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,parallelUploadBoundaries:null,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null,protocol:Ge},ht=function(){function e(t,r){or(this,e),"resume"in r&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=r,this.options.chunkSize=Number(this.options.chunkSize),this._urlStorage=this.options.urlStorage,this.file=t,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}return ir(e,[{key:"findPreviousUploads",value:function(){var r=this;return this.options.fingerprint(this.file,this.options).then(function(n){return r._urlStorage.findUploadsByFingerprint(n)})}},{key:"resumeFromPreviousUpload",value:function(r){this.url=r.uploadUrl||null,this._parallelUploadUrls=r.parallelUploadUrls||null,this._urlStorageKey=r.urlStorageKey}},{key:"start",value:function(){var r=this,n=this.file;if(!n){this._emitError(new Error("tus: no file or stream to upload provided"));return}if(![Ge,Ne].includes(this.options.protocol)){this._emitError(new Error("tus: unsupported protocol ".concat(this.options.protocol)));return}if(!this.options.endpoint&&!this.options.uploadUrl&&!this.url){this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));return}var a=this.options.retryDelays;if(a!=null&&Object.prototype.toString.call(a)!=="[object Array]"){this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"));return}if(this.options.parallelUploads>1)for(var s=0,h=["uploadUrl","uploadSize","uploadLengthDeferred"];s<h.length;s++){var S=h[s];if(this.options[S]){this._emitError(new Error("tus: cannot use the ".concat(S," option when parallelUploads is enabled")));return}}if(this.options.parallelUploadBoundaries){if(this.options.parallelUploads<=1){this._emitError(new Error("tus: cannot use the `parallelUploadBoundaries` option when `parallelUploads` is disabled"));return}if(this.options.parallelUploads!==this.options.parallelUploadBoundaries.length){this._emitError(new Error("tus: the `parallelUploadBoundaries` must have the same length as the value of `parallelUploads`"));return}}this.options.fingerprint(n,this.options).then(function(m){return m==null?pe("No fingerprint was calculated meaning that the upload cannot be stored in the URL storage."):pe("Calculated fingerprint: ".concat(m)),r._fingerprint=m,r._source?r._source:r.options.fileReader.openFile(n,r.options.chunkSize)}).then(function(m){if(r._source=m,r.options.uploadLengthDeferred)r._size=null;else if(r.options.uploadSize!=null){if(r._size=Number(r.options.uploadSize),Number.isNaN(r._size)){r._emitError(new Error("tus: cannot convert `uploadSize` option into a number"));return}}else if(r._size=r._source.size,r._size==null){r._emitError(new Error("tus: cannot automatically derive upload's size from input. Specify it manually using the `uploadSize` option or use the `uploadLengthDeferred` option"));return}r.options.parallelUploads>1||r._parallelUploadUrls!=null?r._startParallelUpload():r._startSingleUpload()}).catch(function(m){r._emitError(m)})}},{key:"_startParallelUpload",value:function(){var r,n=this,a=this._size,s=0;this._parallelUploads=[];var h=this._parallelUploadUrls!=null?this._parallelUploadUrls.length:this.options.parallelUploads,S=(r=this.options.parallelUploadBoundaries)!==null&&r!==void 0?r:lr(this._source.size,h);this._parallelUploadUrls&&S.forEach(function(L,J){L.uploadUrl=n._parallelUploadUrls[J]||null}),this._parallelUploadUrls=new Array(S.length);var m=S.map(function(L,J){var fe=0;return n._source.slice(L.start,L.end).then(function(Le){var ye=Le.value;return new Promise(function(ie,M){var ue=we(we({},n.options),{},{uploadUrl:L.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,parallelUploadBoundaries:null,metadata:{},headers:we(we({},n.options.headers),{},{"Upload-Concat":"partial"}),onSuccess:ie,onError:M,onProgress:function(oe){s=s-fe+oe,fe=oe,n._emitProgress(s,a)},onUploadUrlAvailable:function(){n._parallelUploadUrls[J]=re.url,n._parallelUploadUrls.filter(function(oe){return!!oe}).length===S.length&&n._saveUploadInUrlStorage()}}),re=new e(ye,ue);re.start(),n._parallelUploads.push(re)})})}),C;Promise.all(m).then(function(){C=n._openRequest("POST",n.options.endpoint),C.setHeader("Upload-Concat","final;".concat(n._parallelUploadUrls.join(" ")));var L=dt(n.options.metadata);return L!==""&&C.setHeader("Upload-Metadata",L),n._sendRequest(C,null)}).then(function(L){if(!Se(L.getStatus(),200)){n._emitHttpError(C,L,"tus: unexpected response while creating upload");return}var J=L.getHeader("Location");if(J==null){n._emitHttpError(C,L,"tus: invalid or missing Location header");return}n.url=bt(n.options.endpoint,J),pe("Created upload at ".concat(n.url)),n._emitSuccess()}).catch(function(L){n._emitError(L)})}},{key:"_startSingleUpload",value:function(){if(this._aborted=!1,this.url!=null){pe("Resuming upload from previous URL: ".concat(this.url)),this._resumeUpload();return}if(this.options.uploadUrl!=null){pe("Resuming upload from provided URL: ".concat(this.options.uploadUrl)),this.url=this.options.uploadUrl,this._resumeUpload();return}pe("Creating a new upload"),this._createUpload()}},{key:"abort",value:function(r){var n=this;return this._parallelUploads!=null&&this._parallelUploads.forEach(function(a){a.abort(r)}),this._req!==null&&this._req.abort(),this._aborted=!0,this._retryTimeout!=null&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),!r||this.url==null?Promise.resolve():e.terminate(this.url,this.options).then(function(){return n._removeFromUrlStorage()})}},{key:"_emitHttpError",value:function(r,n,a,s){this._emitError(new De(a,s,r,n))}},{key:"_emitError",value:function(r){var n=this;if(!this._aborted){if(this.options.retryDelays!=null){var a=this._offset!=null&&this._offset>this._offsetBeforeRetry;if(a&&(this._retryAttempt=0),vt(r,this._retryAttempt,this.options)){var s=this.options.retryDelays[this._retryAttempt++];this._offsetBeforeRetry=this._offset,this._retryTimeout=setTimeout(function(){n.start()},s);return}}if(typeof this.options.onError=="function")this.options.onError(r);else throw r}}},{key:"_emitSuccess",value:function(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),typeof this.options.onSuccess=="function"&&this.options.onSuccess()}},{key:"_emitProgress",value:function(r,n){typeof this.options.onProgress=="function"&&this.options.onProgress(r,n)}},{key:"_emitChunkComplete",value:function(r,n,a){typeof this.options.onChunkComplete=="function"&&this.options.onChunkComplete(r,n,a)}},{key:"_createUpload",value:function(){var r=this;if(!this.options.endpoint){this._emitError(new Error("tus: unable to create upload because no endpoint is provided"));return}var n=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?n.setHeader("Upload-Defer-Length",1):n.setHeader("Upload-Length",this._size);var a=dt(this.options.metadata);a!==""&&n.setHeader("Upload-Metadata",a);var s;this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,s=this._addChunkToRequest(n)):(this.options.protocol===Ne&&n.setHeader("Upload-Complete","?0"),s=this._sendRequest(n,null)),s.then(function(h){if(!Se(h.getStatus(),200)){r._emitHttpError(n,h,"tus: unexpected response while creating upload");return}var S=h.getHeader("Location");if(S==null){r._emitHttpError(n,h,"tus: invalid or missing Location header");return}if(r.url=bt(r.options.endpoint,S),pe("Created upload at ".concat(r.url)),typeof r.options.onUploadUrlAvailable=="function"&&r.options.onUploadUrlAvailable(),r._size===0){r._emitSuccess(),r._source.close();return}r._saveUploadInUrlStorage().then(function(){r.options.uploadDataDuringCreation?r._handleUploadResponse(n,h):(r._offset=0,r._performUpload())})}).catch(function(h){r._emitHttpError(n,null,"tus: failed to create upload",h)})}},{key:"_resumeUpload",value:function(){var r=this,n=this._openRequest("HEAD",this.url),a=this._sendRequest(n,null);a.then(function(s){var h=s.getStatus();if(!Se(h,200)){if(h===423){r._emitHttpError(n,s,"tus: upload is currently locked; retry later");return}if(Se(h,400)&&r._removeFromUrlStorage(),!r.options.endpoint){r._emitHttpError(n,s,"tus: unable to resume upload (new upload cannot be created without an endpoint)");return}r.url=null,r._createUpload();return}var S=parseInt(s.getHeader("Upload-Offset"),10);if(Number.isNaN(S)){r._emitHttpError(n,s,"tus: invalid or missing offset value");return}var m=parseInt(s.getHeader("Upload-Length"),10);if(Number.isNaN(m)&&!r.options.uploadLengthDeferred&&r.options.protocol===Ge){r._emitHttpError(n,s,"tus: invalid or missing length value");return}typeof r.options.onUploadUrlAvailable=="function"&&r.options.onUploadUrlAvailable(),r._saveUploadInUrlStorage().then(function(){if(S===m){r._emitProgress(m,m),r._emitSuccess();return}r._offset=S,r._performUpload()})}).catch(function(s){r._emitHttpError(n,null,"tus: failed to resume upload",s)})}},{key:"_performUpload",value:function(){var r=this;if(!this._aborted){var n;this.options.overridePatchMethod?(n=this._openRequest("POST",this.url),n.setHeader("X-HTTP-Method-Override","PATCH")):n=this._openRequest("PATCH",this.url),n.setHeader("Upload-Offset",this._offset);var a=this._addChunkToRequest(n);a.then(function(s){if(!Se(s.getStatus(),200)){r._emitHttpError(n,s,"tus: unexpected response while uploading chunk");return}r._handleUploadResponse(n,s)}).catch(function(s){r._aborted||r._emitHttpError(n,null,"tus: failed to upload chunk at offset ".concat(r._offset),s)})}}},{key:"_addChunkToRequest",value:function(r){var n=this,a=this._offset,s=this._offset+this.options.chunkSize;return r.setProgressHandler(function(h){n._emitProgress(a+h,n._size)}),r.setHeader("Content-Type","application/offset+octet-stream"),(s===1/0||s>this._size)&&!this.options.uploadLengthDeferred&&(s=this._size),this._source.slice(a,s).then(function(h){var S=h.value,m=h.done,C=S&&S.size?S.size:0;n.options.uploadLengthDeferred&&m&&(n._size=n._offset+C,r.setHeader("Upload-Length",n._size));var L=n._offset+C;return!n.options.uploadLengthDeferred&&m&&L!==n._size?Promise.reject(new Error("upload was configured with a size of ".concat(n._size," bytes, but the source is done after ").concat(L," bytes"))):S===null?n._sendRequest(r):(n.options.protocol===Ne&&r.setHeader("Upload-Complete",m?"?1":"?0"),n._emitProgress(n._offset,n._size),n._sendRequest(r,S))})}},{key:"_handleUploadResponse",value:function(r,n){var a=parseInt(n.getHeader("Upload-Offset"),10);if(Number.isNaN(a)){this._emitHttpError(r,n,"tus: invalid or missing offset value");return}if(this._emitProgress(a,this._size),this._emitChunkComplete(a-this._offset,a,this._size),this._offset=a,a===this._size){this._emitSuccess(),this._source.close();return}this._performUpload()}},{key:"_openRequest",value:function(r,n){var a=yt(r,n,this.options);return this._req=a,a}},{key:"_removeFromUrlStorage",value:function(){var r=this;this._urlStorageKey&&(this._urlStorage.removeUpload(this._urlStorageKey).catch(function(n){r._emitError(n)}),this._urlStorageKey=null)}},{key:"_saveUploadInUrlStorage",value:function(){var r=this;if(!this.options.storeFingerprintForResuming||!this._fingerprint||this._urlStorageKey!==null)return Promise.resolve();var n={size:this._size,metadata:this.options.metadata,creationTime:new Date().toString()};return this._parallelUploads?n.parallelUploadUrls=this._parallelUploadUrls:n.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,n).then(function(a){r._urlStorageKey=a})}},{key:"_sendRequest",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return mt(r,n,this.options)}}],[{key:"terminate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=yt("DELETE",r,n);return mt(a,null,n).then(function(s){if(s.getStatus()!==204)throw new De("tus: unexpected response while terminating upload",null,a,s)}).catch(function(s){if(s instanceof De||(s=new De("tus: failed to terminate upload",s,a,null)),!vt(s,0,n))throw s;var h=n.retryDelays[0],S=n.retryDelays.slice(1),m=we(we({},n),{},{retryDelays:S});return new Promise(function(C){return setTimeout(C,h)}).then(function(){return e.terminate(r,m)})})}}]),e}();function dt(e){return Object.entries(e).map(function(t){var r=st(t,2),n=r[0],a=r[1];return"".concat(n," ").concat(Dt.encode(String(a)))}).join(",")}function Se(e,t){return e>=t&&e<t+100}function yt(e,t,r){var n=r.httpStack.createRequest(e,t);r.protocol===Ne?n.setHeader("Upload-Draft-Interop-Version","5"):n.setHeader("Tus-Resumable","1.0.0");var a=r.headers||{};if(Object.entries(a).forEach(function(h){var S=st(h,2),m=S[0],C=S[1];n.setHeader(m,C)}),r.addRequestId){var s=Jt();n.setHeader("X-Request-ID",s)}return n}function mt(e,t,r){return Ke.apply(this,arguments)}function Ke(){return Ke=Vt(Me().mark(function e(t,r,n){var a;return Me().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(typeof n.onBeforeRequest!="function"){h.next=3;break}return h.next=3,n.onBeforeRequest(t);case 3:return h.next=5,t.send(r);case 5:if(a=h.sent,typeof n.onAfterResponse!="function"){h.next=9;break}return h.next=9,n.onAfterResponse(t,a);case 9:return h.abrupt("return",a);case 10:case"end":return h.stop()}},e)})),Ke.apply(this,arguments)}function sr(){var e=!0;return typeof navigator!="undefined"&&navigator.onLine===!1&&(e=!1),e}function vt(e,t,r){return r.retryDelays==null||t>=r.retryDelays.length||e.originalRequest==null?!1:r&&typeof r.onShouldRetry=="function"?r.onShouldRetry(e,t,r):gt(e)}function gt(e){var t=e.originalResponse?e.originalResponse.getStatus():0;return(!Se(t,400)||t===409||t===423)&&sr()}function bt(e,t){return new(Bt())(t,e).toString()}function lr(e,t){for(var r=Math.floor(e/t),n=[],a=0;a<t;a++)n.push({start:r*a,end:r*(a+1)});return n[t-1].end=e,n}ht.defaultOptions=ur;const Xe=ht;function Re(e){"@babel/helpers - typeof";return Re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Re(e)}function fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pr(n.key),n)}}function cr(e,t,r){return t&&_t(e.prototype,t),r&&_t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pr(e){var t=hr(e,"string");return Re(t)=="symbol"?t:String(t)}function hr(e,t){if(Re(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Re(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dr=function(){function e(){fr(this,e)}return cr(e,[{key:"listAllUploads",value:function(){return Promise.resolve([])}},{key:"findUploadsByFingerprint",value:function(r){return Promise.resolve([])}},{key:"removeUpload",value:function(r){return Promise.resolve()}},{key:"addUpload",value:function(r,n){return Promise.resolve(null)}}]),e}();function je(e){"@babel/helpers - typeof";return je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},je(e)}function yr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vr(n.key),n)}}function mr(e,t,r){return t&&wt(e.prototype,t),r&&wt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vr(e){var t=gr(e,"string");return je(t)=="symbol"?t:String(t)}function gr(e,t){if(je(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(je(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ze=!1;try{Ze="localStorage"in window;var We="tusSupport",St=localStorage.getItem(We);localStorage.setItem(We,St),St===null&&localStorage.removeItem(We)}catch(e){if(e.code===e.SECURITY_ERR||e.code===e.QUOTA_EXCEEDED_ERR)Ze=!1;else throw e}var br=Ze,_r=function(){function e(){yr(this,e)}return mr(e,[{key:"findAllUploads",value:function(){var r=this._findEntries("tus::");return Promise.resolve(r)}},{key:"findUploadsByFingerprint",value:function(r){var n=this._findEntries("tus::".concat(r,"::"));return Promise.resolve(n)}},{key:"removeUpload",value:function(r){return localStorage.removeItem(r),Promise.resolve()}},{key:"addUpload",value:function(r,n){var a=Math.round(Math.random()*1e12),s="tus::".concat(r,"::").concat(a);return localStorage.setItem(s,JSON.stringify(n)),Promise.resolve(s)}},{key:"_findEntries",value:function(r){for(var n=[],a=0;a<localStorage.length;a++){var s=localStorage.key(a);if(s.indexOf(r)===0)try{var h=JSON.parse(localStorage.getItem(s));h.urlStorageKey=s,n.push(h)}catch(S){}}return n}}]),e}();function ke(e){"@babel/helpers - typeof";return ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ke(e)}function Ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ut(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wr(n.key),n)}}function $e(e,t,r){return t&&Ut(e.prototype,t),r&&Ut(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wr(e){var t=Sr(e,"string");return ke(t)=="symbol"?t:String(t)}function Sr(e,t){if(ke(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ke(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ur=function(){function e(){Ye(this,e)}return $e(e,[{key:"createRequest",value:function(r,n){return new Cr(r,n)}},{key:"getName",value:function(){return"XHRHttpStack"}}]),e}(),Cr=function(){function e(t,r){Ye(this,e),this._xhr=new XMLHttpRequest,this._xhr.open(t,r,!0),this._method=t,this._url=r,this._headers={}}return $e(e,[{key:"getMethod",value:function(){return this._method}},{key:"getURL",value:function(){return this._url}},{key:"setHeader",value:function(r,n){this._xhr.setRequestHeader(r,n),this._headers[r]=n}},{key:"getHeader",value:function(r){return this._headers[r]}},{key:"setProgressHandler",value:function(r){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(n){n.lengthComputable&&r(n.loaded)})}},{key:"send",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return new Promise(function(a,s){r._xhr.onload=function(){a(new Er(r._xhr))},r._xhr.onerror=function(h){s(h)},r._xhr.send(n)})}},{key:"abort",value:function(){return this._xhr.abort(),Promise.resolve()}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),e}(),Er=function(){function e(t){Ye(this,e),this._xhr=t}return $e(e,[{key:"getStatus",value:function(){return this._xhr.status}},{key:"getHeader",value:function(r){return this._xhr.getResponseHeader(r)}},{key:"getBody",value:function(){return this._xhr.responseText}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),e}(),xr=function(){return typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"};const Ct=xr;function Or(e){return new Promise(function(t,r){var n=new XMLHttpRequest;n.responseType="blob",n.onload=function(){var a=n.response;t(a)},n.onerror=function(a){r(a)},n.open("GET",e),n.send()})}var Pr=function(){return typeof window!="undefined"&&(typeof window.PhoneGap!="undefined"||typeof window.Cordova!="undefined"||typeof window.cordova!="undefined")};const Rr=Pr;function jr(e){return new Promise(function(t,r){var n=new FileReader;n.onload=function(){var a=new Uint8Array(n.result);t({value:a})},n.onerror=function(a){r(a)},n.readAsArrayBuffer(e)})}function Fe(e){"@babel/helpers - typeof";return Fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fe(e)}function kr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Et(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ar(n.key),n)}}function Fr(e,t,r){return t&&Et(e.prototype,t),r&&Et(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ar(e){var t=Lr(e,"string");return Fe(t)=="symbol"?t:String(t)}function Lr(e,t){if(Fe(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fe(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xt=function(){function e(t){kr(this,e),this._file=t,this.size=t.size}return Fr(e,[{key:"slice",value:function(r,n){if(Rr())return jr(this._file.slice(r,n));var a=this._file.slice(r,n),s=n>=this.size;return Promise.resolve({value:a,done:s})}},{key:"close",value:function(){}}]),e}();function Ae(e){"@babel/helpers - typeof";return Ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ae(e)}function Ir(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ot(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dr(n.key),n)}}function Tr(e,t,r){return t&&Ot(e.prototype,t),r&&Ot(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dr(e){var t=Nr(e,"string");return Ae(t)=="symbol"?t:String(t)}function Nr(e,t){if(Ae(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ae(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pt(e){return e===void 0?0:e.size!==void 0?e.size:e.length}function Br(e,t){if(e.concat)return e.concat(t);if(e instanceof Blob)return new Blob([e,t],{type:e.type});if(e.set){var r=new e.constructor(e.length+t.length);return r.set(e),r.set(t,e.length),r}throw new Error("Unknown data type")}var zr=function(){function e(t){Ir(this,e),this._buffer=void 0,this._bufferOffset=0,this._reader=t,this._done=!1}return Tr(e,[{key:"slice",value:function(r,n){return r<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(r,n)}},{key:"_readUntilEnoughDataOrDone",value:function(r,n){var a=this,s=n<=this._bufferOffset+Pt(this._buffer);if(this._done||s){var h=this._getDataFromBuffer(r,n),S=h==null?this._done:!1;return Promise.resolve({value:h,done:S})}return this._reader.read().then(function(m){var C=m.value,L=m.done;return L?a._done=!0:a._buffer===void 0?a._buffer=C:a._buffer=Br(a._buffer,C),a._readUntilEnoughDataOrDone(r,n)})}},{key:"_getDataFromBuffer",value:function(r,n){r>this._bufferOffset&&(this._buffer=this._buffer.slice(r-this._bufferOffset),this._bufferOffset=r);var a=Pt(this._buffer)===0;return this._done&&a?null:this._buffer.slice(0,n-r)}},{key:"close",value:function(){this._reader.cancel&&this._reader.cancel()}}]),e}();function de(e){"@babel/helpers - typeof";return de=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},de(e)}function Je(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Je=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(u,o,i){u[o]=i.value},s=typeof Symbol=="function"?Symbol:{},h=s.iterator||"@@iterator",S=s.asyncIterator||"@@asyncIterator",m=s.toStringTag||"@@toStringTag";function C(u,o,i){return Object.defineProperty(u,o,{value:i,enumerable:!0,configurable:!0,writable:!0}),u[o]}try{C({},"")}catch(u){C=function(i,l,p){return i[l]=p}}function L(u,o,i,l){var p=o&&o.prototype instanceof ue?o:ue,f=Object.create(p.prototype),x=new ge(l||[]);return a(f,"_invoke",{value:Qe(u,i,x)}),f}function J(u,o,i){try{return{type:"normal",arg:u.call(o,i)}}catch(l){return{type:"throw",arg:l}}}t.wrap=L;var fe="suspendedStart",Le="suspendedYield",ye="executing",ie="completed",M={};function ue(){}function re(){}function W(){}var oe={};C(oe,h,function(){return this});var me=Object.getPrototypeOf,se=me&&me(me(be([])));se&&se!==r&&n.call(se,h)&&(oe=se);var ne=W.prototype=ue.prototype=Object.create(oe);function Ie(u){["next","throw","return"].forEach(function(o){C(u,o,function(i){return this._invoke(o,i)})})}function le(u,o){function i(p,f,x,A){var I=J(u[p],u,f);if(I.type!=="throw"){var Q=I.arg,Y=Q.value;return Y&&de(Y)=="object"&&n.call(Y,"__await")?o.resolve(Y.__await).then(function(ee){i("next",ee,x,A)},function(ee){i("throw",ee,x,A)}):o.resolve(Y).then(function(ee){Q.value=ee,x(Q)},function(ee){return i("throw",ee,x,A)})}A(I.arg)}var l;a(this,"_invoke",{value:function(f,x){function A(){return new o(function(I,Q){i(f,x,I,Q)})}return l=l?l.then(A,A):A()}})}function Qe(u,o,i){var l=fe;return function(p,f){if(l===ye)throw new Error("Generator is already running");if(l===ie){if(p==="throw")throw f;return{value:e,done:!0}}for(i.method=p,i.arg=f;;){var x=i.delegate;if(x){var A=Te(x,i);if(A){if(A===M)continue;return A}}if(i.method==="next")i.sent=i._sent=i.arg;else if(i.method==="throw"){if(l===fe)throw l=ie,i.arg;i.dispatchException(i.arg)}else i.method==="return"&&i.abrupt("return",i.arg);l=ye;var I=J(u,o,i);if(I.type==="normal"){if(l=i.done?ie:Le,I.arg===M)continue;return{value:I.arg,done:i.done}}I.type==="throw"&&(l=ie,i.method="throw",i.arg=I.arg)}}}function Te(u,o){var i=o.method,l=u.iterator[i];if(l===e)return o.delegate=null,i==="throw"&&u.iterator.return&&(o.method="return",o.arg=e,Te(u,o),o.method==="throw")||i!=="return"&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+i+"' method")),M;var p=J(l,u.iterator,o.arg);if(p.type==="throw")return o.method="throw",o.arg=p.arg,o.delegate=null,M;var f=p.arg;return f?f.done?(o[u.resultName]=f.value,o.next=u.nextLoc,o.method!=="return"&&(o.method="next",o.arg=e),o.delegate=null,M):f:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,M)}function et(u){var o={tryLoc:u[0]};1 in u&&(o.catchLoc=u[1]),2 in u&&(o.finallyLoc=u[2],o.afterLoc=u[3]),this.tryEntries.push(o)}function ve(u){var o=u.completion||{};o.type="normal",delete o.arg,u.completion=o}function ge(u){this.tryEntries=[{tryLoc:"root"}],u.forEach(et,this),this.reset(!0)}function be(u){if(u||u===""){var o=u[h];if(o)return o.call(u);if(typeof u.next=="function")return u;if(!isNaN(u.length)){var i=-1,l=function p(){for(;++i<u.length;)if(n.call(u,i))return p.value=u[i],p.done=!1,p;return p.value=e,p.done=!0,p};return l.next=l}}throw new TypeError(de(u)+" is not iterable")}return re.prototype=W,a(ne,"constructor",{value:W,configurable:!0}),a(W,"constructor",{value:re,configurable:!0}),re.displayName=C(W,m,"GeneratorFunction"),t.isGeneratorFunction=function(u){var o=typeof u=="function"&&u.constructor;return!!o&&(o===re||(o.displayName||o.name)==="GeneratorFunction")},t.mark=function(u){return Object.setPrototypeOf?Object.setPrototypeOf(u,W):(u.__proto__=W,C(u,m,"GeneratorFunction")),u.prototype=Object.create(ne),u},t.awrap=function(u){return{__await:u}},Ie(le.prototype),C(le.prototype,S,function(){return this}),t.AsyncIterator=le,t.async=function(u,o,i,l,p){p===void 0&&(p=Promise);var f=new le(L(u,o,i,l),p);return t.isGeneratorFunction(o)?f:f.next().then(function(x){return x.done?x.value:f.next()})},Ie(ne),C(ne,m,"Generator"),C(ne,h,function(){return this}),C(ne,"toString",function(){return"[object Generator]"}),t.keys=function(u){var o=Object(u),i=[];for(var l in o)i.push(l);return i.reverse(),function p(){for(;i.length;){var f=i.pop();if(f in o)return p.value=f,p.done=!1,p}return p.done=!0,p}},t.values=be,ge.prototype={constructor:ge,reset:function(o){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(ve),!o)for(var i in this)i.charAt(0)==="t"&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var o=this.tryEntries[0].completion;if(o.type==="throw")throw o.arg;return this.rval},dispatchException:function(o){if(this.done)throw o;var i=this;function l(Q,Y){return x.type="throw",x.arg=o,i.next=Q,Y&&(i.method="next",i.arg=e),!!Y}for(var p=this.tryEntries.length-1;p>=0;--p){var f=this.tryEntries[p],x=f.completion;if(f.tryLoc==="root")return l("end");if(f.tryLoc<=this.prev){var A=n.call(f,"catchLoc"),I=n.call(f,"finallyLoc");if(A&&I){if(this.prev<f.catchLoc)return l(f.catchLoc,!0);if(this.prev<f.finallyLoc)return l(f.finallyLoc)}else if(A){if(this.prev<f.catchLoc)return l(f.catchLoc,!0)}else{if(!I)throw new Error("try statement without catch or finally");if(this.prev<f.finallyLoc)return l(f.finallyLoc)}}}},abrupt:function(o,i){for(var l=this.tryEntries.length-1;l>=0;--l){var p=this.tryEntries[l];if(p.tryLoc<=this.prev&&n.call(p,"finallyLoc")&&this.prev<p.finallyLoc){var f=p;break}}f&&(o==="break"||o==="continue")&&f.tryLoc<=i&&i<=f.finallyLoc&&(f=null);var x=f?f.completion:{};return x.type=o,x.arg=i,f?(this.method="next",this.next=f.finallyLoc,M):this.complete(x)},complete:function(o,i){if(o.type==="throw")throw o.arg;return o.type==="break"||o.type==="continue"?this.next=o.arg:o.type==="return"?(this.rval=this.arg=o.arg,this.method="return",this.next="end"):o.type==="normal"&&i&&(this.next=i),M},finish:function(o){for(var i=this.tryEntries.length-1;i>=0;--i){var l=this.tryEntries[i];if(l.finallyLoc===o)return this.complete(l.completion,l.afterLoc),ve(l),M}},catch:function(o){for(var i=this.tryEntries.length-1;i>=0;--i){var l=this.tryEntries[i];if(l.tryLoc===o){var p=l.completion;if(p.type==="throw"){var f=p.arg;ve(l)}return f}}throw new Error("illegal catch attempt")},delegateYield:function(o,i,l){return this.delegate={iterator:be(o),resultName:i,nextLoc:l},this.method==="next"&&(this.arg=e),M}},t}function Rt(e,t,r,n,a,s,h){try{var S=e[s](h),m=S.value}catch(C){r(C);return}S.done?t(m):Promise.resolve(m).then(n,a)}function Hr(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var s=e.apply(t,r);function h(m){Rt(s,n,a,h,S,"next",m)}function S(m){Rt(s,n,a,h,S,"throw",m)}h(void 0)})}}function qr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gr(n.key),n)}}function Mr(e,t,r){return t&&jt(e.prototype,t),r&&jt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gr(e){var t=Kr(e,"string");return de(t)=="symbol"?t:String(t)}function Kr(e,t){if(de(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(de(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xr=function(){function e(){qr(this,e)}return Mr(e,[{key:"openFile",value:function(){var t=Hr(Je().mark(function n(a,s){var h;return Je().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(!(Ct()&&a&&typeof a.uri!="undefined")){m.next=11;break}return m.prev=1,m.next=4,Or(a.uri);case 4:return h=m.sent,m.abrupt("return",new xt(h));case 8:throw m.prev=8,m.t0=m.catch(1),new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(m.t0));case 11:if(!(typeof a.slice=="function"&&typeof a.size!="undefined")){m.next=13;break}return m.abrupt("return",Promise.resolve(new xt(a)));case 13:if(typeof a.read!="function"){m.next=18;break}if(s=Number(s),Number.isFinite(s)){m.next=17;break}return m.abrupt("return",Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option")));case 17:return m.abrupt("return",Promise.resolve(new zr(a,s)));case 18:return m.abrupt("return",Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment")));case 19:case"end":return m.stop()}},n,null,[[1,8]])}));function r(n,a){return t.apply(this,arguments)}return r}()}]),e}();function Zr(e,t){return Ct()?Promise.resolve(Wr(e,t)):Promise.resolve(["tus-br",e.name,e.type,e.size,e.lastModified,t.endpoint].join("-"))}function Wr(e,t){var r=e.exif?Yr(JSON.stringify(e.exif)):"noexif";return["tus-rn",e.name||"noname",e.size||"nosize",r,t.endpoint].join("/")}function Yr(e){var t=0;if(e.length===0)return t;for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);t=(t<<5)-t+n,t&=t}return t}function Ue(e){"@babel/helpers - typeof";return Ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ue(e)}function $r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lt(n.key),n)}}function Jr(e,t,r){return t&&kt(e.prototype,t),r&&kt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vr(e,t,r){return t=Be(t),Qr(e,Ft()?Reflect.construct(t,r||[],Be(e).constructor):t.apply(e,r))}function Qr(e,t){if(t&&(Ue(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return en(e)}function en(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ft(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ft=function(){return!!e})()}function Be(e){return Be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Be(e)}function tn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ve(e,t)}function Ve(e,t){return Ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ve(e,t)}function At(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?At(Object(r),!0).forEach(function(n){rn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):At(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rn(e,t,r){return t=Lt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lt(e){var t=nn(e,"string");return Ue(t)=="symbol"?t:String(t)}function nn(e,t){if(Ue(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ue(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var It=Ce(Ce({},Xe.defaultOptions),{},{httpStack:new Ur,fileReader:new Xr,urlStorage:br?new _r:new dr,fingerprint:Zr}),on=function(e){tn(t,e);function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return $r(this,t),n=Ce(Ce({},It),n),Vr(this,t,[r,n])}return Jr(t,null,[{key:"terminate",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a=Ce(Ce({},It),a),Xe.terminate(n,a)}}]),t}(Xe),sn=typeof XMLHttpRequest=="function"&&typeof Blob=="function"&&typeof Blob.prototype.slice=="function"},"../../../node_modules/.pnpm/url-parse@1.5.10/node_modules/url-parse/index.js":(K,F,R)=>{"use strict";var T=R("../../../node_modules/.pnpm/requires-port@1.0.0/node_modules/requires-port/index.js"),B=R("../../../node_modules/.pnpm/querystringify@2.2.0/node_modules/querystringify/index.js"),G=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,g=/[\n\r\t]/g,te=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,z=/:\d+$/,q=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,P=/^[a-zA-Z]:/;function _(d){return(d||"").toString().replace(G,"")}var b=[["#","hash"],["?","query"],function(y,v){return E(v.protocol)?y.replace(/\\/g,"/"):y},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],N={hash:1,query:1};function U(d){var y;typeof window!="undefined"?y=window:typeof R.g!="undefined"?y=R.g:typeof self!="undefined"?y=self:y={};var v=y.location||{};d=d||v;var c={},k=typeof d,O;if(d.protocol==="blob:")c=new X(unescape(d.pathname),{});else if(k==="string"){c=new X(d,{});for(O in N)delete c[O]}else if(k==="object"){for(O in d)O in N||(c[O]=d[O]);c.slashes===void 0&&(c.slashes=te.test(d.href))}return c}function E(d){return d==="file:"||d==="ftp:"||d==="http:"||d==="https:"||d==="ws:"||d==="wss:"}function H(d,y){d=_(d),d=d.replace(g,""),y=y||{};var v=q.exec(d),c=v[1]?v[1].toLowerCase():"",k=!!v[2],O=!!v[3],D=0,j;return k?O?(j=v[2]+v[3]+v[4],D=v[2].length+v[3].length):(j=v[2]+v[4],D=v[2].length):O?(j=v[3]+v[4],D=v[3].length):j=v[4],c==="file:"?D>=2&&(j=j.slice(2)):E(c)?j=v[4]:c?k&&(j=j.slice(2)):D>=2&&E(y.protocol)&&(j=v[4]),{protocol:c,slashes:k||E(c),slashesCount:D,rest:j}}function ae(d,y){if(d==="")return y;for(var v=(y||"/").split("/").slice(0,-1).concat(d.split("/")),c=v.length,k=v[c-1],O=!1,D=0;c--;)v[c]==="."?v.splice(c,1):v[c]===".."?(v.splice(c,1),D++):D&&(c===0&&(O=!0),v.splice(c,1),D--);return O&&v.unshift(""),(k==="."||k==="..")&&v.push(""),v.join("/")}function X(d,y,v){if(d=_(d),d=d.replace(g,""),!(this instanceof X))return new X(d,y,v);var c,k,O,D,j,V,ce=b.slice(),Ee=typeof y,w=this,xe=0;for(Ee!=="object"&&Ee!=="string"&&(v=y,y=null),v&&typeof v!="function"&&(v=B.parse),y=U(y),k=H(d||"",y),c=!k.protocol&&!k.slashes,w.slashes=k.slashes||c&&y.slashes,w.protocol=k.protocol||y.protocol||"",d=k.rest,(k.protocol==="file:"&&(k.slashesCount!==2||P.test(d))||!k.slashes&&(k.protocol||k.slashesCount<2||!E(w.protocol)))&&(ce[3]=[/(.*)/,"pathname"]);xe<ce.length;xe++){if(D=ce[xe],typeof D=="function"){d=D(d,w);continue}O=D[0],V=D[1],O!==O?w[V]=d:typeof O=="string"?(j=O==="@"?d.lastIndexOf(O):d.indexOf(O),~j&&(typeof D[2]=="number"?(w[V]=d.slice(0,j),d=d.slice(j+D[2])):(w[V]=d.slice(j),d=d.slice(0,j)))):(j=O.exec(d))&&(w[V]=j[1],d=d.slice(0,j.index)),w[V]=w[V]||c&&D[3]&&y[V]||"",D[4]&&(w[V]=w[V].toLowerCase())}v&&(w.query=v(w.query)),c&&y.slashes&&w.pathname.charAt(0)!=="/"&&(w.pathname!==""||y.pathname!=="")&&(w.pathname=ae(w.pathname,y.pathname)),w.pathname.charAt(0)!=="/"&&E(w.protocol)&&(w.pathname="/"+w.pathname),T(w.port,w.protocol)||(w.host=w.hostname,w.port=""),w.username=w.password="",w.auth&&(j=w.auth.indexOf(":"),~j?(w.username=w.auth.slice(0,j),w.username=encodeURIComponent(decodeURIComponent(w.username)),w.password=w.auth.slice(j+1),w.password=encodeURIComponent(decodeURIComponent(w.password))):w.username=encodeURIComponent(decodeURIComponent(w.auth)),w.auth=w.password?w.username+":"+w.password:w.username),w.origin=w.protocol!=="file:"&&E(w.protocol)&&w.host?w.protocol+"//"+w.host:"null",w.href=w.toString()}function Z(d,y,v){var c=this;switch(d){case"query":typeof y=="string"&&y.length&&(y=(v||B.parse)(y)),c[d]=y;break;case"port":c[d]=y,T(y,c.protocol)?y&&(c.host=c.hostname+":"+y):(c.host=c.hostname,c[d]="");break;case"hostname":c[d]=y,c.port&&(y+=":"+c.port),c.host=y;break;case"host":c[d]=y,z.test(y)?(y=y.split(":"),c.port=y.pop(),c.hostname=y.join(":")):(c.hostname=y,c.port="");break;case"protocol":c.protocol=y.toLowerCase(),c.slashes=!v;break;case"pathname":case"hash":if(y){var k=d==="pathname"?"/":"#";c[d]=y.charAt(0)!==k?k+y:y}else c[d]=y;break;case"username":case"password":c[d]=encodeURIComponent(y);break;case"auth":var O=y.indexOf(":");~O?(c.username=y.slice(0,O),c.username=encodeURIComponent(decodeURIComponent(c.username)),c.password=y.slice(O+1),c.password=encodeURIComponent(decodeURIComponent(c.password))):c.username=encodeURIComponent(decodeURIComponent(y))}for(var D=0;D<b.length;D++){var j=b[D];j[4]&&(c[j[1]]=c[j[1]].toLowerCase())}return c.auth=c.password?c.username+":"+c.password:c.username,c.origin=c.protocol!=="file:"&&E(c.protocol)&&c.host?c.protocol+"//"+c.host:"null",c.href=c.toString(),c}function $(d){(!d||typeof d!="function")&&(d=B.stringify);var y,v=this,c=v.host,k=v.protocol;k&&k.charAt(k.length-1)!==":"&&(k+=":");var O=k+(v.protocol&&v.slashes||E(v.protocol)?"//":"");return v.username?(O+=v.username,v.password&&(O+=":"+v.password),O+="@"):v.password?(O+=":"+v.password,O+="@"):v.protocol!=="file:"&&E(v.protocol)&&!c&&v.pathname!=="/"&&(O+="@"),(c[c.length-1]===":"||z.test(v.hostname)&&!v.port)&&(c+=":"),O+=c+v.pathname,y=typeof v.query=="object"?d(v.query):v.query,y&&(O+=y.charAt(0)!=="?"?"?"+y:y),v.hash&&(O+=v.hash),O}X.prototype={set:Z,toString:$},X.extractProtocol=H,X.location=U,X.trimLeft=_,X.qs=B,K.exports=X}}]);})();
