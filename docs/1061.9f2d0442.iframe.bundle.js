"use strict";(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[1061],{"../analytics/index.jsx":(w,k,n)=>{n.d(k,{Z:()=>j});var _=n("../../../node_modules/.pnpm/debug@4.3.4/node_modules/debug/src/browser.js"),g=n.n(_);const i=g()("dops:analytics");let l,o;window._tkq=window._tkq||[],window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=+new Date;function y(e,a){let t="";if(typeof e=="object"){for(const c in e)t+="&x_"+encodeURIComponent(c)+"="+encodeURIComponent(e[c]);i("Bumping stats %o",e)}else t="&x_"+encodeURIComponent(e)+"="+encodeURIComponent(a),i('Bumping stat "%s" in group "%s"',a,e);return t}function P(e,a){let t="";if(typeof e=="object"){for(const c in e)t+="&"+encodeURIComponent(c)+"="+encodeURIComponent(e[c]);i("Built stats %o",e)}else t="&"+encodeURIComponent(e)+"="+encodeURIComponent(a),i('Built stat "%s" in group "%s"',a,e);return t}const d={initialize:function(e,a,t){d.setUser(e,a),d.setSuperProps(t),d.identifyUser()},setGoogleAnalyticsEnabled:function(e,a=null){this.googleAnalyticsEnabled=e,this.googleAnalyticsKey=a},setMcAnalyticsEnabled:function(e){this.mcAnalyticsEnabled=e},setUser:function(e,a){o={ID:e,username:a}},setSuperProps:function(e){l=e},assignSuperProps:function(e){l=Object.assign(l||{},e)},mc:{bumpStat:function(e,a){const t=y(e,a);d.mcAnalyticsEnabled&&(new Image().src=document.location.protocol+"//pixel.wp.com/g.gif?v=wpcom-no-pv"+t+"&t="+Math.random())},bumpStatWithPageView:function(e,a){const t=P(e,a);d.mcAnalyticsEnabled&&(new Image().src=document.location.protocol+"//pixel.wp.com/g.gif?v=wpcom"+t+"&t="+Math.random())}},pageView:{record:function(e,a){d.tracks.recordPageView(e),d.ga.recordPageView(e,a)}},purchase:{record:function(e,a,t,c,u,s,h){d.ga.recordPurchase(e,a,t,c,u,s,h)}},tracks:{recordEvent:function(e,a){if(a=a||{},e.indexOf("akismet_")!==0&&e.indexOf("jetpack_")!==0){i('- Event name must be prefixed by "akismet_" or "jetpack_"');return}l&&(i("- Super Props: %o",l),a=Object.assign(a,l)),i('Record event "%s" called with props %s',e,JSON.stringify(a)),window._tkq.push(["recordEvent",e,a])},recordJetpackClick:function(e){const a=typeof e=="object"?e:{target:e};d.tracks.recordEvent("jetpack_wpa_click",a)},recordPageView:function(e){d.tracks.recordEvent("akismet_page_view",{path:e})},setOptOut:function(e){i("Pushing setOptOut: %o",e),window._tkq.push(["setOptOut",e])}},ga:{initialized:!1,initialize:function(){let e={};d.ga.initialized||(o&&(e={userId:"u-"+o.ID}),window.ga("create",this.googleAnalyticsKey,"auto",e),d.ga.initialized=!0)},recordPageView:function(e,a){d.ga.initialize(),i("Recording Page View ~ [URL: "+e+"] [Title: "+a+"]"),this.googleAnalyticsEnabled&&(window.ga("set","page",e),window.ga("send",{hitType:"pageview",page:e,title:a}))},recordEvent:function(e,a,t,c){d.ga.initialize();let u="Recording Event ~ [Category: "+e+"] [Action: "+a+"]";typeof t!="undefined"&&(u+=" [Option Label: "+t+"]"),typeof c!="undefined"&&(u+=" [Option Value: "+c+"]"),i(u),this.googleAnalyticsEnabled&&window.ga("send","event",e,a,t,c)},recordPurchase:function(e,a,t,c,u,s,h){window.ga("require","ecommerce"),window.ga("ecommerce:addTransaction",{id:e,revenue:c,currency:h}),window.ga("ecommerce:addItem",{id:e,name:a,sku:t,price:u,quantity:s}),window.ga("ecommerce:send")}},identifyUser:function(){o&&window._tkq.push(["identifyUser",o.ID,o.username])},setProperties:function(e){window._tkq.push(["setProperties",e])},clearedIdentity:function(){window._tkq.push(["clearIdentity"])}},j=d},"../../packages/my-jetpack/_inc/components/card/index.jsx":(w,k,n)=>{n.d(k,{U:()=>u,Z:()=>h});var _=n("../components/components/text/index.tsx"),g=n("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),i=n.n(g),l=n("../../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js"),o=n.n(l),y=n("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),P=n("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),d=n.n(P),j=n("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[16].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/my-jetpack/_inc/components/card/style.module.scss"),e={};e.insert="head",e.singleton=!1;var a=d()(j.Z,e);const t=j.Z.locals||{};var c=n("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const u=v=>{const{children:r,className:m}=v,D=i()(t.container,m);return(0,c.jsx)("div",{className:D,children:r})};u.displayName="CardWrapper";const s=v=>{const{title:r,headerRightContent:m,className:D,children:A}=v;return(0,c.jsxs)(u,{className:D,children:[(0,c.jsxs)("div",{className:t.title,children:[(0,c.jsx)("div",{className:t.name,children:(0,c.jsx)(_.ZP,{variant:"title-medium",children:r})}),m]}),A]})};s.displayName="Card",s.propTypes={children:o().node,title:o().string.isRequired,className:o().string,headerRightContent:o().node};const h=s;u.__docgenInfo={description:"",methods:[],displayName:"CardWrapper"},s.__docgenInfo={description:"",methods:[],displayName:"Card",props:{children:{description:"",type:{name:"node"},required:!1},title:{description:"",type:{name:"string"},required:!0},className:{description:"",type:{name:"string"},required:!1},headerRightContent:{description:"",type:{name:"node"},required:!1}}}},"../../packages/my-jetpack/_inc/components/product-card/index.jsx":(w,k,n)=>{n.d(k,{ZP:()=>T,bY:()=>D});var _=n("../components/components/button/index.tsx"),g=n("../../../node_modules/.pnpm/@wordpress+components@25.14.0_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/dropdown/index.js"),i=n("../../../node_modules/.pnpm/@wordpress+data@9.18.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-dispatch/use-dispatch.js"),l=n("../../../node_modules/.pnpm/@wordpress+i18n@4.48.0/node_modules/@wordpress/i18n/build-module/index.js"),o=n("../../../node_modules/.pnpm/@wordpress+icons@9.39.0_react@18.2.0/node_modules/@wordpress/icons/build-module/library/more-vertical.js"),y=n("../../../node_modules/.pnpm/@wordpress+icons@9.39.0_react@18.2.0/node_modules/@wordpress/icons/build-module/library/download.js"),P=n("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),d=n.n(P),j=n("../../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js"),e=n.n(j),a=n("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),t=n("../../packages/my-jetpack/_inc/hooks/use-analytics/index.js"),c=n("../../packages/my-jetpack/_inc/state/store.js"),u=n("../../packages/my-jetpack/_inc/components/card/index.jsx"),s=n("../../packages/my-jetpack/_inc/components/product-card/action-button.jsx"),h=n("../../packages/my-jetpack/_inc/components/product-card/status.jsx"),v=n("../../packages/my-jetpack/_inc/components/product-card/style.module.scss"),r=n("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const m=l.__,D={[s.N.ACTIVE]:m("Active","jetpack-my-jetpack"),[s.N.INACTIVE]:m("Inactive","jetpack-my-jetpack"),[s.N.NEEDS_PURCHASE]:m("Inactive","jetpack-my-jetpack"),[s.N.NEEDS_PURCHASE_OR_FREE]:m("Inactive","jetpack-my-jetpack"),[s.N.ERROR]:m("Error","jetpack-my-jetpack"),[s.N.CAN_UPGRADE]:m("Active","jetpack-my-jetpack")},A=({items:x=[],showInstall:M=!1,onInstall:b,showActivate:R=!1,showDeactivate:N=!1,onActivate:S,onDeactivate:U})=>(0,r.jsx)(g.Z,{popoverProps:{noArrow:!1,placement:"bottom-end"},renderToggle:({isOpen:I,onToggle:f})=>(0,r.jsx)(_.Z,{variant:"tertiary",size:"small",icon:o.Z,onClick:f,"aria-expanded":I}),renderContent:({onClose:I})=>(0,r.jsxs)(r.Fragment,{children:[x.map(f=>(0,r.jsx)(_.Z,{weight:"regular",fullWidth:!0,variant:"tertiary",icon:f==null?void 0:f.icon,onClick:()=>{var p;I(),(p=f==null?void 0:f.onClick)==null||p.call(f)},children:f==null?void 0:f.label})),M&&(0,r.jsx)(_.Z,{weight:"regular",fullWidth:!0,variant:"tertiary",icon:y.Z,onClick:()=>{I(),b==null||b()},children:m("Install Plugin","jetpack-my-jetpack")}),R&&(0,r.jsx)(_.Z,{weight:"regular",fullWidth:!0,variant:"tertiary",onClick:()=>{I(),S==null||S()},children:m("Activate Plugin","jetpack-my-jetpack")}),N&&(0,r.jsx)(_.Z,{weight:"regular",fullWidth:!0,variant:"tertiary",onClick:()=>{I(),U==null||U()},children:m("Deactivate Plugin","jetpack-my-jetpack")})]})});A.displayName="Menu",A.propTypes={onActivate:e().func,onDeactivate:e().func,showActivate:e().bool,showDeactivate:e().bool,showInstall:e().bool,items:e().arrayOf(e().shape({label:e().string,icon:e().node,onClick:e().func})),onInstall:e().func},A.defaultProps={onActivate:()=>{},onDeactivate:()=>{},showActivate:!1,showDeactivate:!1};const C=x=>{const{name:M,Description:b,status:R,onActivate:N,isFetching:S,isDataLoading:U,isInstallingStandalone:I,isDeactivatingStandalone:f,slug:p,additionalActions:K,children:H,showMenu:V=!1,showActivateOption:F=!1,showDeactivateOption:G=!1,showInstallOption:Q=!1,menuItems:z=[],onInstallStandalone:L,onActivateStandalone:B,onDeactivateStandalone:Z}=x,J=R===s.N.ERROR,W=R===s.N.ABSENT||R===s.N.ABSENT_WITH_PLAN,X=R===s.N.NEEDS_PURCHASE||R===s.N.NEEDS_PURCHASE_OR_FREE,Y=d()({[v.Z.plugin_absent]:W,[v.Z["is-purchase-required"]]:X,[v.Z["is-link"]]:W,[v.Z["has-error"]]:J}),{recordEvent:E}=(0,t.Z)(),{dismissWelcomeBanner:O}=(0,i.Z)(c.t),q=(0,a.useCallback)(()=>{E("jetpack_myjetpack_product_card_activate_click",{product:p}),O(),N()},[p,N,O,E]),$=(0,a.useCallback)(()=>{E("jetpack_myjetpack_product_card_add_click",{product:p}),O()},[p,E,O]),ee=(0,a.useCallback)(()=>{E("jetpack_myjetpack_product_card_manage_click",{product:p}),O()},[p,E,O]),ne=(0,a.useCallback)(()=>{E("jetpack_myjetpack_product_card_fixconnection_click",{product:p}),O()},[p,E,O]),ae=(0,a.useCallback)(()=>{E("jetpack_myjetpack_product_card_learnmore_click",{product:p}),O()},[p,E,O]),se=(0,a.useCallback)(()=>{E("jetpack_myjetpack_product_card_install_standalone_plugin_click",{product:p}),L()},[p,L,E]),te=(0,a.useCallback)(()=>{E("jetpack_myjetpack_product_card_activate_standalone_plugin_click",{product:p}),B()},[p,B,E]),oe=(0,a.useCallback)(()=>{E("jetpack_myjetpack_product_card_deactivate_standalone_plugin_click",{product:p}),Z()},[p,Z,E]);return(0,r.jsxs)(u.Z,{title:M,className:d()(v.Z.container,Y),headerRightContent:V&&(0,r.jsx)(A,{items:z,showActivate:F,showDeactivate:G,onActivate:te,onDeactivate:oe,showInstall:Q,onInstall:se}),children:[(0,r.jsx)(b,{}),U?(0,r.jsx)("span",{className:v.Z.loading,children:m("Loading\u2026","jetpack-my-jetpack")}):H,(0,r.jsxs)("div",{className:v.Z.actions,children:[(0,r.jsx)(s.Z,{...x,onActivate:q,onFixConnection:ne,onManage:ee,onAdd:$,onLearnMore:ae,className:v.Z.button,additionalActions:K}),!W&&(0,r.jsx)(h.Z,{status:R,isFetching:f,isInstallingStandalone:I,isDeactivatingStandalone:S})]})]})};C.displayName="ProductCard",C.propTypes={children:e().node,name:e().string.isRequired,Description:e().func.isRequired,admin:e().bool.isRequired,isFetching:e().bool,isInstallingStandalone:e().bool,isDeactivatingStandalone:e().bool,isManageDisabled:e().bool,onActivate:e().func,slug:e().string.isRequired,showMenu:e().bool,showActivateOption:e().bool,showDeactivateOption:e().bool,showInstallOption:e().bool,menuItems:e().arrayOf(e().shape({label:e().string,icon:e().node,onClick:e().func})),additionalActions:e().array,onInstallStandalone:e().func,onActivateStandalone:e().func,onDeactivateStandalone:e().func,status:e().oneOf([s.N.ACTIVE,s.N.INACTIVE,s.N.ERROR,s.N.ABSENT,s.N.ABSENT_WITH_PLAN,s.N.NEEDS_PURCHASE,s.N.NEEDS_PURCHASE_OR_FREE,s.N.CAN_UPGRADE]).isRequired},C.defaultProps={isFetching:!1,isInstallingStandalone:!1,isDeactivatingStandalone:!1,onActivate:()=>{},showMenu:!1,showActivateOption:!1,showDeactivateOption:!1,showInstallOption:!1,menuItems:[]};const T=C;C.__docgenInfo={description:"",methods:[],displayName:"ProductCard",props:{isFetching:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},isInstallingStandalone:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},isDeactivatingStandalone:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},onActivate:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},showMenu:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},showActivateOption:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},showDeactivateOption:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},showInstallOption:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},menuItems:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"shape",value:{label:{name:"string",required:!1},icon:{name:"node",required:!1},onClick:{name:"func",required:!1}}}},required:!1},children:{description:"",type:{name:"node"},required:!1},name:{description:"",type:{name:"string"},required:!0},Description:{description:"",type:{name:"func"},required:!0},admin:{description:"",type:{name:"bool"},required:!0},isManageDisabled:{description:"",type:{name:"bool"},required:!1},slug:{description:"",type:{name:"string"},required:!0},additionalActions:{description:"",type:{name:"array"},required:!1},onInstallStandalone:{description:"",type:{name:"func"},required:!1},onActivateStandalone:{description:"",type:{name:"func"},required:!1},onDeactivateStandalone:{description:"",type:{name:"func"},required:!1},status:{description:"",type:{name:"enum",value:[{value:"'active'",computed:!1},{value:"'inactive'",computed:!1},{value:"'error'",computed:!1},{value:"'plugin_absent'",computed:!1},{value:"'plugin_absent_with_plan'",computed:!1},{value:"'needs_purchase'",computed:!1},{value:"'needs_purchase_or_free'",computed:!1},{value:"'can_upgrade'",computed:!1}]},required:!0}}}},"../../packages/my-jetpack/_inc/components/product-card/status.jsx":(w,k,n)=>{n.d(k,{Z:()=>e});var _=n("../components/components/text/index.tsx"),g=n("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),i=n.n(g),l=n("../../packages/my-jetpack/_inc/components/product-card/action-button.jsx"),o=n("../../packages/my-jetpack/_inc/components/product-card/style.module.scss"),y=n("../../packages/my-jetpack/_inc/components/product-card/index.jsx"),P=n("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const d=a=>{switch(a){case l.N.ACTIVE:case l.N.CAN_UPGRADE:return o.Z.active;case l.N.INACTIVE:case l.N.NEEDS_PURCHASE:case l.N.NEEDS_PURCHASE_OR_FREE:return o.Z.inactive;case l.N.ERROR:return o.Z.error;default:return""}},j=({status:a,isFetching:t,isInstallingStandalone:c,isDeactivatingStandalone:u})=>{const s=y.bY[a],h=i()(o.Z.status,d(a),{[o.Z["is-fetching"]]:t||c||u});return(0,P.jsx)(_.ZP,{variant:"label",className:h,children:s})};j.displayName="Status";const e=j;j.__docgenInfo={description:"",methods:[],displayName:"Status"}},"../../packages/my-jetpack/_inc/hooks/use-analytics/index.js":(w,k,n)=>{n.d(k,{Z:()=>o});var _=n("../analytics/index.jsx"),g=n("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),i=n("../../packages/my-jetpack/_inc/hooks/use-my-jetpack-connection/index.js");const o=()=>{var C;const{isUserConnected:y,connectedPlugins:P,userConnectionData:d={}}=(0,i.Z)(),{login:j,ID:e}=((C=d.currentUser)==null?void 0:C.wpcomUser)||{};(0,g.useEffect)(()=>{y&&e&&j&&_.Z.initialize(e,j)},[e,y,j]);const a=Object.keys(P||{}).sort().join(",").replaceAll("jetpack-",""),{clearedIdentity:t,ga:c,mc:u,pageView:s,purchase:h,setGoogleAnalyticsEnabled:v,setMcAnalyticsEnabled:r,setProperties:m,tracks:D}=_.Z,A=(0,g.useCallback)((T,x)=>{var M;D.recordEvent(T,{...x,version:(M=window==null?void 0:window.myJetpackInitialState)==null?void 0:M.myJetpackVersion,referring_plugins:a})},[]);return{clearedIdentity:t,ga:c,mc:u,pageView:s,purchase:h,recordEvent:A,setGoogleAnalyticsEnabled:v,setMcAnalyticsEnabled:r,setProperties:m,tracks:D}}},"../../packages/my-jetpack/_inc/hooks/use-my-jetpack-connection/index.js":(w,k,n)=>{n.d(k,{Z:()=>g});var _=n("../connection/components/use-connection/index.jsx");function g(){const{apiRoot:i,apiNonce:l}=myJetpackRest,{topJetpackMenuItemUrl:o}=myJetpackInitialState,y=(0,_.Z)({apiRoot:i,apiNonce:l}),P=y.isRegistered;return{apiNonce:l,apiRoot:i,...y,isSiteConnected:P,topJetpackMenuItemUrl:o}}},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[16].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/my-jetpack/_inc/components/card/style.module.scss":(w,k,n)=>{n.d(k,{Z:()=>y});var _=n("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),g=n.n(_),i=n("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),l=n.n(i),o=l()(g());o.push([w.id,".pecv05IGfM82FIHp9Q4E{padding:calc(var(--spacing-base)*3);background:var(--jp-white);border:1px solid var(--jp-gray-5);border-radius:var(--jp-border-radius-rna);box-shadow:0 4px 12px 0px rgba(0,0,0,.06);height:100%;display:flex;flex-direction:column}.pecv05IGfM82FIHp9Q4E.jgcGPDlYaLnB6QcRWSWR{background:none;text-decoration:none;background-color:var(--jp-white-off);color:var(--jp-black-80)}.pecv05IGfM82FIHp9Q4E.jgcGPDlYaLnB6QcRWSWR:focus{box-shadow:0 0 0 1.5px var(--jp-black);background-color:var(--jp-white);outline:3px solid rgba(0,0,0,0)}.pecv05IGfM82FIHp9Q4E.Hv659vLLaZ8SaSWyxtAZ{box-shadow:0 0 0 1.5px var(--jp-red-60)}.i1rUritEO7pQO4fsj9PF{width:100%;display:flex;gap:var(--spacing-base);align-items:center;justify-content:space-between;margin-bottom:var(--spacing-base)}.i1rUritEO7pQO4fsj9PF h3{font-weight:700}.YP7299HZXBCUg1n1NUqU{display:flex;height:100%;gap:var(--spacing-base);align-items:center;flex-wrap:wrap-reverse}",""]),o.locals={container:"pecv05IGfM82FIHp9Q4E","is-link":"jgcGPDlYaLnB6QcRWSWR","has-error":"Hv659vLLaZ8SaSWyxtAZ",title:"i1rUritEO7pQO4fsj9PF",name:"YP7299HZXBCUg1n1NUqU"};const y=o}}]);})();
