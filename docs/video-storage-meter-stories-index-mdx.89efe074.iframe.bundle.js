(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[7508,1119],{"../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/extends.js":(g,l,e)=>{"use strict";e.d(l,{Z:()=>o});function o(){return o=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(s[n]=a[n])}return s},o.apply(this,arguments)}},"../../../node_modules/.pnpm/@emotion+use-insertion-effect-with-fallbacks@1.0.1_react@18.2.0/node_modules/@emotion/use-insertion-effect-with-fallbacks/dist/emotion-use-insertion-effect-with-fallbacks.browser.esm.js":(g,l,e)=>{"use strict";var o;e.d(l,{L:()=>n,j:()=>r});var s=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),t=function(_){return _()},a=(o||(o=e.t(s,2)))["useInsertionEffect"]?(o||(o=e.t(s,2)))["useInsertionEffect"]:!1,n=a||t,r=a||s.useLayoutEffect},"../../../node_modules/.pnpm/@mdx-js+react@3.0.1_@types+react@18.2.74_react@18.2.0/node_modules/@mdx-js/react/lib/index.js":(g,l,e)=>{"use strict";e.d(l,{Z:()=>n,a:()=>a});var o=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");const s={},t=o.createContext(s);function a(r){const i=o.useContext(t);return o.useMemo(function(){return typeof r=="function"?r(i):{...i,...r}},[i,r])}function n(r){let i;return r.disableParentContext?i=typeof r.components=="function"?r.components(s):r.components||s:i=a(r.components),o.createElement(t.Provider,{value:i},r.children)}},"../../packages/videopress/src/client/admin/components/video-storage-meter/stories/index.mdx":(g,l,e)=>{"use strict";e.r(l),e.d(l,{default:()=>_});var o=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),s=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js"),t=e("../../../node_modules/.pnpm/@mdx-js+react@3.0.1_@types+react@18.2.74_react@18.2.0/node_modules/@mdx-js/react/lib/index.js"),a=e("../../../node_modules/.pnpm/@storybook+blocks@8.0.6_@types+react@18.2.74_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/blocks/dist/index.mjs"),n=e("../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx"),r=e("../../packages/videopress/src/client/admin/components/video-storage-meter/stories/index.stories.tsx");function i(m){const d={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",ul:"ul",...(0,t.a)(),...m.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.h_,{of:r}),`
`,(0,s.jsx)(d.h1,{id:"videostoragemeter",children:"VideoStorageMeter"}),`
`,(0,s.jsx)(d.p,{children:"Component that shows cloud storage usage."}),`
`,(0,s.jsx)(a.Xz,{withSource:"open",children:(0,s.jsx)(a.oG,{id:"packages-videopress-video-storage-meter--default"})}),`
`,(0,s.jsx)(d.h2,{id:"api",children:"API"}),`
`,(0,s.jsx)(d.h3,{id:"total",children:"total"}),`
`,(0,s.jsxs)(d.ul,{children:[`
`,(0,s.jsxs)(d.li,{children:["type: ",(0,s.jsx)(d.code,{children:"number"})]}),`
`]}),`
`,(0,s.jsx)(d.p,{children:"The total available cloud space for the user, in bytes."}),`
`,(0,s.jsx)(d.h3,{id:"used",children:"used"}),`
`,(0,s.jsxs)(d.ul,{children:[`
`,(0,s.jsxs)(d.li,{children:["type: ",(0,s.jsx)(d.code,{children:"number"})]}),`
`]}),`
`,(0,s.jsx)(d.p,{children:"The used cloud space, in bytes."}),`
`,(0,s.jsx)(d.h3,{id:"classname",children:"className"}),`
`,(0,s.jsxs)(d.ul,{children:[`
`,(0,s.jsxs)(d.li,{children:["type: ",(0,s.jsx)(d.code,{children:"string"})]}),`
`]}),`
`,(0,s.jsx)(d.p,{children:"Optional classname to apply to the root element."}),`
`,(0,s.jsx)(d.h3,{id:"progressbarclassname",children:"progressBarClassName"}),`
`,(0,s.jsxs)(d.ul,{children:[`
`,(0,s.jsxs)(d.li,{children:["type: ",(0,s.jsx)(d.code,{children:"string"})]}),`
`]}),`
`,(0,s.jsxs)(d.ul,{children:[`
`,(0,s.jsx)(d.li,{children:"Optional classname to apply to the progress bar element."}),`
`]})]})}function _(m={}){const{wrapper:d}={...(0,t.a)(),...m.components};return d?(0,s.jsx)(d,{...m,children:(0,s.jsx)(i,{...m})}):i(m)}},"../../packages/videopress/src/client/admin/components/video-storage-meter/stories/index.stories.tsx":(g,l,e)=>{var i,_,m;"use strict";e.r(l),e.d(l,{__namedExportsOrder:()=>r,_default:()=>n,default:()=>t});var o=e("../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx"),s=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const t={title:"Packages/VideoPress/Video Storage Meter",component:o.Z},n=(d=>(0,s.jsx)(o.Z,{...d})).bind({});n.args={total:1024*1024*1024*1024,used:1024*1024*1024*1024/2},n.parameters={...n.parameters,docs:{...(i=n.parameters)==null?void 0:i.docs,source:{originalSource:"args => <VideoStorageMeter {...args} />",...(m=(_=n.parameters)==null?void 0:_.docs)==null?void 0:m.source}}};const r=["_default"]},"../../packages/videopress/src/client/admin/hooks/use-videos/index.js":(g,l,e)=>{"use strict";e.d(l,{ZP:()=>a});var o=e("../../../node_modules/.pnpm/@wordpress+data@9.25.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-select/index.js"),s=e("../../../node_modules/.pnpm/@wordpress+data@9.25.0_react@18.2.0/node_modules/@wordpress/data/build-module/dispatch.js"),t=e("../../packages/videopress/src/client/state/constants.js");function a(){const i=(0,o.Z)(c=>c(t.tT).getVideos()),_=(0,o.Z)(c=>c(t.tT).getUploadingVideos()),m=_.length>0,d="",j=(0,o.Z)(c=>c(t.tT).getUploadedVideoCount()),u=(0,o.Z)(c=>c(t.tT).getIsFetching()),h=(0,o.Z)(c=>c(t.tT).getIsFetchingUploadedVideoCount()),p=(0,o.Z)(c=>c(t.tT).getFirstUploadedVideoId()),f=(0,o.Z)(c=>c(t.tT).getFirstVideoProcessed()),x=(0,o.Z)(c=>c(t.tT).getDismissedFirstVideoPopover()),y=(0,o.Z)(c=>c(t.tT).getVideosQuery()||{}),b=(0,o.Z)(c=>c(t.tT).getPagination()),v=(0,o.Z)(c=>c(t.tT).getStorageUsed(),[]),E=(0,o.Z)(c=>c(t.tT).getVideosFilter());return{items:i,uploading:_,isUploading:m,search:d,filter:E,uploadedVideoCount:j,isFetching:u,isFetchingUploadedVideoCount:h,firstUploadedVideoId:p,firstVideoProcessed:f,dismissedFirstVideoPopover:x,...y,...b,...v,setPage:c=>(0,s.W)(t.tT).setVideosQuery({page:c}),setSearch:c=>(0,s.W)(t.tT).setVideosQuery({search:c}),setFilter:(0,s.W)(t.tT).setVideosFilter}}const n=()=>{const i=useSelect(u=>u(STORE_ID).getLocalVideos()),_=useSelect(u=>u(STORE_ID).getUploadedLocalVideoCount()),m=useSelect(u=>u(STORE_ID).getIsFetchingLocalVideos()),d=useSelect(u=>u(STORE_ID).getLocalVideosQuery()||{}),j=useSelect(u=>u(STORE_ID).getLocalPagination());return{items:i,uploadedLocalVideoCount:_,isFetching:m,...d,...j,setPage:u=>dispatch(STORE_ID).setLocalVideosQuery({page:u})}},r=()=>useSelect(_=>_(STORE_ID).getVideosQuery()||{})},"../components/components/progress-bar/index.tsx":(g,l,e)=>{"use strict";e.d(l,{Z:()=>j});var o=e("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),s=e.n(o),t=e("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=e.n(t),n=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../components/components/progress-bar/style.module.scss"),r={};r.insert="head",r.singleton=!1;var i=a()(n.Z,r);const _=n.Z.locals||{};var m=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const j=({className:u,progressClassName:h,progress:p,size:f="normal"})=>{if(p==null)return null;const y={width:`${Math.max(Math.min(p,1),0)*100}%`};return(0,m.jsx)("div",{className:s()(u,_.wrapper,{[_.small]:f==="small"}),children:(0,m.jsx)("div",{className:s()(h,_.progress),style:y})})}},"../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx":(g,l,e)=>{"use strict";e.d(l,{Z:()=>c});var o=e("../components/components/text/index.tsx"),s=e("../components/components/progress-bar/index.tsx"),t=e("../../../node_modules/.pnpm/@wordpress+i18n@4.55.0/node_modules/@wordpress/i18n/build-module/index.js"),a=e("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),n=e.n(a),r=e("../../../node_modules/.pnpm/filesize@8.0.6/node_modules/filesize/lib/filesize.min.js"),i=e.n(r),_=e("../../packages/videopress/src/client/admin/hooks/use-plan/index.ts"),m=e("../../packages/videopress/src/client/admin/hooks/use-videopress-settings/index.ts"),d=e("../../packages/videopress/src/client/admin/hooks/use-videos/index.js"),j=e("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),u=e.n(j),h=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/admin/components/video-storage-meter/style.module.scss"),p={};p.insert="head",p.singleton=!1;var f=u()(h.Z,p);const x=h.Z.locals||{};var y=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const b=t.__,v=({className:O,progressBarClassName:C,total:T,used:P})=>{if(!T||P==null)return null;const S=P/T,M=`${(S*100).toFixed()}%`,D=i()(T,{base:10});return(0,y.jsxs)("div",{className:n()(O),children:[(0,y.jsx)(o.ZP,{className:n()(x["percentage-description"]),children:(0,t.gB)(b("%1$s of %2$s of cloud video storage","jetpack-videopress-pkg"),M,D)}),(0,y.jsx)(s.Z,{className:n()(x["progress-bar"],C),progress:S})]})},E=O=>{const{storageUsed:C,uploadedVideoCount:T}=useVideos(),{features:P}=usePlan(),{settings:S}=useVideoPressSettings(),{siteType:M}=S,D=1e3*1e3*1e3*1e3;return M===SITE_TYPE_ATOMIC||P!=null&&P.isVideoPressUnlimitedSupported||!T?null:C?_jsx(v,{...O,used:C,total:D}):_jsx(v,{...O,used:0,total:1})},c=v;try{E.displayName="ConnectVideoStorageMeter",E.__docgenInfo={description:"",displayName:"ConnectVideoStorageMeter",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx#ConnectVideoStorageMeter"]={docgenInfo:E.__docgenInfo,name:"ConnectVideoStorageMeter",path:"../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx#ConnectVideoStorageMeter"})}catch(O){}},"../../packages/videopress/src/client/admin/hooks/use-plan/index.ts":(g,l,e)=>{"use strict";e.d(l,{g:()=>d});var o=e("../../../node_modules/.pnpm/@wordpress+data@9.25.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-select/index.js"),s=e("../../packages/videopress/src/client/state/index.js");function t(j){return j.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace("_",""))}function a(j){return j.indexOf("_")!==-1}function n(j,u=!1){const h=Object.assign({},j);for(const p in h)h.hasOwnProperty(p)&&a(p)&&(h[t(p)]=h[p],u&&delete h[p]);return h}const{paidFeatures:r={},siteProductData:i={},productData:_={},productPrice:m={}}=window&&window.jetpackVideoPressInitialState?window.jetpackVideoPressInitialState:{},d=()=>{const j=n(i.pricing_for_ui,!0),u=n(_.introductory_offer,!0),h={...n(_,!0),introductoryOffer:u},{purchases:p,isFetchingPurchases:f}=(0,o.Z)(v=>({purchases:v(s.tT).getPurchases(),isFetchingPurchases:v(s.tT).isFetchingPurchases()}),[]),x=p.map(v=>n(v,!0));function y(v){return x.some(E=>E.productSlug===v)}const b=["jetpack_videopress_bi_yearly","jetpack_videopress","jetpack_videopress_monthly","jetpack_complete_bi_yearly","jetpack_complete","jetpack_complete_monthly","jetpack_business","jetpack_business_monthly","jetpack_personal","jetpack_personal_monthly","jetpack_premium","jetpack_premium_monthly","videopress","videopress-pro","wp_p2_plus_monthly","bundle_pro","value_bundle","value_bundle_monthly","value_bundle-2y","value_bundle-3y","pro-plan","pro-plan-monthly","pro-plan-2y","business-bundle","business-bundle-monthly","business-bundle-2y","business-bundle-3y","wp_com_hundred_year_bundle_centennially","wp_bundle_migration_trial_monthly","wp_bundle_hosting_trial_monthly","ecommerce-bundle","ecommerce-bundle-monthly","ecommerce-bundle-2y","ecommerce-bundle-3y","ecommerce-trial-bundle-monthly","wooexpress-small-bundle-yearly","wooexpress-small-bundle-monthly","wooexpress-medium-bundle-yearly","wooexpress-medium-bundle-monthly"].some(v=>y(v));return{features:r,siteProduct:{...n({...i},!0),pricingForUi:j},product:h,productPrice:m,purchases:x,hasVideoPressPurchase:b,isFetchingPurchases:f}}},"../../packages/videopress/src/client/admin/hooks/use-videopress-settings/index.ts":(g,l,e)=>{"use strict";var o=e("../../packages/videopress/src/client/state/index.js");const s=()=>{var n,r,i;const t=useDispatch(STORE_ID),a=useSelect(_=>_(STORE_ID).getVideoPressSettings(),[]);return{settings:{videoPressVideosPrivateForSite:(n=a==null?void 0:a.videoPressVideosPrivateForSite)!=null?n:!1,siteIsPrivate:(r=a==null?void 0:a.siteIsPrivate)!=null?r:!1,siteType:(i=a==null?void 0:a.siteType)!=null?i:SITE_TYPE_JETPACK},onUpdate:_=>t.updateVideoPressSettings(_)}}},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../components/components/progress-bar/style.module.scss":(g,l,e)=>{"use strict";e.d(l,{Z:()=>r});var o=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),s=e.n(o),t=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),a=e.n(t),n=a()(s());n.push([g.id,".W4NUeZAGw0aXojyLmjzP{width:100%;height:12px;background-color:var(--jp-gray-5);border-radius:calc(var(--spacing-base)*3);overflow:hidden}.W4NUeZAGw0aXojyLmjzP.aCtQACi6JDw6tIP5cLu1{height:3px}.W4NUeZAGw0aXojyLmjzP .kaV9vllufIW5_MQslIfu{height:100%;border-radius:calc(var(--spacing-base)*3);background-color:var(--jp-black);min-width:12px}",""]),n.locals={wrapper:"W4NUeZAGw0aXojyLmjzP",small:"aCtQACi6JDw6tIP5cLu1",progress:"kaV9vllufIW5_MQslIfu"};const r=n},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/admin/components/video-storage-meter/style.module.scss":(g,l,e)=>{"use strict";e.d(l,{Z:()=>r});var o=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),s=e.n(o),t=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),a=e.n(t),n=a()(s());n.push([g.id,".J0cboZTh2LMTitQ_wbbw{color:var(--jp-gray-80);margin-bottom:calc(var(--spacing-base)*2)}.uC0NRkCYRpEEddC3UOuf{margin-top:calc(var(--spacing-base)*2)}",""]),n.locals={"percentage-description":"J0cboZTh2LMTitQ_wbbw","progress-bar":"uC0NRkCYRpEEddC3UOuf"};const r=n},"../../../node_modules/.pnpm/memoizerific@1.11.3/node_modules/memoizerific sync recursive":g=>{function l(e){var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}l.keys=()=>[],l.resolve=l,l.id="../../../node_modules/.pnpm/memoizerific@1.11.3/node_modules/memoizerific sync recursive",g.exports=l}}]);})();
