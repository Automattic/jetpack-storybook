(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[1119],{"../../packages/videopress/src/client/admin/components/video-storage-meter/stories/index.stories.tsx":(v,_,s)=>{var l,c,m;"use strict";s.r(_),s.d(_,{__namedExportsOrder:()=>a,_default:()=>e,default:()=>i});var p=s("../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx"),u=s("../../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const i={title:"Packages/VideoPress/Video Storage Meter",component:p.Z},e=(r=>(0,u.jsx)(p.Z,{...r})).bind({});e.args={total:1024*1024*1024*1024,used:1024*1024*1024*1024/2},e.parameters={...e.parameters,docs:{...(l=e.parameters)==null?void 0:l.docs,source:{originalSource:"args => <VideoStorageMeter {...args} />",...(m=(c=e.parameters)==null?void 0:c.docs)==null?void 0:m.source}}};const a=["_default"]},"../../../node_modules/.pnpm/@wordpress+deprecated@4.0.0/node_modules/@wordpress/deprecated/build-module/index.js":(v,_,s)=>{"use strict";s.d(_,{Z:()=>i});var p=s("../../../node_modules/.pnpm/@wordpress+hooks@4.0.0/node_modules/@wordpress/hooks/build-module/index.js");const u=Object.create(null);function i(n,e={}){const{since:a,version:l,alternative:c,plugin:m,link:r,hint:g}=e,f=m?` from ${m}`:"",P=a?` since version ${a}`:"",b=l?` and will be removed${f} in version ${l}`:"",S=c?` Please use ${c} instead.`:"",O=r?` See: ${r}`:"",y=g?` Note: ${g}`:"",j=`${n} is deprecated${P}${b}.${S}${O}${y}`;j in u||((0,p.Kw)("deprecated",n,e,j),console.warn(j),u[j]=!0)}},"../../packages/videopress/src/client/admin/hooks/use-videos/index.js":(v,_,s)=>{"use strict";var p=s("../../packages/videopress/src/client/state/constants.js");function u(){const e=useSelect(t=>t(STORE_ID).getVideos()),a=useSelect(t=>t(STORE_ID).getUploadingVideos()),l=a.length>0,c="",m=useSelect(t=>t(STORE_ID).getUploadedVideoCount()),r=useSelect(t=>t(STORE_ID).getIsFetching()),g=useSelect(t=>t(STORE_ID).getIsFetchingUploadedVideoCount()),f=useSelect(t=>t(STORE_ID).getFirstUploadedVideoId()),P=useSelect(t=>t(STORE_ID).getFirstVideoProcessed()),b=useSelect(t=>t(STORE_ID).getDismissedFirstVideoPopover()),S=useSelect(t=>t(STORE_ID).getVideosQuery()||{}),O=useSelect(t=>t(STORE_ID).getPagination()),y=useSelect(t=>t(STORE_ID).getStorageUsed(),[]),j=useSelect(t=>t(STORE_ID).getVideosFilter());return{items:e,uploading:a,isUploading:l,search:c,filter:j,uploadedVideoCount:m,isFetching:r,isFetchingUploadedVideoCount:g,firstUploadedVideoId:f,firstVideoProcessed:P,dismissedFirstVideoPopover:b,...S,...O,...y,setPage:t=>dispatch(STORE_ID).setVideosQuery({page:t}),setSearch:t=>dispatch(STORE_ID).setVideosQuery({search:t}),setFilter:dispatch(STORE_ID).setVideosFilter}}const i=()=>{const e=useSelect(r=>r(STORE_ID).getLocalVideos()),a=useSelect(r=>r(STORE_ID).getUploadedLocalVideoCount()),l=useSelect(r=>r(STORE_ID).getIsFetchingLocalVideos()),c=useSelect(r=>r(STORE_ID).getLocalVideosQuery()||{}),m=useSelect(r=>r(STORE_ID).getLocalPagination());return{items:e,uploadedLocalVideoCount:a,isFetching:l,...c,...m,setPage:r=>dispatch(STORE_ID).setLocalVideosQuery({page:r})}},n=()=>useSelect(a=>a(STORE_ID).getVideosQuery()||{})},"../components/components/progress-bar/index.tsx":(v,_,s)=>{"use strict";s.d(_,{Z:()=>g});var p=s("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),u=s.n(p),i=s("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),n=s.n(i),e=s("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/sass-loader/dist/cjs.js!../components/components/progress-bar/style.module.scss"),a={};a.insert="head",a.singleton=!1;var l=n()(e.Z,a);const c=e.Z.locals||{};var m=s("../../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const g=({className:f,progressClassName:P,progress:b,size:S="normal"})=>{if(b==null)return null;const y={width:`${Math.max(Math.min(b,1),0)*100}%`};return(0,m.jsx)("div",{className:u()(f,c.wrapper,{[c.small]:S==="small"}),children:(0,m.jsx)("div",{className:u()(P,c.progress),style:y})})}},"../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx":(v,_,s)=>{"use strict";s.d(_,{Z:()=>d});var p=s("../components/components/text/index.tsx"),u=s("../components/components/progress-bar/index.tsx"),i=s("../../../node_modules/.pnpm/@wordpress+i18n@5.0.0/node_modules/@wordpress/i18n/build-module/index.js"),n=s("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),e=s.n(n),a=s("../../../node_modules/.pnpm/filesize@8.0.6/node_modules/filesize/lib/filesize.min.js"),l=s.n(a),c=s("../../packages/videopress/src/client/state/index.js");const{paidFeatures:m={},siteProductData:r={},productData:g={},productPrice:f={}}=window&&window.jetpackVideoPressInitialState?window.jetpackVideoPressInitialState:{},P=()=>{const o=mapObjectKeysToCamel(r.pricing_for_ui,!0),h=mapObjectKeysToCamel(g.introductory_offer,!0),k={...mapObjectKeysToCamel(g,!0),introductoryOffer:h},{purchases:E,isFetchingPurchases:w}=useSelect(D=>({purchases:D(STORE_ID).getPurchases(),isFetchingPurchases:D(STORE_ID).isFetchingPurchases()}),[]),I=E.map(D=>mapObjectKeysToCamel(D,!0));function x(D){return I.some(U=>U.productSlug===D)}const L=["jetpack_videopress_bi_yearly","jetpack_videopress","jetpack_videopress_monthly","jetpack_complete_bi_yearly","jetpack_complete","jetpack_complete_monthly","jetpack_business","jetpack_business_monthly","jetpack_personal","jetpack_personal_monthly","jetpack_premium","jetpack_premium_monthly","videopress","videopress-pro","wp_p2_plus_monthly","bundle_pro","value_bundle","value_bundle_monthly","value_bundle-2y","value_bundle-3y","pro-plan","pro-plan-monthly","pro-plan-2y","business-bundle","business-bundle-monthly","business-bundle-2y","business-bundle-3y","wp_com_hundred_year_bundle_centennially","wp_bundle_migration_trial_monthly","wp_bundle_hosting_trial_monthly","ecommerce-bundle","ecommerce-bundle-monthly","ecommerce-bundle-2y","ecommerce-bundle-3y","ecommerce-trial-bundle-monthly","wooexpress-small-bundle-yearly","wooexpress-small-bundle-monthly","wooexpress-medium-bundle-yearly","wooexpress-medium-bundle-monthly"].some(D=>x(D));return{features:m,siteProduct:{...mapObjectKeysToCamel({...r},!0),pricingForUi:o},product:k,productPrice:f,purchases:I,hasVideoPressPurchase:L,isFetchingPurchases:w}};var b=s("../../packages/videopress/src/client/admin/hooks/use-videopress-settings/index.ts"),S=s("../../packages/videopress/src/client/admin/hooks/use-videos/index.js"),O=s("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),y=s.n(O),j=s("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/admin/components/video-storage-meter/style.module.scss"),t={};t.insert="head",t.singleton=!1;var R=y()(j.Z,t);const V=j.Z.locals||{};var M=s("../../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const B=i.__,C=({className:o,progressBarClassName:h,total:k,used:E})=>{if(!k||E==null)return null;const w=E/k,I=`${(w*100).toFixed()}%`,x=l()(k,{base:10});return(0,M.jsxs)("div",{className:e()(o),children:[(0,M.jsx)(p.ZP,{className:e()(V["percentage-description"]),children:(0,i.gB)(B("%1$s of %2$s of cloud video storage","jetpack-videopress-pkg"),I,x)}),(0,M.jsx)(u.Z,{className:e()(V["progress-bar"],h),progress:w})]})},T=o=>{const{storageUsed:h,uploadedVideoCount:k}=useVideos(),{features:E}=usePlan(),{settings:w}=useVideoPressSettings(),{siteType:I}=w,x=1e3*1e3*1e3*1e3;return I===SITE_TYPE_ATOMIC||E!=null&&E.isVideoPressUnlimitedSupported||!k?null:h?_jsx(C,{...o,used:h,total:x}):_jsx(C,{...o,used:0,total:1})},d=C;try{T.displayName="ConnectVideoStorageMeter",T.__docgenInfo={description:"",displayName:"ConnectVideoStorageMeter",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx#ConnectVideoStorageMeter"]={docgenInfo:T.__docgenInfo,name:"ConnectVideoStorageMeter",path:"../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx#ConnectVideoStorageMeter"})}catch(o){}},"../../packages/videopress/src/client/admin/hooks/use-videopress-settings/index.ts":(v,_,s)=>{"use strict";var p=s("../../packages/videopress/src/client/state/index.js");const u=()=>{var e,a,l;const i=useDispatch(STORE_ID),n=useSelect(c=>c(STORE_ID).getVideoPressSettings(),[]);return{settings:{videoPressVideosPrivateForSite:(e=n==null?void 0:n.videoPressVideosPrivateForSite)!=null?e:!1,siteIsPrivate:(a=n==null?void 0:n.siteIsPrivate)!=null?a:!1,siteType:(l=n==null?void 0:n.siteType)!=null?l:SITE_TYPE_JETPACK},onUpdate:c=>i.updateVideoPressSettings(c)}}},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/sass-loader/dist/cjs.js!../components/components/progress-bar/style.module.scss":(v,_,s)=>{"use strict";s.d(_,{Z:()=>a});var p=s("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/runtime/noSourceMaps.js"),u=s.n(p),i=s("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/runtime/api.js"),n=s.n(i),e=n()(u());e.push([v.id,".W4NUeZAGw0aXojyLmjzP{width:100%;height:12px;background-color:var(--jp-gray-5);border-radius:calc(var(--spacing-base)*3);overflow:hidden}.W4NUeZAGw0aXojyLmjzP.aCtQACi6JDw6tIP5cLu1{height:3px}.W4NUeZAGw0aXojyLmjzP .kaV9vllufIW5_MQslIfu{height:100%;border-radius:calc(var(--spacing-base)*3);background-color:var(--jp-black);min-width:12px}",""]),e.locals={wrapper:"W4NUeZAGw0aXojyLmjzP",small:"aCtQACi6JDw6tIP5cLu1",progress:"kaV9vllufIW5_MQslIfu"};const a=e},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/admin/components/video-storage-meter/style.module.scss":(v,_,s)=>{"use strict";s.d(_,{Z:()=>a});var p=s("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/runtime/noSourceMaps.js"),u=s.n(p),i=s("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/runtime/api.js"),n=s.n(i),e=n()(u());e.push([v.id,".J0cboZTh2LMTitQ_wbbw{color:var(--jp-gray-80);margin-bottom:calc(var(--spacing-base)*2)}.uC0NRkCYRpEEddC3UOuf{margin-top:calc(var(--spacing-base)*2)}",""]),e.locals={"percentage-description":"J0cboZTh2LMTitQ_wbbw","progress-bar":"uC0NRkCYRpEEddC3UOuf"};const a=e},"../../../node_modules/.pnpm/filesize@8.0.6/node_modules/filesize/lib/filesize.min.js":function(v){/*!
 2021 Jason Mulligan <jason.mulligan@avoidwork.com>
 @version 8.0.6
*/(function(_,s){v.exports=s()})(this,function(){"use strict";var _=/^(b|B)$/,s={iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},p={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]},u={floor:Math.floor,ceil:Math.ceil};function i(n){var e,a,l,c,m,r,g,f,P,b,S,O,y,j,t,R,V,M,B,C,T,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=[],h=0;if(isNaN(n))throw new TypeError("Invalid number");if(l=d.bits===!0,t=d.unix===!0,O=d.pad===!0,a=d.base||10,y=d.round!==void 0?d.round:t?1:2,g=d.locale!==void 0?d.locale:"",f=d.localeOptions||{},R=d.separator!==void 0?d.separator:"",V=d.spacer!==void 0?d.spacer:t?"":" ",B=d.symbols||{},M=a===2?d.standard||"iec":"jedec",S=d.output||"string",m=d.fullform===!0,r=d.fullforms instanceof Array?d.fullforms:[],e=d.exponent!==void 0?d.exponent:-1,C=u[d.roundingMethod]||Math.round,P=(b=Number(n))<0,c=a>2?1e3:1024,T=isNaN(d.precision)===!1?parseInt(d.precision,10):0,P&&(b=-b),(e===-1||isNaN(e))&&(e=Math.floor(Math.log(b)/Math.log(c)))<0&&(e=0),e>8&&(T>0&&(T+=8-e),e=8),S==="exponent")return e;if(b===0)o[0]=0,j=o[1]=t?"":s[M][l?"bits":"bytes"][e];else{h=b/(a===2?Math.pow(2,10*e):Math.pow(1e3,e)),l&&(h*=8)>=c&&e<8&&(h/=c,e++);var k=Math.pow(10,e>0?y:0);o[0]=C(h*k)/k,o[0]===c&&e<8&&d.exponent===void 0&&(o[0]=1,e++),j=o[1]=a===10&&e===1?l?"kbit":"kB":s[M][l?"bits":"bytes"][e],t&&(o[1]=o[1].charAt(0),_.test(o[1])&&(o[0]=Math.floor(o[0]),o[1]=""))}if(P&&(o[0]=-o[0]),T>0&&(o[0]=o[0].toPrecision(T)),o[1]=B[o[1]]||o[1],g===!0?o[0]=o[0].toLocaleString():g.length>0?o[0]=o[0].toLocaleString(g,f):R.length>0&&(o[0]=o[0].toString().replace(".",R)),O&&Number.isInteger(o[0])===!1&&y>0){var E=R||".",w=o[0].toString().split(E),I=w[1]||"",x=I.length,L=y-x;o[0]="".concat(w[0]).concat(E).concat(I.padEnd(x+L,"0"))}return m&&(o[1]=r[e]?r[e]:p[M][e]+(l?"bit":"byte")+(o[0]===1?"":"s")),S==="array"?o:S==="object"?{value:o[0],symbol:o[1],exponent:e,unit:j}:o.join(V)}return i.partial=function(n){return function(e){return i(e,n)}},i})},"../../../node_modules/.pnpm/is-plain-object@5.0.0/node_modules/is-plain-object/dist/is-plain-object.mjs":(v,_,s)=>{"use strict";s.d(_,{P:()=>u});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function p(i){return Object.prototype.toString.call(i)==="[object Object]"}function u(i){var n,e;return p(i)===!1?!1:(n=i.constructor,n===void 0?!0:(e=n.prototype,!(p(e)===!1||e.hasOwnProperty("isPrototypeOf")===!1)))}}}]);})();
