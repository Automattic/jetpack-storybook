"use strict";(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[9430],{"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/stories/index.stories.tsx":(re,Z,e)=>{var de,p,G,z,j,c;e.r(Z),e.d(Z,{VideoHoverPreviewControlStory:()=>A,__namedExportsOrder:()=>ee,_default:()=>l,default:()=>$});var P=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),T=e("../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx"),M=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js"),F=`import React, { useState } from 'react';
import PosterPanel, { VideoHoverPreviewControl } from '..';

export default {
	title: 'Packages/VideoPress/Block Editor/Poster Panel',
	component: PosterPanel,
	argTypes: {},
};

const DefaultTemplate = args => {
	const [ attributes, setAttributes ] = React.useState( {
		poster: args.poster,
		videoRatio: args.videoRatio,
		guid: args.guid,
	} );

	const setAttributesHandler = newAttributes => {
		setAttributes( { ...attributes, ...newAttributes } );
	};

	return (
		<PosterPanel
			attributes={ attributes }
			setAttributes={ setAttributesHandler }
			isGeneratingPoster={ false }
		/>
	);
};

export const _default = DefaultTemplate.bind( {} );
_default.args = {
	poster: 'https://jetpackme.files.wordpress.com/2018/04/cropped-jetpack-favicon-2018.png',
	videoRatio: 60,
	guid: 'ezoR6kzb',
};

const VideoHoverPreviewControlTemplate = args => {
	const [ previewOnHover, setPreviewOnHover ] = useState( true );
	const [ , setPreviewAt ] = useState( args.previewAtTime );
	const [ , setLoopDuraton ] = useState( args.loopDuration );
	const setPreviewAtHandler = newPreviewAt => {
		setPreviewAt( newPreviewAt );
		console.log( { newPreviewAt } ); // eslint-disable-line no-console
	};

	return (
		<VideoHoverPreviewControl
			{ ...args }
			previewOnHover={ previewOnHover }
			onPreviewAtTimeChange={ setPreviewAtHandler }
			onLoopDurationChange={ setLoopDuraton }
			onPreviewOnHoverChange={ setPreviewOnHover }
		/>
	);
};

export const VideoHoverPreviewControlStory = VideoHoverPreviewControlTemplate.bind( {} );
VideoHoverPreviewControlStory.args = {
	previewAtTime: 0,
	loopDuration: 2300,
	videoDuration: 80000, // 80 seconds
};

VideoHoverPreviewControlStory.storyName = 'VideoHoverPreviewControl';
`,S={_default:{startLoc:{col:24,line:8},endLoc:{col:1,line:21},startBody:{col:24,line:8},endBody:{col:1,line:21}},VideoHoverPreviewControlStory:{startLoc:{col:41,line:28},endLoc:{col:1,line:40},startBody:{col:41,line:28},endBody:{col:1,line:40}}};const $={parameters:{storySource:{source:`import React, { useState } from 'react';
import PosterPanel, { VideoHoverPreviewControl } from '..';
export default {
  title: 'Packages/VideoPress/Block Editor/Poster Panel',
  component: PosterPanel,
  argTypes: {}
};
const DefaultTemplate = args => {
  const [attributes, setAttributes] = React.useState({
    poster: args.poster,
    videoRatio: args.videoRatio,
    guid: args.guid
  });
  const setAttributesHandler = newAttributes => {
    setAttributes({
      ...attributes,
      ...newAttributes
    });
  };
  return <PosterPanel attributes={attributes} setAttributes={setAttributesHandler} isGeneratingPoster={false} />;
};
export const _default = DefaultTemplate.bind({});
_default.args = {
  poster: 'https://jetpackme.files.wordpress.com/2018/04/cropped-jetpack-favicon-2018.png',
  videoRatio: 60,
  guid: 'ezoR6kzb'
};
const VideoHoverPreviewControlTemplate = args => {
  const [previewOnHover, setPreviewOnHover] = useState(true);
  const [, setPreviewAt] = useState(args.previewAtTime);
  const [, setLoopDuraton] = useState(args.loopDuration);
  const setPreviewAtHandler = newPreviewAt => {
    setPreviewAt(newPreviewAt);
    console.log({
      newPreviewAt
    }); 
  };

  return <VideoHoverPreviewControl {...args} previewOnHover={previewOnHover} onPreviewAtTimeChange={setPreviewAtHandler} onLoopDurationChange={setLoopDuraton} onPreviewOnHoverChange={setPreviewOnHover} />;
};
export const VideoHoverPreviewControlStory = VideoHoverPreviewControlTemplate.bind({});
VideoHoverPreviewControlStory.args = {
  previewAtTime: 0,
  loopDuration: 2300,
  videoDuration: 80000 // 80 seconds
};

VideoHoverPreviewControlStory.storyName = 'VideoHoverPreviewControl';
_default.parameters = {
  ..._default.parameters,
  docs: {
    ..._default.parameters?.docs,
    source: {
      originalSource: "args => {\\n  const [attributes, setAttributes] = React.useState({\\n    poster: args.poster,\\n    videoRatio: args.videoRatio,\\n    guid: args.guid\\n  });\\n  const setAttributesHandler = newAttributes => {\\n    setAttributes({\\n      ...attributes,\\n      ...newAttributes\\n    });\\n  };\\n  return <PosterPanel attributes={attributes} setAttributes={setAttributesHandler} isGeneratingPoster={false} />;\\n}",
      ..._default.parameters?.docs?.source
    }
  }
};
VideoHoverPreviewControlStory.parameters = {
  ...VideoHoverPreviewControlStory.parameters,
  docs: {
    ...VideoHoverPreviewControlStory.parameters?.docs,
    source: {
      originalSource: "args => {\\n  const [previewOnHover, setPreviewOnHover] = useState(true);\\n  const [, setPreviewAt] = useState(args.previewAtTime);\\n  const [, setLoopDuraton] = useState(args.loopDuration);\\n  const setPreviewAtHandler = newPreviewAt => {\\n    setPreviewAt(newPreviewAt);\\n    console.log({\\n      newPreviewAt\\n    }); // eslint-disable-line no-console\\n  };\\n\\n  return <VideoHoverPreviewControl {...args} previewOnHover={previewOnHover} onPreviewAtTimeChange={setPreviewAtHandler} onLoopDurationChange={setLoopDuraton} onPreviewOnHoverChange={setPreviewOnHover} />;\\n}",
      ...VideoHoverPreviewControlStory.parameters?.docs?.source
    }
  }
};`,locationsMap:{default:{startLoc:{col:24,line:8},endLoc:{col:1,line:21},startBody:{col:24,line:8},endBody:{col:1,line:21}},"video-hover-preview-control-story":{startLoc:{col:41,line:28},endLoc:{col:1,line:40},startBody:{col:41,line:28},endBody:{col:1,line:40}}}}},title:"Packages/VideoPress/Block Editor/Poster Panel",component:T.ZP,argTypes:{}},J=U=>{const[B,R]=P.useState({poster:U.poster,videoRatio:U.videoRatio,guid:U.guid}),Y=le=>{R({...B,...le})};return(0,M.jsx)(T.ZP,{attributes:B,setAttributes:Y,isGeneratingPoster:!1})};J.displayName="DefaultTemplate";const l=J.bind({});l.args={poster:"https://jetpackme.files.wordpress.com/2018/04/cropped-jetpack-favicon-2018.png",videoRatio:60,guid:"ezoR6kzb"};const y=U=>{const[B,R]=(0,P.useState)(!0),[,Y]=(0,P.useState)(U.previewAtTime),[,le]=(0,P.useState)(U.loopDuration),be=_e=>{Y(_e),console.log({newPreviewAt:_e})};return(0,M.jsx)(T.wj,{...U,previewOnHover:B,onPreviewAtTimeChange:be,onLoopDurationChange:le,onPreviewOnHoverChange:R})};y.displayName="VideoHoverPreviewControlTemplate";const A=y.bind({});A.args={previewAtTime:0,loopDuration:2300,videoDuration:8e4},A.storyName="VideoHoverPreviewControl",l.parameters={...l.parameters,docs:{...(de=l.parameters)==null?void 0:de.docs,source:{originalSource:`args => {
  const [attributes, setAttributes] = React.useState({
    poster: args.poster,
    videoRatio: args.videoRatio,
    guid: args.guid
  });
  const setAttributesHandler = newAttributes => {
    setAttributes({
      ...attributes,
      ...newAttributes
    });
  };
  return <PosterPanel attributes={attributes} setAttributes={setAttributesHandler} isGeneratingPoster={false} />;
}`,...(G=(p=l.parameters)==null?void 0:p.docs)==null?void 0:G.source}}},A.parameters={...A.parameters,docs:{...(z=A.parameters)==null?void 0:z.docs,source:{originalSource:`args => {
  const [previewOnHover, setPreviewOnHover] = useState(true);
  const [, setPreviewAt] = useState(args.previewAtTime);
  const [, setLoopDuraton] = useState(args.loopDuration);
  const setPreviewAtHandler = newPreviewAt => {
    setPreviewAt(newPreviewAt);
    console.log({
      newPreviewAt
    }); // eslint-disable-line no-console
  };

  return <VideoHoverPreviewControl {...args} previewOnHover={previewOnHover} onPreviewAtTimeChange={setPreviewAtHandler} onLoopDurationChange={setLoopDuraton} onPreviewOnHoverChange={setPreviewOnHover} />;
}`,...(c=(j=A.parameters)==null?void 0:j.docs)==null?void 0:c.source}}};const ee=["_default","VideoHoverPreviewControlStory"]},"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx":(re,Z,e)=>{var He;e.d(Z,{wj:()=>Pe,ZP:()=>Ie});var P=e("../../../node_modules/.pnpm/@wordpress+block-editor@11.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/block-editor/build-module/index.js"),T=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/dropdown/index.js"),M=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/button/index.js"),F=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/navigable-container/menu.js"),S=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/menu-item/index.js"),$=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/spinner/index.js"),J=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/sandbox/index.js"),l=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/notice/index.js"),y=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/toggle-control/index.js"),A=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/panel/body.js"),ee=e("../../../node_modules/.pnpm/@wordpress+compose@6.7.0_react@18.2.0/node_modules/@wordpress/compose/build-module/hooks/use-debounce/index.js"),de=e("../../../node_modules/.pnpm/@wordpress+data@9.0.0_react@18.2.0/node_modules/@wordpress/data/build-module/index.js"),p=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),G=e("../../../node_modules/.pnpm/@wordpress+element@5.7.0/node_modules/@wordpress/element/build-module/create-interpolate-element.js"),z=e("../../../node_modules/.pnpm/@wordpress+i18n@4.30.0/node_modules/@wordpress/i18n/build-module/index.js"),j=e("../../../node_modules/.pnpm/@wordpress+icons@9.21.0/node_modules/@wordpress/icons/build-module/library/image.js"),c=e("../../../node_modules/.pnpm/@wordpress+icons@9.21.0/node_modules/@wordpress/icons/build-module/library/link-off.js"),U=e("../../../node_modules/.pnpm/classnames@2.3.1/node_modules/classnames/index.js"),B=e.n(U),R=e("../../packages/videopress/src/client/components/timestamp-control/index.tsx"),Y=e("../../packages/videopress/src/client/lib/url/index.ts");function le(n){const t=Math.floor(n/36e5);let s=n-t*36e5;const _=Math.floor(s/6e4);s=s-_*6e4;const g=Math.floor(s/1e3);return[t,_,g].map(m=>m<10?`0${m}`:m).join(":")}const be="videopress-chapters-auto-generated";function _e(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3599999e3;const s=extractVideoChapters(n);if(s.length===0)return null;let _=`WEBVTT
`;_+=`
`,_+=`NOTE
`,_+=`${be}
`,_+=`This file was auto-generated based on Video description.
`,_+=`For more information, see https://jetpack.com/support/jetpack-videopress/jetpack-videopress-customizing-your-videos/#adding-subtitles-captions-or-chapters-within-a-video
`;let g=1;for(const[m,r]of s.entries()){const a=m===0?"000":"001",i=m<s.length-1?s[m+1].startAt:le(t);_+=`
${g++}
${r.startAt}.${a} --> ${i}.000
${r.title}
`}return _}function Ee(n,t){const s=_e(n,t);return s?new File([s],"chapters.vtt",{type:"text/vtt"}):null}var ce=e("../../../node_modules/.pnpm/@wordpress+core-data@6.7.0_react@18.2.0/node_modules/@wordpress/core-data/build-module/index.js"),he=e("../../../node_modules/.pnpm/@wordpress+data@9.0.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-select/index.js");const pe={html:null,width:null,height:null,thumbnail_height:null,thumbnail_width:null,title:null,version:"1.0",type:"video",provider_name:"VideoPress",provider_url:"https://videopress.com"},ue=n=>(0,he.Z)(t=>n?{preview:t(ce.h).getEmbedPreview(n)||pe,isRequestingEmbedPreview:t(ce.h).isRequestingEmbedPreview(n)||!1}:{preview:pe,isRequestingEmbedPreview:!1},[n]);var Ae=e("../../../node_modules/.pnpm/@wordpress+compose@6.7.0_react@18.2.0/node_modules/@wordpress/compose/build-module/hooks/use-previous/index.js"),u=e("../../../node_modules/.pnpm/debug@4.3.4/node_modules/debug/src/browser.js"),f=e.n(u);const d=f()("videopress:use-video-player"),b=n=>{var s;const t=(s=n==null?void 0:n.current)==null?void 0:s.querySelector("iframe.components-sandbox");return t==null?void 0:t.contentWindow},X=(n,t,s,_)=>{let{autoplay:g,initialTimePosition:m,wrapperElement:r,previewOnHover:a}=s;const[i,w]=(0,p.useState)(!1),k=(0,p.useRef)("not-rendered");function C(q){const{data:N={},source:se}=q,{event:ge}=(q==null?void 0:q.data)||{};if(ge==="videopress_loading_state"&&N.state==="loaded"&&(d("state: loaded"),k.current="loaded"),ge==="videopress_playing"&&k.current==="loaded"&&(k.current="first-play",d("state: first-play detected"),g?d("autoplay enabled. Do not pause"):(d("pause video"),se.postMessage({event:"videopress_action_pause"},{targetOrigin:"*"})),typeof m!="undefined"&&(d("set position at time %o ",m),se.postMessage({event:"videopress_action_set_currenttime",currentTime:m/1e3},{targetOrigin:"*"})),w(!0),k.current="ready"),ge==="videopress_timeupdate"){const fe=N.currentTimeMs;if(_==null||_(fe),a){const D=a.atTime,ne=a.atTime+a.duration;(fe<D||fe>ne)&&se.postMessage({event:"videopress_action_set_currenttime",currentTime:D/1e3},{targetOrigin:"*"})}}}const L=!!a,h=(0,Ae.Z)(L),K=L&&!h,v=b(n);(0,p.useEffect)(()=>{if(v&&!t)return d("player is ready to listen events"),v.addEventListener("message",C),()=>{v.removeEventListener("message",C)}},[v,t,K,a]);const W=(0,p.useCallback)(()=>{!v||!i||v.postMessage({event:"videopress_action_play"},"*")},[n,i,v]),ie=(0,p.useCallback)(()=>{!v||!i||v.postMessage({event:"videopress_action_pause"},"*")},[n,i,v]);return(0,p.useEffect)(()=>{if(!(!r||!L))return r.addEventListener("mouseenter",W),r.addEventListener("mouseleave",ie),()=>{r.removeEventListener("mouseenter",W),r.removeEventListener("mouseleave",ie)}},[L,r,i]),(0,p.useEffect)(()=>{!i||!a||v&&v.postMessage({event:"videopress_action_set_currenttime",currentTime:a.atTime/1e3},{targetOrigin:"*"})},[a==null?void 0:a.atTime,i,v]),(0,p.useEffect)(()=>{!i||!a||v&&v.postMessage({event:"videopress_action_set_currenttime",currentTime:(a.atTime+a.duration)/1e3},{targetOrigin:"*"})},[a==null?void 0:a.duration,i,v]),{playerIsReady:i,play:W,pause:ie}},I=null,H=["image"];var ye=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/toolbar/toolbar-button/index.js"),we=e("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),ae=e.n(we),Q=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/style.scss"),O={};O.insert="head",O.singleton=!1;var me=ae()(Q.Z,O);const xe=Q.Z.locals||{};var o=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const te=z.__;function oe(n){let{poster:t,className:s}=n;const _=(0,G.Z)(te("No custom Poster image selected.<help>You can upload or select an image from your media library to override the default video image.</help>","jetpack-videopress-pkg"),{help:(0,o.jsx)("p",{className:"poster-panel-control__help"})}),g=(0,G.Z)(te("You are currently overriding the default Poster image.<help>Remove it if you want to use the default image generated by VideoPress.</help>","jetpack-videopress-pkg"),{help:(0,o.jsx)("p",{className:"poster-panel-control__help"})});return(0,o.jsx)("div",{className:s,children:t?g:_})}oe.displayName="VideoPosterCard";function Se(n){let{attributes:t,setAttributes:s,clientId:_}=n;const{poster:g}=t,m=a=>{s({poster:a.url})},r=()=>{s({poster:""})};return(0,o.jsx)(T.Z,{contentClassName:"dropdown-content",renderToggle:a=>{let{isOpen:i,onToggle:w}=a;return(0,o.jsx)(ye.Z,{label:te("Poster image","jetpack-videopress-pkg"),showTooltip:!0,"aria-expanded":i,"aria-haspopup":"true",onClick:w,icon:j.Z})},renderContent:a=>{let{onClose:i}=a;const w=`video-block__poster-image-description-${_}`;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(F.Z,{className:"poster-image-block-control__wrapper",children:[(0,o.jsx)(P.VA,{children:(0,o.jsx)(P.R,{title:te("Select Poster Image","jetpack-videopress-pkg"),onSelect:k=>{m(k),i()},allowedTypes:H,render:k=>{let{open:C}=k;return(0,o.jsxs)(S.Z,{icon:j.Z,onClick:C,"aria-describedby":w,children:[te("Open Media Library","jetpack-videopress-pkg"),(0,o.jsx)("p",{id:w,hidden:!0,children:g?(0,z.gB)(te("The current poster image url is %s","jetpack-videopress-pkg"),g):te("There is no poster image currently selected","jetpack-videopress-pkg")})]})}})}),(0,o.jsx)(oe,{poster:g,className:"current-media"}),!!g&&(0,o.jsx)(S.Z,{className:"poster-image-block-control__remove-button",variant:"tertiary",isDestructive:!0,onClick:()=>{r(),i()},icon:c.Z,children:te("Remove and use default","jetpack-videopress-pkg")})]})})}})}Se.displayName="PosterImageBlockControl";try{oe.displayName="VideoPosterCard",oe.__docgenInfo={description:"Simple component that renders info about video poster.",displayName:"VideoPosterCard",props:{poster:{defaultValue:null,description:"",name:"poster",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/index.tsx#VideoPosterCard"]={docgenInfo:oe.__docgenInfo,name:"VideoPosterCard",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/index.tsx#VideoPosterCard"})}catch(n){}try{posterimageblockcontrol.displayName="posterimageblockcontrol",posterimageblockcontrol.__docgenInfo={description:"Poster image control react component.",displayName:"posterimageblockcontrol",props:{attributes:{defaultValue:null,description:"Block Attributes object.",name:"attributes",required:!0,type:{name:"VideoBlockAttributes"}},setAttributes:{defaultValue:null,description:"",name:"setAttributes",required:!0,type:{name:"VideoBlockSetAttributesProps"}},clientId:{defaultValue:null,description:"",name:"clientId",required:!1,type:{name:"string"}},privateEnabledForSite:{defaultValue:null,description:"",name:"privateEnabledForSite",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/index.tsx#posterimageblockcontrol"]={docgenInfo:posterimageblockcontrol.__docgenInfo,name:"posterimageblockcontrol",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/index.tsx#posterimageblockcontrol"})}catch(n){}var je=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/style.scss"),V={};V.insert="head",V.singleton=!1;var Le=ae()(je.Z,V);const Ne=je.Z.locals||{},x=z.__,ke=3*1e3,Oe=10*1e3,Ve=5*1e3,De=()=>{var n,t;return!!((t=(n=window==null?void 0:window.Jetpack_Editor_Initial_State)==null?void 0:n.available_blocks)!=null&&t["v6-video-frame-poster"])},Te=[];if(window.videopressAjax){const n=new Blob([`var videopressAjax = ${JSON.stringify({...window.videopressAjax,context:"sandbox"})};`],{type:"text/javascript"});Te.push(URL.createObjectURL(n),window.videopressAjax.bridgeUrl)}(He=window==null?void 0:window.videoPressEditorState)!=null&&He.playerBridgeUrl&&Te.push(window.videoPressEditorState.playerBridgeUrl);function ve(n){let{clientId:t,attributes:s,setAttributes:_}=n;const g=`video-block__poster-image-description-${t}`,{poster:m}=s,r=(0,p.useCallback)(h=>{_({poster:h.url,posterData:{...s.posterData,type:"media-library",id:h.id,url:h.url}})},[s]),a=x("Select Poster Image","jetpack-videopress-pkg"),i=x("Replace Poster Image","jetpack-videopress-pkg"),w=(0,p.useRef)(null),k=Number(s==null?void 0:s.videoRatio)/100||9/16,[C,L]=(0,p.useState)(140);return(0,p.useEffect)(()=>{if(!m||!(w!=null&&w.current))return;const{current:h}=w,K=h==null?void 0:h.offsetWidth;K&&L(K*k)},[m,w,k]),(0,o.jsx)(T.Z,{contentClassName:"poster-panel__dropdown",placement:"top left",renderToggle:h=>{let{isOpen:K,onToggle:v}=h;return(0,o.jsx)(M.ZP,{ref:w,style:{backgroundImage:m?`url(${m})`:void 0,height:C,minHeight:C},className:`poster-panel__button ${m?"has-poster":""}`,variant:"secondary",onClick:v,"aria-expanded":K,children:(0,o.jsx)("span",{children:m?i:a})})},renderContent:h=>{let{onClose:K}=h;return(0,o.jsx)(F.Z,{className:"block-editor-media-replace-flow__media-upload-menu",children:(0,o.jsx)(P.VA,{children:(0,o.jsx)(P.R,{title:x("Select Poster Image","jetpack-videopress-pkg"),onSelect:v=>{r(v),K()},allowedTypes:H,render:v=>{let{open:W}=v;return(0,o.jsxs)(S.Z,{icon:j.Z,onClick:W,"aria-describedby":g,children:[x("Open Media Library","jetpack-videopress-pkg"),(0,o.jsx)("p",{id:g,hidden:!0,children:m?(0,z.gB)(x("The current poster image url is %s","jetpack-videopress-pkg"),m):x("There is no poster image currently selected","jetpack-videopress-pkg")})]})}})})})}})}ve.displayName="PosterDropdown";const Ce=n=>{var s;const t=(s=n==null?void 0:n.current)==null?void 0:s.querySelector("iframe.components-sandbox");return t==null?void 0:t.contentWindow};function Re(n){let{guid:t,isGeneratingPoster:s,atTime:_=.1,onVideoFrameSelect:g,duration:m}=n;const[r,a]=(0,p.useState)(_),i=(0,p.useRef)(null),w=(0,Y.pg)(t,{autoplay:!0,muted:!0,controls:!1,loop:!1}),{preview:k={html:null},isRequestingEmbedPreview:C}=ue(w),{html:L}=k,h=(0,ee.Z)(N=>{g(N)},2e3),K=(0,p.useCallback)(N=>{a(N),h(N)},[a,h]),{playerIsReady:v,pause:W}=X(i,C,{initialTimePosition:_},K);(0,p.useEffect)(()=>{s&&W()},[s,W]);const ie=(0,p.useCallback)(W,[W]),q=(0,p.useCallback)(N=>{const se=Ce(i);se==null||se.postMessage({event:"videopress_action_set_currenttime",currentTime:N/1e3}),g(N)},[i,g]);return(0,o.jsxs)("div",{className:"poster-panel__frame-picker",children:[(0,o.jsxs)("div",{ref:i,className:B()("poster-panel__frame-picker__sandbox-wrapper",{"is-player-ready":v,"is-generating-poster":s}),onMouseLeave:ie,children:[(!v||s)&&(0,o.jsx)($.ZP,{}),(0,o.jsx)(J.Z,{html:L,scripts:Te})]}),s&&(0,o.jsx)(l.Z,{status:"info",className:"poster-panel__notice",isDismissible:!1,children:x("Generating video poster image. It may take a few seconds.","jetpack-videopress-pkg")}),(0,o.jsx)(R.ZP,{label:x("Video frame","jetpack-videopress-pkg"),help:x("Select the frame you want to use as poster image","jetpack-videopress-pkg"),disabled:C||s,max:m,value:r,wait:250,fineAdjustment:1,decimalPlaces:2,onChange:a,onDebounceChange:q})]})}Re.displayName="VideoFramePicker";function Pe(n){let{previewOnHover:t=!1,previewAtTime:s=0,loopDuration:_=Ve,videoDuration:g,onPreviewOnHoverChange:m,onPreviewAtTimeChange:r,onLoopDurationChange:a}=n;const i=!g,w=Math.max(g-ke,0),[k,C]=(0,p.useState)(Math.min(Oe,g-s)),L=(k/10|0)/100,h=(0,G.Z)((0,z.gB)(x("Video duration: <em>%s</em>.","jetpack-videopress-pkg"),le(g)),{em:(0,o.jsx)("em",{})}),K=(0,G.Z)((0,z.gB)(x("Minimum: <em>%1$ss</em>. Maximum: <em>%2$ss</em>.","jetpack-videopress-pkg"),Math.min(ke/1e3,L),L),{em:(0,o.jsx)("em",{})}),v=w===0,W=k<=ke,ie=(0,p.useCallback)(q=>{r(q);const N=Math.min(Oe,g-q);C(N),_>N&&a(N)},[r,g,_,a]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(y.Z,{className:"poster-panel__preview-toggle",label:x("Video preview on hover","jetpack-videopress-pkg"),checked:t,onChange:m,disabled:!t&&i}),t&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(R.ZP,{label:x("Starting point","jetpack-videopress-pkg"),max:w,fineAdjustment:50,value:s,onDebounceChange:ie,wait:300,disabled:i||v,help:h}),(0,o.jsx)(R.ZP,{max:k,min:ke,fineAdjustment:50,label:x("Loop duration","jetpack-videopress-pkg"),value:_,onDebounceChange:a,wait:300,help:K,disabled:i||W,marksEvery:1e3})]})]})}function Ie(n){var se,ge,fe;let{attributes:t,setAttributes:s,isGeneratingPoster:_,clientId:g}=n;const{poster:m,posterData:r}=t,{getBlockAttributes:a}=(0,de.Ys)(P.t2),i=t==null?void 0:t.duration,w=(r==null?void 0:r.type)==="video-frame",k=(r==null?void 0:r.previewOnHover)||!1,C=(ge=(se=r==null?void 0:r.previewAtTime)!=null?se:r==null?void 0:r.atTime)!=null?ge:0;let L=(fe=r==null?void 0:r.previewLoopDuration)!=null?fe:Ve;L>i-C&&(L=i-C);const h=()=>{s({poster:"",posterData:{...t.posterData,url:""}})},K=(0,p.useCallback)(D=>{s({posterData:{...t.posterData,type:D?"video-frame":"media-library"},poster:D?"":t.posterData.url||""})},[t]),v=(0,p.useCallback)(D=>{let ne={...t.posterData,previewOnHover:D};D&&(ne={previewAtTime:C,previewLoopDuration:L,...ne}),s({posterData:ne,controls:D?!1:t.controls})},[t]),W=(0,p.useCallback)(D=>{s({posterData:{...t.posterData,previewAtTime:D}})},[t]),ie=(0,p.useCallback)(D=>{let ne=C;C+D>i&&(ne=i-D),s({posterData:{...t.posterData,previewLoopDuration:D,previewAtTime:ne}})},[t]),q=D=>{const ne=a(g);s({posterData:{...ne.posterData,type:"video-frame",atTime:D},poster:""})};if(!De())return(0,o.jsxs)(A.ZP,{title:x("Poster","jetpack-videopress-pkg"),className:"poster-panel",children:[(0,o.jsx)(ve,{attributes:t,setAttributes:s}),(0,o.jsx)(oe,{poster:m,className:"poster-panel-card"}),m&&(0,o.jsx)(S.Z,{onClick:h,icon:c.Z,isDestructive:!0,variant:"tertiary",children:x("Remove and use default","jetpack-videopress-pkg")})]});const N=De()?x("Poster and preview","jetpack-videopress-pkg"):x("Poster","jetpack-videopress-pkg");return(0,o.jsxs)(A.ZP,{title:N,className:"poster-panel",initialOpen:!1,children:[(0,o.jsx)(y.Z,{label:x("Pick from video frame","jetpack-videopress-pkg"),checked:w,onChange:K}),(0,o.jsx)("div",{className:B()("poster-panel__frame-wrapper",{"is-selected":w}),children:(0,o.jsx)(Re,{isGeneratingPoster:_,guid:t==null?void 0:t.guid,atTime:r==null?void 0:r.atTime,duration:i,onVideoFrameSelect:q})}),(0,o.jsxs)("div",{className:B()("poster-panel__image-wrapper",{"is-selected":!w}),children:[(0,o.jsx)(ve,{attributes:t,setAttributes:s}),(0,o.jsx)(oe,{poster:m,className:"poster-panel-card"}),m&&(0,o.jsx)(S.Z,{onClick:h,icon:c.Z,isDestructive:!0,variant:"tertiary",children:x("Remove and use default","jetpack-videopress-pkg")})]}),(0,o.jsx)(Pe,{previewOnHover:k,previewAtTime:C,loopDuration:L,videoDuration:i,onPreviewOnHoverChange:v,onPreviewAtTimeChange:W,onLoopDurationChange:ie})]})}Ie.displayName="PosterPanel";try{ve.displayName="PosterDropdown",ve.__docgenInfo={description:"Sidebar Control component.",displayName:"PosterDropdown",props:{attributes:{defaultValue:null,description:"Block Attributes object.",name:"attributes",required:!0,type:{name:"VideoBlockAttributes"}},setAttributes:{defaultValue:null,description:"",name:"setAttributes",required:!0,type:{name:"VideoBlockSetAttributesProps"}},clientId:{defaultValue:null,description:"",name:"clientId",required:!1,type:{name:"string"}},privateEnabledForSite:{defaultValue:null,description:"",name:"privateEnabledForSite",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#PosterDropdown"]={docgenInfo:ve.__docgenInfo,name:"PosterDropdown",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#PosterDropdown"})}catch(n){}try{Pe.displayName="VideoHoverPreviewControl",Pe.__docgenInfo={description:"React component to select the video preview options when the user hovers the video",displayName:"VideoHoverPreviewControl",props:{previewOnHover:{defaultValue:{value:"false"},description:"",name:"previewOnHover",required:!1,type:{name:"boolean"}},previewAtTime:{defaultValue:{value:"0"},description:"",name:"previewAtTime",required:!1,type:{name:"number"}},loopDuration:{defaultValue:{value:"5 * 1000"},description:"",name:"loopDuration",required:!1,type:{name:"number"}},videoDuration:{defaultValue:null,description:"",name:"videoDuration",required:!0,type:{name:"number"}},onPreviewOnHoverChange:{defaultValue:null,description:"",name:"onPreviewOnHoverChange",required:!0,type:{name:"(previewOnHover: boolean) => void"}},onPreviewAtTimeChange:{defaultValue:null,description:"",name:"onPreviewAtTimeChange",required:!0,type:{name:"(timestamp: number) => void"}},onLoopDurationChange:{defaultValue:null,description:"",name:"onLoopDurationChange",required:!0,type:{name:"(duration: number) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#VideoHoverPreviewControl"]={docgenInfo:Pe.__docgenInfo,name:"VideoHoverPreviewControl",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#VideoHoverPreviewControl"})}catch(n){}try{posterpanel.displayName="posterpanel",posterpanel.__docgenInfo={description:"Sidebar Control component.",displayName:"posterpanel",props:{attributes:{defaultValue:null,description:"Block Attributes object.",name:"attributes",required:!0,type:{name:"VideoBlockAttributes"}},setAttributes:{defaultValue:null,description:"",name:"setAttributes",required:!0,type:{name:"VideoBlockSetAttributesProps"}},clientId:{defaultValue:null,description:"",name:"clientId",required:!1,type:{name:"string"}},privateEnabledForSite:{defaultValue:null,description:"",name:"privateEnabledForSite",required:!1,type:{name:"boolean"}},isGeneratingPoster:{defaultValue:null,description:"",name:"isGeneratingPoster",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#posterpanel"]={docgenInfo:posterpanel.__docgenInfo,name:"posterpanel",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#posterpanel"})}catch(n){}try{Ce.displayName="getIframeWindowFromRef",Ce.__docgenInfo={description:`Return the (content) Window object of the iframe,
given the iframe's ref.`,displayName:"getIframeWindowFromRef",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#getIframeWindowFromRef"]={docgenInfo:Ce.__docgenInfo,name:"getIframeWindowFromRef",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#getIframeWindowFromRef"})}catch(n){}},"../../packages/videopress/src/client/components/timestamp-control/index.tsx":(re,Z,e)=>{e.d(Z,{ZP:()=>Ae});var P=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/base-control/index.js"),T=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/base-control/hooks.js"),M=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/number-control/index.js"),F=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/text-control/index.js"),S=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/range-control/index.js"),$=e("../../../node_modules/.pnpm/@wordpress+compose@6.7.0_react@18.2.0/node_modules/@wordpress/compose/build-module/hooks/use-instance-id/index.js"),J=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),l=e("../../../node_modules/.pnpm/classnames@2.3.1/node_modules/classnames/index.js"),y=e.n(l);function A(u){const f=Math.floor(u/36e5),d=Math.floor(u/6e4)%60,b=Math.floor(u/1e3)%60,E=Math.floor(u/10)%100;return[f>0?f.toString().padStart(2,"0")+":":"",f>0||d>0?d.toString().padStart(2,"0")+":":"",b.toString().padStart(2,"0"),"."+E.toString().padStart(2,"0")].join("")}var ee=e("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),de=e.n(ee),p=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/components/timestamp-control/style.module.scss"),G={};G.insert="head",G.singleton=!1;var z=de()(p.Z,G);const j=p.Z.locals||{};var c=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function U(u){const{help:f,id:d,...b}=u,E=(0,$.Z)(P.ZP,"wp-components-base-control",d),X=typeof f=="string"?"aria-describedby":"aria-details";return{baseControlProps:{id:E,help:f,...b},controlProps:{id:E,...f?{[X]:`${E}__help`}:{}}}}const B=T.u||U,R=u=>{if(M.Z)return(0,c.jsx)(M.Z,{...u});const f={...u};return["spinControls","isPressEnterToChange","isDragEnabled","isShiftStepEnabled","__unstableStateReducer"].forEach(d=>delete f[d]),(0,c.jsx)(F.Z,{...f})};R.displayName="NumberControl";const Y=u=>{let{char:f=":"}=u;return(0,c.jsx)("span",{className:j["timestamp-control-divider"],children:f})};Y.displayName="TimeDivider";const le="CHANGE",be="COMMIT",_e="PRESS_DOWN",Ee="PRESS_UP",ce=u=>(f,d)=>{const b={...f};return(d.type===be||d.type===Ee||d.type===_e||d.type===le)&&b.value!==void 0&&(b.value=b.value.toString().padStart(u,"0")),b};function he(u,f,d){u>d&&(u=d);const b=Number.isNaN(u),E=b||typeof f=="undefined"?0:Math.floor(u%1e3/+`1e${3-f}`);return{hh:b?0:Math.floor(u/(1e3*60*60)%24),mm:b?0:Math.floor(u/(1e3*60)%60),ss:b?0:Math.floor(u/1e3%60),decimal:E}}const pe=u=>{let{onChange:f,disabled:d,value:b,max:E,autoHideTimeInput:X=!0,decimalPlaces:I}=u;const H={value:he(b,I,E)},ye=E>60*60*1e3,we=E>60*1e3,ae=Q=>O=>{if(typeof O=="string"&&!isNaN(parseInt(O,10))&&(O=parseInt(O,10)),Q==="hh"&&O>99||(Q==="mm"||Q==="ss")&&O>59||Q==="decimal"&&O>+`1e${I}`-1||typeof O=="string")return;H.value={...he(b,I,E),[Q]:O};const me=H.value.decimal?H.value.decimal*+`1e${3-I}`:0;f==null||f((H.value.hh*3600+H.value.mm*60+H.value.ss)*1e3+me)};return(0,c.jsxs)("div",{className:y()(j["timestamp-input-wrapper"],{[j["is-disabled"]]:d}),children:[(ye||!X)&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(R,{className:j["timestamp-control-input"],disabled:d,min:0,max:99,step:1,hideLabelFromVision:!0,spinControls:"none",placeholder:"00",isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,__unstableStateReducer:ce(2),value:String(H.value.hh).padStart(2,"0"),onChange:ae("hh")}),(0,c.jsx)(Y,{})]}),(we||!X)&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(R,{className:j["timestamp-control-input"],disabled:d,min:0,max:59,step:1,hideLabelFromVision:!0,spinControls:"none",placeholder:"00",isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,__unstableStateReducer:ce(2),value:String(H.value.mm).padStart(2,"0"),onChange:ae("mm")}),(0,c.jsx)(Y,{})]}),(0,c.jsx)(R,{className:j["timestamp-control-input"],disabled:d,min:0,max:59,step:1,hideLabelFromVision:!0,spinControls:"none",placeholder:"00",isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,__unstableStateReducer:ce(2),value:String(H.value.ss).padStart(2,"0"),onChange:ae("ss")}),I&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(Y,{char:"."}),(0,c.jsx)(R,{className:j["timestamp-control-input"],style:{"--input-width":`${12*I}px`},disabled:d,min:0,max:Number("9".repeat(I)),step:1,hideLabelFromVision:!0,spinControls:"none",placeholder:"0".repeat(I),isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,__unstableStateReducer:ce(I),value:String(H.value.decimal).padStart(I,"0"),onChange:ae("decimal")})]})]})};pe.displayName="TimestampInput";const ue=u=>{const{disabled:f=!1,min:d=0,max:b=Number.MAX_SAFE_INTEGER,value:E,onChange:X,onDebounceChange:I,wait:H=1e3,fineAdjustment:ye=50,autoHideTimeInput:we=!0,decimalPlaces:ae,marksEvery:Q,renderTooltip:O}=u,me=(0,J.useRef)(),[xe,o]=(0,J.useState)(E);(0,J.useEffect)(()=>{o(E)},[E]);const{baseControlProps:te}=(B==null?void 0:B(u))||{},oe=(0,J.useCallback)(V=>{clearTimeout(me==null?void 0:me.current),V>b&&(V=b),V<d&&(V=d),o(V),X==null||X(V),me.current=setTimeout(I==null?void 0:I.bind(null,V),H)},[I,X,b,d,H]),Se=[];if(Q)for(let V=d;V<=b;V+=Q)Se.push({value:V,label:null});const je=typeof O=="function"?O:V=>A(V);return(0,c.jsx)(P.ZP,{...te,children:(0,c.jsxs)("div",{className:j["timestamp-control__controls-wrapper"],children:[R&&(0,c.jsx)(pe,{disabled:f,max:b,value:xe,onChange:oe,autoHideTimeInput:we,decimalPlaces:ae}),(0,c.jsx)(S.Z,{disabled:f,className:j["timestamp-range-control"],min:d,step:ye,initialPosition:xe,value:xe,max:b,withInputField:!1,onChange:oe,marks:Q?Se:void 0,renderTooltipContent:je,...O===!1?{showTooltip:!1}:{}})]})})};ue.displayName="TimestampControl";const Ae=ue;try{pe.displayName="TimestampInput",pe.__docgenInfo={description:"",displayName:"TimestampInput",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},fineAdjustment:{defaultValue:null,description:"",name:"fineAdjustment",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(ms: number) => void"}},autoHideTimeInput:{defaultValue:{value:"true"},description:"",name:"autoHideTimeInput",required:!1,type:{name:"boolean"}},decimalPlaces:{defaultValue:null,description:"",name:"decimalPlaces",required:!1,type:{name:"enum",value:[{value:"1"},{value:"2"},{value:"3"}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/components/timestamp-control/index.tsx#TimestampInput"]={docgenInfo:pe.__docgenInfo,name:"TimestampInput",path:"../../packages/videopress/src/client/components/timestamp-control/index.tsx#TimestampInput"})}catch(u){}try{ue.displayName="TimestampControl",ue.__docgenInfo={description:"TimestampControl component",displayName:"TimestampControl",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},fineAdjustment:{defaultValue:null,description:"",name:"fineAdjustment",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(ms: number) => void"}},autoHideTimeInput:{defaultValue:{value:"true"},description:"",name:"autoHideTimeInput",required:!1,type:{name:"boolean"}},decimalPlaces:{defaultValue:null,description:"",name:"decimalPlaces",required:!1,type:{name:"enum",value:[{value:"1"},{value:"2"},{value:"3"}]}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},help:{defaultValue:null,description:"",name:"help",required:!1,type:{name:"ReactNode"}},wait:{defaultValue:null,description:"",name:"wait",required:!1,type:{name:"number"}},marksEvery:{defaultValue:null,description:"",name:"marksEvery",required:!1,type:{name:"number"}},renderTooltip:{defaultValue:null,description:"",name:"renderTooltip",required:!1,type:{name:"boolean"}},onDebounceChange:{defaultValue:null,description:"",name:"onDebounceChange",required:!1,type:{name:"(ms: number) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/components/timestamp-control/index.tsx#TimestampControl"]={docgenInfo:ue.__docgenInfo,name:"TimestampControl",path:"../../packages/videopress/src/client/components/timestamp-control/index.tsx#TimestampControl"})}catch(u){}try{timestampcontrol.displayName="timestampcontrol",timestampcontrol.__docgenInfo={description:"TimestampControl component",displayName:"timestampcontrol",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},fineAdjustment:{defaultValue:null,description:"",name:"fineAdjustment",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(ms: number) => void"}},autoHideTimeInput:{defaultValue:{value:"true"},description:"",name:"autoHideTimeInput",required:!1,type:{name:"boolean"}},decimalPlaces:{defaultValue:null,description:"",name:"decimalPlaces",required:!1,type:{name:"enum",value:[{value:"1"},{value:"2"},{value:"3"}]}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},help:{defaultValue:null,description:"",name:"help",required:!1,type:{name:"ReactNode"}},wait:{defaultValue:null,description:"",name:"wait",required:!1,type:{name:"number"}},marksEvery:{defaultValue:null,description:"",name:"marksEvery",required:!1,type:{name:"number"}},renderTooltip:{defaultValue:null,description:"",name:"renderTooltip",required:!1,type:{name:"boolean"}},onDebounceChange:{defaultValue:null,description:"",name:"onDebounceChange",required:!1,type:{name:"(ms: number) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/components/timestamp-control/index.tsx#timestampcontrol"]={docgenInfo:timestampcontrol.__docgenInfo,name:"timestampcontrol",path:"../../packages/videopress/src/client/components/timestamp-control/index.tsx#timestampcontrol"})}catch(u){}},"../../packages/videopress/src/client/lib/url/index.ts":(re,Z,e)=>{e.d(Z,{Iz:()=>J,pg:()=>T});var P=e("../../../node_modules/.pnpm/@wordpress+url@3.31.0/node_modules/@wordpress/url/build-module/add-query-args.js");const T=(l,y)=>{let{autoplay:A,controls:ee,loop:de,muted:p,playsinline:G,poster:z,preload:j,seekbarColor:c,seekbarPlayedColor:U,seekbarLoadingColor:B,useAverageColor:R}=y;if(!l)return null;const Y={resizeToParent:!0,cover:!0,...A&&{autoPlay:!0},...!ee&&{controls:!1},...de&&{loop:!0},...p&&{muted:!0,persistVolume:!1},...G&&{playsinline:!0},...z&&{posterUrl:z},...j!==""&&{preloadContent:j},...c!==""&&{sbc:c},...U!==""&&{sbpc:U},...B!==""&&{sblc:B},...R&&{useAverageColor:!0}};return(0,P.f)(`https://videopress.com/v/${l}`,Y)},M=l=>{var A;if(!l||typeof l!="string")return null;const y=l.match(/^https?:\/\/(?<host>video(?:\.word|s\.files\.word)?press\.com)(?:\/v|\/embed)?\/(?<guid>[a-zA-Z\d]{8})/);return(A=y==null?void 0:y.groups)!=null&&A.guid?y.groups.guid:null};function F(l){const y=l.match(/^[a-zA-Z\d]{8}$/);return y?y[0]:!1}function S(l,y){if(F(l))return y?{url:T(l,y),guid:l}:{url:`https://videopress.com/v/${l}`,guid:l};const ee=M(l);return ee?{url:l,guid:ee}:{}}const $=l=>l.replace(/\.[^/.]+$/,"");function J(l,y){return y?`https://video.wordpress.com/v/${l}`:`https://videopress.com/v/${l}`}},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/style.scss":(re,Z,e)=>{e.d(Z,{Z:()=>$});var P=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),T=e.n(P),M=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),F=e.n(M),S=F()(T());S.push([re.id,".modal-open .dropdown-content{display:none}.current-media{border-top:1px solid #1e1e1e;margin-top:8px;margin-right:-8px;margin-left:-8px;padding:16px 16px 0}.poster-image-block-control__wrapper .poster-panel-control__help{margin-bottom:0}.poster-image-block-control__remove-button.poster-image-block-control__remove-button{padding-left:12px;padding-right:12px}",""]);const $=S},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/style.scss":(re,Z,e)=>{e.d(Z,{Z:()=>$});var P=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),T=e.n(P),M=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),F=e.n(M),S=F()(T());S.push([re.id,"body.modal-open .poster-panel__dropdown{display:none}.poster-panel .components-dropdown{width:100%;display:flex}.poster-panel .components-dropdown .poster-panel__button{width:100%;display:block;text-align:center;border-radius:2px;min-height:140px;max-height:512px;background-color:#fafafa;background-size:cover;background-position:center center}.poster-panel .components-dropdown .poster-panel__button.has-poster span{display:none}.poster-panel .components-dropdown .poster-panel__button:hover{background-image:none !important}.poster-panel .components-dropdown .poster-panel__button:hover span{display:inline}.poster-panel__notice{margin-left:0;margin-right:0;margin-bottom:16px}.poster-panel-control__help{font-size:12px;font-style:normal;color:#757575}.poster-panel-card{margin-top:24px;margin-right:-8px;margin-left:-8px;padding-left:16px;padding-right:16px}.poster-panel__frame-picker__sandbox-wrapper{margin-bottom:8px;position:relative;background-color:#fafafa}.poster-panel__frame-picker__sandbox-wrapper .components-spinner{margin:0;width:32px;height:32px;position:absolute;z-index:100;top:50%;left:50%;transform:translate(-50%, -50%)}.poster-panel__frame-picker__sandbox-wrapper .components-sandbox{opacity:.1;transition:opacity 300ms ease-in-out;transition-delay:50ms}.poster-panel__frame-picker__sandbox-wrapper:not(.is-player-ready){aspect-ratio:16/9}.poster-panel__frame-picker__sandbox-wrapper.is-player-ready .components-sandbox{opacity:1}.poster-panel__frame-picker__sandbox-wrapper.is-generating-poster{pointer-events:none}.poster-panel__frame-picker__sandbox-wrapper.is-generating-poster .components-sandbox{opacity:.5}.poster-panel__image-wrapper,.poster-panel__frame-wrapper{opacity:0;display:none}.poster-panel__image-wrapper.is-selected,.poster-panel__frame-wrapper.is-selected{opacity:1;display:block}.poster-panel__preview-toggle{margin-top:24px}",""]);const $=S},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/components/timestamp-control/style.module.scss":(re,Z,e)=>{e.d(Z,{Z:()=>$});var P=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),T=e.n(P),M=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),F=e.n(M),S=F()(T());S.push([re.id,".zuO3RgAd20yV6c0cEjwU{--input-width: 24px;display:flex;align-items:center;gap:8px}.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H,.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H:last-child{margin-bottom:0;flex-grow:2}.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H .components-base-control__field,.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H:last-child .components-base-control__field{margin-bottom:0}.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H .components-range-control__wrapper,.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H:last-child .components-range-control__wrapper{margin-bottom:0}.zuO3RgAd20yV6c0cEjwU .components-range-control__marks{top:13px}.xiVP4KSb56I10368tN0v{display:flex;align-items:center;border-color:#949494;background-color:#fff;border-style:solid;justify-content:space-around;border-width:1px;padding:0px}.xiVP4KSb56I10368tN0v .J6r6Ls3WNV_CSbuzeLyr{padding:0 1px;margin-bottom:0}.xiVP4KSb56I10368tN0v .J6r6Ls3WNV_CSbuzeLyr input{max-width:var(--input-width)}.xiVP4KSb56I10368tN0v .J6r6Ls3WNV_CSbuzeLyr:last-child{margin-bottom:0}.xiVP4KSb56I10368tN0v .J6r6Ls3WNV_CSbuzeLyr .components-base-control__field{margin-bottom:0}.xiVP4KSb56I10368tN0v .J6r6Ls3WNV_CSbuzeLyr .components-base-control__field .components-text-control__input{border:none;text-align:center;padding:0}.xiVP4KSb56I10368tN0v .components-input-control:last-child{margin-bottom:0}.xiVP4KSb56I10368tN0v .components-input-control__input{padding-left:0 !important;padding-right:0 !important;text-align:center}.xiVP4KSb56I10368tN0v .components-input-control__input::-webkit-outer-spin-button,.xiVP4KSb56I10368tN0v .components-input-control__input::-webkit-inner-spin-button{-webkit-appearance:none}.xiVP4KSb56I10368tN0v .components-input-control__input[type=number]{-webkit-appearance:textfield;appearance:textfield;-moz-appearance:textfield}.xiVP4KSb56I10368tN0v .components-input-control__backdrop{border-style:none !important}.xiVP4KSb56I10368tN0v.XtdqGJfT1AOZ9KRjf1TZ{background-color:#f0f0f0}.xiVP4KSb56I10368tN0v.XtdqGJfT1AOZ9KRjf1TZ .PjODCu3uI7wWSXk4MiIH{color:#949494}.PjODCu3uI7wWSXk4MiIH{font-weight:900}",""]),S.locals={"timestamp-control__controls-wrapper":"zuO3RgAd20yV6c0cEjwU","timestamp-range-control":"m7UQ82mfQtaGf0Uxn62H","timestamp-input-wrapper":"xiVP4KSb56I10368tN0v","timestamp-control-input":"J6r6Ls3WNV_CSbuzeLyr","is-disabled":"XtdqGJfT1AOZ9KRjf1TZ","timestamp-control-divider":"PjODCu3uI7wWSXk4MiIH"};const $=S}}]);})();
