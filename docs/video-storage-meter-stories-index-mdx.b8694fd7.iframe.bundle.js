(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[7508],{"../../packages/videopress/src/client/admin/components/video-storage-meter/stories/index.mdx":(u,a,e)=>{"use strict";e.r(a),e.d(a,{default:()=>l});var r=e("../../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),o=e("../../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js"),p=e("../../../node_modules/.pnpm/@mdx-js+react@3.0.1_@types+react@18.3.3_react@18.3.1/node_modules/@mdx-js/react/lib/index.js"),d=e("../../../node_modules/.pnpm/@storybook+blocks@8.1.6_@types+react-dom@18.3.0_@types+react@18.3.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@storybook/blocks/dist/index.mjs"),t=e("../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx"),c=e("../../packages/videopress/src/client/admin/components/video-storage-meter/stories/index.stories.tsx");function _(i){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",ul:"ul",...(0,p.a)(),...i.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.h_,{of:c}),`
`,(0,o.jsx)(s.h1,{id:"videostoragemeter",children:"VideoStorageMeter"}),`
`,(0,o.jsx)(s.p,{children:"Component that shows cloud storage usage."}),`
`,(0,o.jsx)(d.Xz,{withSource:"open",children:(0,o.jsx)(d.oG,{id:"packages-videopress-video-storage-meter--default"})}),`
`,(0,o.jsx)(s.h2,{id:"api",children:"API"}),`
`,(0,o.jsx)(s.h3,{id:"total",children:"total"}),`
`,(0,o.jsxs)(s.ul,{children:[`
`,(0,o.jsxs)(s.li,{children:["type: ",(0,o.jsx)(s.code,{children:"number"})]}),`
`]}),`
`,(0,o.jsx)(s.p,{children:"The total available cloud space for the user, in bytes."}),`
`,(0,o.jsx)(s.h3,{id:"used",children:"used"}),`
`,(0,o.jsxs)(s.ul,{children:[`
`,(0,o.jsxs)(s.li,{children:["type: ",(0,o.jsx)(s.code,{children:"number"})]}),`
`]}),`
`,(0,o.jsx)(s.p,{children:"The used cloud space, in bytes."}),`
`,(0,o.jsx)(s.h3,{id:"classname",children:"className"}),`
`,(0,o.jsxs)(s.ul,{children:[`
`,(0,o.jsxs)(s.li,{children:["type: ",(0,o.jsx)(s.code,{children:"string"})]}),`
`]}),`
`,(0,o.jsx)(s.p,{children:"Optional classname to apply to the root element."}),`
`,(0,o.jsx)(s.h3,{id:"progressbarclassname",children:"progressBarClassName"}),`
`,(0,o.jsxs)(s.ul,{children:[`
`,(0,o.jsxs)(s.li,{children:["type: ",(0,o.jsx)(s.code,{children:"string"})]}),`
`]}),`
`,(0,o.jsxs)(s.ul,{children:[`
`,(0,o.jsx)(s.li,{children:"Optional classname to apply to the progress bar element."}),`
`]})]})}function l(i={}){const{wrapper:s}={...(0,p.a)(),...i.components};return s?(0,o.jsx)(s,{...i,children:(0,o.jsx)(_,{...i})}):_(i)}},"../../packages/videopress/src/client/admin/components/video-storage-meter/stories/index.stories.tsx":(u,a,e)=>{var _,l,i;"use strict";e.r(a),e.d(a,{__namedExportsOrder:()=>c,_default:()=>t,default:()=>p});var r=e("../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx"),o=e("../../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const p={title:"Packages/VideoPress/Video Storage Meter",component:r.Z},t=(s=>(0,o.jsx)(r.Z,{...s})).bind({});t.args={total:1024*1024*1024*1024,used:1024*1024*1024*1024/2},t.parameters={...t.parameters,docs:{...(_=t.parameters)==null?void 0:_.docs,source:{originalSource:"args => <VideoStorageMeter {...args} />",...(i=(l=t.parameters)==null?void 0:l.docs)==null?void 0:i.source}}};const c=["_default"]},"../../packages/videopress/src/client/admin/hooks/use-videos/index.js":(u,a,e)=>{"use strict";var r=e("../../packages/videopress/src/client/state/constants.js");function o(){const t=useSelect(n=>n(STORE_ID).getVideos()),c=useSelect(n=>n(STORE_ID).getUploadingVideos()),_=c.length>0,l="",i=useSelect(n=>n(STORE_ID).getUploadedVideoCount()),s=useSelect(n=>n(STORE_ID).getIsFetching()),b=useSelect(n=>n(STORE_ID).getIsFetchingUploadedVideoCount()),k=useSelect(n=>n(STORE_ID).getFirstUploadedVideoId()),x=useSelect(n=>n(STORE_ID).getFirstVideoProcessed()),T=useSelect(n=>n(STORE_ID).getDismissedFirstVideoPopover()),D=useSelect(n=>n(STORE_ID).getVideosQuery()||{}),S=useSelect(n=>n(STORE_ID).getPagination()),I=useSelect(n=>n(STORE_ID).getStorageUsed(),[]),P=useSelect(n=>n(STORE_ID).getVideosFilter());return{items:t,uploading:c,isUploading:_,search:l,filter:P,uploadedVideoCount:i,isFetching:s,isFetchingUploadedVideoCount:b,firstUploadedVideoId:k,firstVideoProcessed:x,dismissedFirstVideoPopover:T,...D,...S,...I,setPage:n=>dispatch(STORE_ID).setVideosQuery({page:n}),setSearch:n=>dispatch(STORE_ID).setVideosQuery({search:n}),setFilter:dispatch(STORE_ID).setVideosFilter}}const p=()=>{const t=useSelect(s=>s(STORE_ID).getLocalVideos()),c=useSelect(s=>s(STORE_ID).getUploadedLocalVideoCount()),_=useSelect(s=>s(STORE_ID).getIsFetchingLocalVideos()),l=useSelect(s=>s(STORE_ID).getLocalVideosQuery()||{}),i=useSelect(s=>s(STORE_ID).getLocalPagination());return{items:t,uploadedLocalVideoCount:c,isFetching:_,...l,...i,setPage:s=>dispatch(STORE_ID).setLocalVideosQuery({page:s})}},d=()=>useSelect(c=>c(STORE_ID).getVideosQuery()||{})},"../components/components/progress-bar/index.tsx":(u,a,e)=>{"use strict";e.d(a,{Z:()=>s});var r=e("../../../node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs"),o=e("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),p=e.n(o),d=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/sass-loader/dist/cjs.js!../components/components/progress-bar/style.module.scss"),t={};t.insert="head",t.singleton=!1;var c=p()(d.Z,t);const _=d.Z.locals||{};var l=e("../../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const s=({className:b,progressClassName:k,progress:x,size:T="normal"})=>{if(x==null)return null;const S={width:`${Math.max(Math.min(x,1),0)*100}%`};return(0,l.jsx)("div",{className:(0,r.Z)(b,_.wrapper,{[_.small]:T==="small"}),children:(0,l.jsx)("div",{className:(0,r.Z)(k,_.progress),style:S})})}},"../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx":(u,a,e)=>{"use strict";e.d(a,{Z:()=>V});var r=e("../components/components/text/index.tsx"),o=e("../components/components/progress-bar/index.tsx"),p=e("../../../node_modules/.pnpm/@wordpress+i18n@5.2.0/node_modules/@wordpress/i18n/build-module/index.js"),d=e("../../../node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs"),t=e("../../../node_modules/.pnpm/filesize@8.0.6/node_modules/filesize/lib/filesize.min.js"),c=e.n(t),_=e("../../packages/videopress/src/client/state/index.js");const{paidFeatures:l={},siteProductData:i={},productData:s={},productPrice:b={}}=window&&window.jetpackVideoPressInitialState?window.jetpackVideoPressInitialState:{},k=()=>{const j=mapObjectKeysToCamel(i.pricing_for_ui,!0),v=mapObjectKeysToCamel(s.introductory_offer,!0),h={...mapObjectKeysToCamel(s,!0),introductoryOffer:v},{purchases:m,isFetchingPurchases:y}=useSelect(g=>({purchases:g(STORE_ID).getPurchases(),isFetchingPurchases:g(STORE_ID).isFetchingPurchases()}),[]),E=m.map(g=>mapObjectKeysToCamel(g,!0));function O(g){return E.some(U=>U.productSlug===g)}const L=["jetpack_videopress_bi_yearly","jetpack_videopress","jetpack_videopress_monthly","jetpack_complete_bi_yearly","jetpack_complete","jetpack_complete_monthly","jetpack_business","jetpack_business_monthly","jetpack_personal","jetpack_personal_monthly","jetpack_premium","jetpack_premium_monthly","videopress","videopress-pro","wp_p2_plus_monthly","bundle_pro","value_bundle","value_bundle_monthly","value_bundle-2y","value_bundle-3y","pro-plan","pro-plan-monthly","pro-plan-2y","business-bundle","business-bundle-monthly","business-bundle-2y","business-bundle-3y","wp_com_hundred_year_bundle_centennially","wp_bundle_migration_trial_monthly","wp_bundle_hosting_trial_monthly","ecommerce-bundle","ecommerce-bundle-monthly","ecommerce-bundle-2y","ecommerce-bundle-3y","ecommerce-trial-bundle-monthly","wooexpress-small-bundle-yearly","wooexpress-small-bundle-monthly","wooexpress-medium-bundle-yearly","wooexpress-medium-bundle-monthly"].some(g=>O(g));return{features:l,siteProduct:{...mapObjectKeysToCamel({...i},!0),pricingForUi:j},product:h,productPrice:b,purchases:E,hasVideoPressPurchase:L,isFetchingPurchases:y}};var x=e("../../packages/videopress/src/client/admin/hooks/use-videopress-settings/index.ts"),T=e("../../packages/videopress/src/client/admin/hooks/use-videos/index.js"),D=e("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),S=e.n(D),I=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/admin/components/video-storage-meter/style.module.scss"),P={};P.insert="head",P.singleton=!1;var n=S()(I.Z,P);const M=I.Z.locals||{};var C=e("../../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const R=p.__,f=({className:j,progressBarClassName:v,total:h,used:m})=>{if(!h||m==null)return null;const y=m/h,E=`${(y*100).toFixed()}%`,O=c()(h,{base:10});return(0,C.jsxs)("div",{className:(0,d.Z)(j),children:[(0,C.jsx)(r.ZP,{className:(0,d.Z)(M["percentage-description"]),children:(0,p.gB)(R("%1$s of %2$s of cloud video storage","jetpack-videopress-pkg"),E,O)}),(0,C.jsx)(o.Z,{className:(0,d.Z)(M["progress-bar"],v),progress:y})]})},w=j=>{const{storageUsed:v,uploadedVideoCount:h}=useVideos(),{features:m}=usePlan(),{settings:y}=useVideoPressSettings(),{siteType:E}=y,O=1e3*1e3*1e3*1e3;return E===SITE_TYPE_ATOMIC||m!=null&&m.isVideoPressUnlimitedSupported||!h?null:v?_jsx(f,{...j,used:v,total:O}):_jsx(f,{...j,used:0,total:1})},V=f;try{w.displayName="ConnectVideoStorageMeter",w.__docgenInfo={description:"",displayName:"ConnectVideoStorageMeter",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx#ConnectVideoStorageMeter"]={docgenInfo:w.__docgenInfo,name:"ConnectVideoStorageMeter",path:"../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx#ConnectVideoStorageMeter"})}catch(j){}},"../../packages/videopress/src/client/admin/hooks/use-videopress-settings/index.ts":(u,a,e)=>{"use strict";var r=e("../../packages/videopress/src/client/state/index.js");const o=()=>{var t,c,_;const p=useDispatch(STORE_ID),d=useSelect(l=>l(STORE_ID).getVideoPressSettings(),[]);return{settings:{videoPressVideosPrivateForSite:(t=d==null?void 0:d.videoPressVideosPrivateForSite)!=null?t:!1,siteIsPrivate:(c=d==null?void 0:d.siteIsPrivate)!=null?c:!1,siteType:(_=d==null?void 0:d.siteType)!=null?_:SITE_TYPE_JETPACK},onUpdate:l=>p.updateVideoPressSettings(l)}}},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/sass-loader/dist/cjs.js!../components/components/progress-bar/style.module.scss":(u,a,e)=>{"use strict";e.d(a,{Z:()=>c});var r=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=e.n(r),p=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/runtime/api.js"),d=e.n(p),t=d()(o());t.push([u.id,".W4NUeZAGw0aXojyLmjzP{width:100%;height:12px;background-color:var(--jp-gray-5);border-radius:calc(var(--spacing-base)*3);overflow:hidden}.W4NUeZAGw0aXojyLmjzP.aCtQACi6JDw6tIP5cLu1{height:3px}.W4NUeZAGw0aXojyLmjzP .kaV9vllufIW5_MQslIfu{height:100%;border-radius:calc(var(--spacing-base)*3);background-color:var(--jp-black);min-width:12px}",""]),t.locals={wrapper:"W4NUeZAGw0aXojyLmjzP",small:"aCtQACi6JDw6tIP5cLu1",progress:"kaV9vllufIW5_MQslIfu"};const c=t},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/admin/components/video-storage-meter/style.module.scss":(u,a,e)=>{"use strict";e.d(a,{Z:()=>c});var r=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=e.n(r),p=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/runtime/api.js"),d=e.n(p),t=d()(o());t.push([u.id,".J0cboZTh2LMTitQ_wbbw{color:var(--jp-gray-80);margin-bottom:calc(var(--spacing-base)*2)}.uC0NRkCYRpEEddC3UOuf{margin-top:calc(var(--spacing-base)*2)}",""]),t.locals={"percentage-description":"J0cboZTh2LMTitQ_wbbw","progress-bar":"uC0NRkCYRpEEddC3UOuf"};const c=t},"../../../node_modules/.pnpm/memoizerific@1.11.3/node_modules/memoizerific sync recursive":u=>{function a(e){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}a.keys=()=>[],a.resolve=a,a.id="../../../node_modules/.pnpm/memoizerific@1.11.3/node_modules/memoizerific sync recursive",u.exports=a}}]);})();
