"use strict";(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[9753],{"../../packages/videopress/src/client/components/video-frame-selector/stories/index.stories.jsx":(w,l,e)=>{var m,a,_,i,u,x;e.r(l),e.d(l,{Default:()=>o,VideoPlayer:()=>s,__namedExportsOrder:()=>v,default:()=>d});var t=e("../../packages/videopress/src/client/components/video-frame-selector/index.jsx"),r=e("../../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const d={title:"Packages/VideoPress/Video Frame Selector",component:t.A,parameters:{layout:"centered"},decorators:[c=>(0,r.jsx)("div",{style:{width:"100%",maxWidth:"600px"},children:(0,r.jsx)(c,{})})]},o=(c=>(0,r.jsx)(t.A,{...c})).bind({});o.args={src:"https://videos.files.wordpress.com/PnQvSqdF/videopress-upload-demo-7.mp4"};const s=(c=>(0,r.jsx)(t.L,{...c})).bind({});s.args={src:"https://videos.files.wordpress.com/PnQvSqdF/videopress-upload-demo-7.mp4"};const v=["Default","VideoPlayer"];o.parameters={...o.parameters,docs:{...(m=o.parameters)==null?void 0:m.docs,source:{originalSource:"args => <VideoFrameSelector {...args} />",...(_=(a=o.parameters)==null?void 0:a.docs)==null?void 0:_.source}}},s.parameters={...s.parameters,docs:{...(i=s.parameters)==null?void 0:i.docs,source:{originalSource:"args => <VideoPlayerComponent {...args} />",...(x=(u=s.parameters)==null?void 0:u.docs)==null?void 0:x.source}}}},"../../../node_modules/.pnpm/@wordpress+components@28.5.0_@types+react@18.3.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@wordpress/components/build-module/spinner/index.js":(w,l,e)=>{e.d(l,{Ay:()=>h});var t=e("../../../node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs"),r=e("../../../node_modules/.pnpm/@emotion+styled@11.13.0_@emotion+react@11.13.0_@types+react@18.3.3_react@18.3.1__@types+react@18.3.3_react@18.3.1/node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),d=e("../../../node_modules/.pnpm/@emotion+react@11.13.0_@types+react@18.3.3_react@18.3.1/node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),n=e("../../../node_modules/.pnpm/@wordpress+components@28.5.0_@types+react@18.3.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@wordpress/components/build-module/utils/config-values.js"),o=e("../../../node_modules/.pnpm/@wordpress+components@28.5.0_@types+react@18.3.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@wordpress/components/build-module/utils/colors-values.js");function p(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const s=(0,d.i7)`
	from {
		transform: rotate(0deg);
	}
	to {
		transform: rotate(360deg);
	}
 `,v=(0,r.A)("svg",{target:"ea4tfvq2"})("width:",n.A.spinnerSize,"px;height:",n.A.spinnerSize,"px;display:inline-block;margin:5px 11px 0;position:relative;color:",o.l.theme.accent,";overflow:visible;opacity:1;background-color:transparent;"),m={name:"9s4963",styles:"fill:transparent;stroke-width:1.5px"},a=(0,r.A)("circle",{target:"ea4tfvq1"})(m,";stroke:",o.l.gray[300],";"),_=(0,r.A)("path",{target:"ea4tfvq0"})(m,";stroke:currentColor;stroke-linecap:round;transform-origin:50% 50%;animation:1.4s linear infinite both ",s,";");var i=e("../../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),u=e("../../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");function x({className:E,...C},j){return(0,u.jsxs)(v,{className:(0,t.A)("components-spinner",E),viewBox:"0 0 100 100",width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg",role:"presentation",focusable:"false",...C,ref:j,children:[(0,u.jsx)(a,{cx:"50",cy:"50",r:"50",vectorEffect:"non-scaling-stroke"}),(0,u.jsx)(_,{d:"m 50 0 a 50 50 0 0 1 50 50",vectorEffect:"non-scaling-stroke"})]})}const h=(0,i.forwardRef)(x)},"../../../node_modules/.pnpm/@wordpress+compose@7.5.0_react@18.3.1/node_modules/@wordpress/compose/build-module/hooks/use-merge-refs/index.js":(w,l,e)=>{e.d(l,{A:()=>d});var t=e("../../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function r(n,o){typeof n=="function"?n(o):n&&n.hasOwnProperty("current")&&(n.current=o)}function d(n){const o=(0,t.useRef)(),p=(0,t.useRef)(!1),s=(0,t.useRef)(!1),v=(0,t.useRef)([]),m=(0,t.useRef)(n);return m.current=n,(0,t.useLayoutEffect)(()=>{s.current===!1&&p.current===!0&&n.forEach((a,_)=>{const i=v.current[_];a!==i&&(r(i,null),r(a,o.current))}),v.current=n},n),(0,t.useLayoutEffect)(()=>{s.current=!1}),(0,t.useCallback)(a=>{r(o,a),s.current=!0,p.current=a!==null;const _=a?m.current:v.current;for(const i of _)r(i,a)},[])}},"../../../node_modules/.pnpm/@wordpress+icons@10.5.0_react@18.3.1/node_modules/@wordpress/icons/build-module/icon/index.js":(w,l,e)=>{e.d(l,{A:()=>d});var t=e("../../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function r({icon:n,size:o=24,...p},s){return(0,t.cloneElement)(n,{width:o,height:o,...p,ref:s})}const d=(0,t.forwardRef)(r)},"../../packages/videopress/src/client/components/video-frame-selector/index.jsx":(w,l,e)=>{e.d(l,{L:()=>h,A:()=>C});var t=e("../../../node_modules/.pnpm/@wordpress+components@28.5.0_@types+react@18.3.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@wordpress/components/build-module/spinner/index.js"),r=e("../../../node_modules/.pnpm/@wordpress+components@28.5.0_@types+react@18.3.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@wordpress/components/build-module/range-control/index.js"),d=e("../../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),n=e("../../../node_modules/.pnpm/@wordpress+icons@10.5.0_react@18.3.1/node_modules/@wordpress/icons/build-module/icon/index.js"),o=e("../../../node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs"),p=e("../../../node_modules/.pnpm/@wordpress+primitives@4.5.0_react@18.3.1/node_modules/@wordpress/primitives/build-module/svg/index.js"),s=e("../../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const m=(0,s.jsx)(p.t4,{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)(p.wA,{d:"M4.75725 2.075C4.60279 1.97745 4.41041 1.97489 4.25365 2.06832C4.09689 2.16174 4 2.3367 4 2.52632V21.4737C4 21.6633 4.09689 21.8383 4.25365 21.9317C4.41041 22.0251 4.60279 22.0226 4.75725 21.925L19.7573 12.4513C19.9079 12.3562 20 12.1849 20 12C20 11.8151 19.9079 11.6438 19.7573 11.5487L4.75725 2.075Z",fill:"white"})});var a=e("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.94.0_webpack-cli@4.9.1_/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),_=e.n(a),i=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.94.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.94.0_webpack-cli@4.9.1_/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.94.0_webpack-cli@4.9.1_/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/components/video-frame-selector/style.module.scss"),u={};u.insert="head",u.singleton=!1;var x=_()(i.A,u);const c=i.A.locals||{},h=({src:j,setMaxDuration:g=null,currentTime:y})=>{const f=(0,d.useRef)(null),[L,A]=(0,d.useState)(!0);(0,d.useEffect)(()=>{f.current.src=j},[j]),(0,d.useEffect)(()=>{f.current&&Number.isFinite(y)&&(f.current.currentTime=y)},[y]);const b=O=>{const P=O.target.duration;if(g==null||g(P),f.current){const S=Number.isFinite(y)?y:P/2;f.current.currentTime=S}};return(0,s.jsxs)("div",{className:c["video-player-wrapper"],children:[L&&(0,s.jsx)("div",{className:c["video-player-spinner-wrapper"],children:(0,s.jsx)(t.Ay,{className:c.spinner})}),(0,s.jsx)("video",{onLoadedData:()=>A(!1),ref:f,muted:!0,className:c.video,onDurationChange:b})]})},E=({src:j="",onVideoFrameSelected:g,className:y="",initialCurrentTime:f=null})=>{const[L,A]=(0,d.useState)(0),[b,O]=(0,d.useState)(Number.isFinite(f)?f:null),P=S=>{O(S),g==null||g(S*1e3)};return(0,s.jsxs)("div",{className:(0,o.A)(c.container,y),children:[(0,s.jsx)(n.A,{className:c["play-icon"],icon:m}),(0,s.jsx)(h,{src:j,setMaxDuration:A,currentTime:b}),(0,s.jsx)(r.A,{className:c.range,min:0,step:.1,initialPosition:b,max:L,showTooltip:!1,withInputField:!1,onChange:P})]})},C=E;h.__docgenInfo={description:"",methods:[],displayName:"VideoPlayer",props:{setMaxDuration:{defaultValue:{value:"null",computed:!1},required:!1}}},E.__docgenInfo={description:"",methods:[],displayName:"VideoFrameSelector",props:{src:{defaultValue:{value:"''",computed:!1},required:!1},className:{defaultValue:{value:"''",computed:!1},required:!1},initialCurrentTime:{defaultValue:{value:"null",computed:!1},required:!1}}}},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.94.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.94.0_webpack-cli@4.9.1_/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.94.0_webpack-cli@4.9.1_/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/components/video-frame-selector/style.module.scss":(w,l,e)=>{e.d(l,{A:()=>p});var t=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.94.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=e.n(t),d=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.94.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/runtime/api.js"),n=e.n(d),o=n()(r());o.push([w.id,".GJLYOrdLVqPm5uwnCSuS{position:relative;width:100%}.GJLYOrdLVqPm5uwnCSuS:hover .u2u7S4rs0SpVlOKEVTKn{opacity:0}.Iw8dJR9VDiZMtmOgQacs{position:relative}.MaP07CM4JAO8bHyiXbtJ{position:absolute;z-index:0;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center}.tfdjkG_pc3Gk9GOUKv6T{transform:scale(3)}.Qqrk3p9Mq6FY3pqrYRE_{width:100%;-o-object-fit:cover;object-fit:cover;aspect-ratio:16/9;z-index:1;position:relative}.u2u7S4rs0SpVlOKEVTKn{width:130px;height:130px;position:absolute;top:50%;left:50%;margin:-65px 0 0 -65px;opacity:1;transition:opacity .3s ease-out}.y7HVLKw1EgYCzrLXsbzG{margin-top:-19px}.y7HVLKw1EgYCzrLXsbzG .components-range-control__track{height:8px;border-radius:0;background-color:#272526;opacity:.7}.y7HVLKw1EgYCzrLXsbzG .components-range-control__slider{padding-bottom:0}.y7HVLKw1EgYCzrLXsbzG .components-base-control__field{margin-bottom:0}.y7HVLKw1EgYCzrLXsbzG .components-range-control__wrapper span:first-of-type{height:8px;border-radius:0;opacity:.8;background-color:#d9d9d9}.y7HVLKw1EgYCzrLXsbzG .components-range-control__wrapper span:last-of-type{display:none}",""]),o.locals={container:"GJLYOrdLVqPm5uwnCSuS","play-icon":"u2u7S4rs0SpVlOKEVTKn","video-player-wrapper":"Iw8dJR9VDiZMtmOgQacs","video-player-spinner-wrapper":"MaP07CM4JAO8bHyiXbtJ",spinner:"tfdjkG_pc3Gk9GOUKv6T",video:"Qqrk3p9Mq6FY3pqrYRE_",range:"y7HVLKw1EgYCzrLXsbzG"};const p=o}}]);})();
