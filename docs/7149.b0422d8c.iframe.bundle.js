"use strict";(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[7149],{"../../../node_modules/.pnpm/@wordpress+components@27.0.0_@types+react@18.2.55_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/popover/index.js":(At,ve,r)=>{r.d(ve,{ZP:()=>tt});var e=r("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),ge=r("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),he=r.n(ge),ye=r("../../../node_modules/.pnpm/@floating-ui+core@1.6.0/node_modules/@floating-ui/core/dist/floating-ui.core.mjs"),h=r("../../../node_modules/.pnpm/@floating-ui+dom@1.6.3/node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs"),D=r("../../../node_modules/.pnpm/@floating-ui+react-dom@2.0.8_react-dom@18.2.0_react@18.2.0/node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs"),Se=r("../../../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.2.0_react@18.2.0/node_modules/framer-motion/dist/es/utils/reduced-motion/use-reduced-motion.mjs"),Ee=r("../../../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.2.0_react@18.2.0/node_modules/framer-motion/dist/es/render/dom/motion.mjs"),k=r("../../../node_modules/.pnpm/react-dom@18.2.0_react@18.2.0/node_modules/react-dom/index.js"),xe=r("../../../node_modules/.pnpm/@wordpress+compose@6.29.0_react@18.2.0/node_modules/@wordpress/compose/build-module/hooks/use-viewport-match/index.js"),be=r("../../../node_modules/.pnpm/@wordpress+compose@6.29.0_react@18.2.0/node_modules/@wordpress/compose/build-module/hooks/use-dialog/index.js"),B=r("../../../node_modules/.pnpm/@wordpress+compose@6.29.0_react@18.2.0/node_modules/@wordpress/compose/build-module/hooks/use-merge-refs/index.js"),_e=r("../../../node_modules/.pnpm/@wordpress+icons@9.43.0_react@18.2.0/node_modules/@wordpress/icons/build-module/library/close.js"),E=r("../../../node_modules/.pnpm/@wordpress+deprecated@3.52.0/node_modules/@wordpress/deprecated/build-module/index.js"),P=r("../../../node_modules/.pnpm/@wordpress+primitives@3.50.0/node_modules/@wordpress/primitives/build-module/svg/index.js"),Fe=r("../../../node_modules/.pnpm/@wordpress+components@27.0.0_@types+react@18.2.55_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/button/index.js");let O=0;function z(t){const o=document.scrollingElement||document.body;t&&(O=o.scrollTop);const n=t?"add":"remove";o.classList[n]("lockscroll"),document.documentElement.classList[n]("lockscroll"),t||(o.scrollTop=O)}let b=0;function Ce(){return(0,e.useEffect)(()=>(b===0&&z(!0),++b,()=>{b===1&&z(!1),--b}),[]),null}const we=Ce;var Pe=r("../../../node_modules/.pnpm/valtio@1.7.0_react@18.2.0/node_modules/valtio/esm/index.js"),I=r("../../../node_modules/.pnpm/valtio@1.7.0_react@18.2.0/node_modules/valtio/esm/utils.js"),je=r("../../../node_modules/.pnpm/@wordpress+warning@2.52.0/node_modules/@wordpress/warning/build-module/index.js");const Re={slots:(0,I.Yr)(),fills:(0,I.Yr)(),registerSlot:()=>{typeof SCRIPT_DEBUG!="undefined"&&SCRIPT_DEBUG===!0&&(0,je.Z)("Components must be wrapped within `SlotFillProvider`. See https://developer.wordpress.org/block-editor/components/slot-fill/")},updateSlot:()=>{},unregisterSlot:()=>{},registerFill:()=>{},unregisterFill:()=>{},isDefault:!0},K=(0,e.createContext)(Re);function W(t){const o=(0,e.useContext)(K),s=(0,Pe.RK)(o.slots,{sync:!0}).get(t),i=(0,e.useMemo)(()=>({updateSlot:l=>o.updateSlot(t,l),unregisterSlot:l=>o.unregisterSlot(t,l),registerFill:l=>o.registerFill(t,l),unregisterFill:l=>o.unregisterFill(t,l)}),[t,o]);return{...s,...i}}const Ne={registerSlot:()=>{},unregisterSlot:()=>{},registerFill:()=>{},unregisterFill:()=>{},getSlot:()=>{},getFills:()=>[],subscribe:()=>()=>{}},j=(0,e.createContext)(Ne),Me=t=>{const{getSlot:o,subscribe:n}=(0,e.useContext)(j);return(0,e.useSyncExternalStore)(n,()=>o(t),()=>o(t))};function Le({name:t,children:o}){const{registerFill:n,unregisterFill:s}=(0,e.useContext)(j),i=Me(t),l=(0,e.useRef)({name:t,children:o});return(0,e.useLayoutEffect)(()=>{const d=l.current;return n(t,d),()=>s(t,d)},[]),(0,e.useLayoutEffect)(()=>{l.current.children=o,i&&i.forceUpdate()},[o]),(0,e.useLayoutEffect)(()=>{t!==l.current.name&&(s(l.current.name,l.current),l.current.name=t,n(t,l.current))},[t]),null}var Ze=r("../../../node_modules/.pnpm/@wordpress+element@5.29.0/node_modules/@wordpress/element/build-module/utils.js");function H(t){return typeof t=="function"}class $e extends e.Component{constructor(o){super(o),this.isUnmounted=!1}componentDidMount(){const{registerSlot:o}=this.props;this.isUnmounted=!1,o(this.props.name,this)}componentWillUnmount(){const{unregisterSlot:o}=this.props;this.isUnmounted=!0,o(this.props.name,this)}componentDidUpdate(o){const{name:n,unregisterSlot:s,registerSlot:i}=this.props;o.name!==n&&(s(o.name,this),i(n,this))}forceUpdate(){this.isUnmounted||super.forceUpdate()}render(){var o;const{children:n,name:s,fillProps:i={},getFills:l}=this.props,d=((o=l(s,this))!==null&&o!==void 0?o:[]).map(u=>{const f=H(u.children)?u.children(i):u.children;return e.Children.map(f,(c,v)=>{if(!c||typeof c=="string")return c;let _=v;return typeof c=="object"&&"key"in c&&(c!=null&&c.key)&&(_=c.key),(0,e.cloneElement)(c,{key:_})})}).filter(u=>!(0,Ze.V)(u));return(0,e.createElement)(e.Fragment,null,H(n)?n(d):d)}}const Ue=t=>(0,e.createElement)(j.Consumer,null,({registerSlot:o,unregisterSlot:n,getFills:s})=>(0,e.createElement)($e,{...t,registerSlot:o,unregisterSlot:n,getFills:s}));var Ae=r("../../../node_modules/.pnpm/@emotion+react@11.11.3_@types+react@18.2.55_react@18.2.0/node_modules/@emotion/react/dist/emotion-element-c39617d8.browser.esm.js"),Te=r("../../../node_modules/.pnpm/@emotion+cache@11.11.0/node_modules/@emotion/cache/dist/emotion-cache.browser.esm.js"),Y=r("../../../node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/v4.js");const G=new Set,R=new WeakMap,Ve=t=>{if(R.has(t))return R.get(t);let o=Y.Z().replace(/[0-9]/g,"");for(;G.has(o);)o=Y.Z().replace(/[0-9]/g,"");G.add(o);const n=(0,Te.Z)({container:t,key:o});return R.set(t,n),n};function J(t){const{children:o,document:n}=t;if(!n)return null;const s=Ve(n.head);return(0,e.createElement)(Ae.C,{value:s},o)}const De=J;function ke(){const[,t]=(0,e.useState)({}),o=(0,e.useRef)(!0);return(0,e.useEffect)(()=>(o.current=!0,()=>{o.current=!1}),[]),()=>{o.current&&t({})}}function Be(t){var o;const{name:n,children:s}=t,{registerFill:i,unregisterFill:l,...d}=W(n),u=ke(),f=(0,e.useRef)({rerender:u});if((0,e.useEffect)(()=>(i(f),()=>{l(f)}),[i,l]),!d.ref||!d.ref.current)return null;const c=(0,e.createElement)(De,{document:d.ref.current.ownerDocument},typeof s=="function"?s((o=d.fillProps)!==null&&o!==void 0?o:{}):s);return(0,k.createPortal)(c,d.ref.current)}var Oe=r("../../../node_modules/.pnpm/@wordpress+components@27.0.0_@types+react@18.2.55_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/view/component.js");function ze(t,o){const{name:n,fillProps:s={},as:i,children:l,...d}=t,{registerSlot:u,unregisterSlot:f,...c}=(0,e.useContext)(K),v=(0,e.useRef)(null);return(0,e.useLayoutEffect)(()=>(u(n,v,s),()=>{f(n,v)}),[u,f,n]),(0,e.useLayoutEffect)(()=>{c.updateSlot(n,s)}),(0,e.createElement)(Oe.Z,{as:i,ref:(0,B.Z)([o,v]),...d})}const Ie=(0,e.forwardRef)(ze);function Q(t){return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Le,{...t}),(0,e.createElement)(Be,{...t}))}function Ke(t,o){const{bubblesVirtually:n,...s}=t;return n?(0,e.createElement)(Ie,{...s,ref:o}):(0,e.createElement)(Ue,{...s})}const X=(0,e.forwardRef)(Ke);function Bt({children:t,passthrough:o=!1}){return!useContext(SlotFillContext).isDefault&&o?createElement(Fragment,null,t):createElement(SlotFillProvider,null,createElement(BubblesVirtuallySlotFillProvider,null,t))}function We(t){const o=typeof t=="symbol"?t.description:t,n=i=>createElement(Q,{name:t,...i});n.displayName=`${o}Fill`;const s=i=>createElement(X,{name:t,...i});return s.displayName=`${o}Slot`,s.__unstableName=t,{Fill:n,Slot:s}}const Ot=t=>{const o=Symbol(t),n=We(o);return{privateKey:o,...n}};var x=r("../../../node_modules/.pnpm/@wordpress+components@27.0.0_@types+react@18.2.55_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/popover/utils.js"),He=r("../../../node_modules/.pnpm/@wordpress+components@27.0.0_@types+react@18.2.55_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/context/use-context-system.js"),Ye=r("../../../node_modules/.pnpm/@wordpress+components@27.0.0_@types+react@18.2.55_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/context/context-system-provider.js"),Ge=r("../../../node_modules/.pnpm/@wordpress+components@27.0.0_@types+react@18.2.55_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/context/context-connect.js");function Je(){return[{name:"overlay",fn({rects:t}){return t.reference}},(0,h.dp)({apply({rects:t,elements:o}){var n;const{firstElementChild:s}=(n=o.floating)!==null&&n!==void 0?n:{};s instanceof HTMLElement&&Object.assign(s.style,{width:`${t.reference.width}px`,height:`${t.reference.height}px`})}})]}const q="Popover",Qe=()=>(0,e.createElement)(P.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",className:"components-popover__triangle",role:"presentation"},(0,e.createElement)(P.y$,{className:"components-popover__triangle-bg",d:"M 0 0 L 50 50 L 100 0"}),(0,e.createElement)(P.y$,{className:"components-popover__triangle-border",d:"M 0 0 L 50 50 L 100 0",vectorEffect:"non-scaling-stroke"})),ee=(0,e.createContext)(void 0),te="components-popover__fallback-container",Xe=()=>{let t=document.body.querySelector("."+te);return t||(t=document.createElement("div"),t.className=te,document.body.append(t)),t},qe=(t,o)=>{const{animate:n=!0,headerTitle:s,constrainTabbing:i,onClose:l,children:d,className:u,noArrow:f=!0,position:c,placement:v="bottom-start",offset:_=0,focusOnMount:ot="firstElement",anchor:M,expandOnMobile:nt,onFocusOutside:L,__unstableSlotName:st=q,flip:rt=!0,resize:lt=!0,shift:it=!1,inline:oe=!1,variant:ct,__unstableForcePosition:Z,anchorRef:a,anchorRect:F,getAnchorRect:$,isAlternate:ne,...at}=(0,He.y)(t,"Popover");let se=rt,re=lt;Z!==void 0&&((0,E.Z)("`__unstableForcePosition` prop in wp.components.Popover",{since:"6.1",version:"6.3",alternative:"`flip={ false }` and  `resize={ false }`"}),se=!Z,re=!Z),a!==void 0&&(0,E.Z)("`anchorRef` prop in wp.components.Popover",{since:"6.1",alternative:"`anchor` prop"}),F!==void 0&&(0,E.Z)("`anchorRect` prop in wp.components.Popover",{since:"6.1",alternative:"`anchor` prop"}),$!==void 0&&(0,E.Z)("`getAnchorRect` prop in wp.components.Popover",{since:"6.1",alternative:"`anchor` prop"});const U=ne?"toolbar":ct;ne!==void 0&&(0,E.Z)("`isAlternate` prop in wp.components.Popover",{since:"6.2",alternative:"`variant` prop with the `'toolbar'` value"});const le=(0,e.useRef)(null),[ie,dt]=(0,e.useState)(null),ut=(0,e.useCallback)(m=>{dt(m)},[]),mt=(0,xe.Z)("medium","<"),y=nt&&mt,pt=!y&&!f,ce=c?(0,x.KF)(c):v,ft=[...v==="overlay"?Je():[],(0,ye.cv)(_),se&&(0,h.RR)(),re&&(0,h.dp)({apply(m){var g;const{firstElementChild:w}=(g=C.floating.current)!==null&&g!==void 0?g:{};w instanceof HTMLElement&&Object.assign(w.style,{maxHeight:`${m.availableHeight}px`,overflow:"auto"})}}),it&&(0,h.uY)({crossAxis:!0,limiter:(0,h.dr)(),padding:1}),(0,D.x7)({element:le})],ae=(0,e.useContext)(ee)||st,vt=W(ae);let A;(l||L)&&(A=(m,g)=>{m==="focus-outside"&&L?L(g):l&&l()});const[gt,ht]=(0,be.Z)({constrainTabbing:i,focusOnMount:ot,__unstableOnClose:A,onClose:A}),{x:de,y:ue,refs:C,strategy:yt,update:me,placement:T,middlewareData:{arrow:p}}=(0,D.YF)({placement:ce==="overlay"?void 0:ce,middleware:ft,whileElementsMounted:(m,g,w)=>(0,h.Me)(m,g,w,{layoutShift:!1,animationFrame:!0})}),St=(0,e.useCallback)(m=>{le.current=m,me()},[me]),Et=a==null?void 0:a.top,xt=a==null?void 0:a.bottom,bt=a==null?void 0:a.startContainer,_t=a==null?void 0:a.current;(0,e.useLayoutEffect)(()=>{const m=(0,x.CK)({anchor:M,anchorRef:a,anchorRect:F,getAnchorRect:$,fallbackReferenceElement:ie});C.setReference(m)},[M,a,Et,xt,bt,_t,F,$,ie,C]);const Ft=(0,B.Z)([C.setFloating,gt,o]),pe=y?void 0:{position:yt,top:0,left:0,x:(0,x.sw)(de),y:(0,x.sw)(ue)},Ct=(0,Se.J)(),fe=n&&!y&&!Ct,[wt,Pt]=(0,e.useState)(!1),{style:jt,...Rt}=(0,e.useMemo)(()=>(0,x.d9)(T),[T]),Nt=fe?{style:{...jt,...pe},onAnimationComplete:()=>Pt(!0),...Rt}:{animate:!1,style:pe},Mt=(!fe||wt)&&de!==null&&ue!==null,[Lt,V]=(0,e.useState)(!1),Zt=(0,e.useMemo)(()=>({ColorPicker:{onPickerDragStart(){V(!0)},onPickerDragEnd(){V(!1)}}}),[]);let S=(0,e.createElement)(e.Fragment,null,Lt&&(0,e.createElement)("div",{className:"components-popover-pointer-events-trap","aria-hidden":"true",onClick:()=>V(!1)}),(0,e.createElement)(Ee.E.div,{className:he()("components-popover",u,{"is-expanded":y,"is-positioned":Mt,[`is-${U==="toolbar"?"alternate":U}`]:U}),...Nt,...at,ref:Ft,...ht,tabIndex:-1},y&&(0,e.createElement)(we,null),y&&(0,e.createElement)("div",{className:"components-popover__header"},(0,e.createElement)("span",{className:"components-popover__header-title"},s),(0,e.createElement)(Fe.ZP,{className:"components-popover__close",icon:_e.Z,onClick:l})),(0,e.createElement)("div",{className:"components-popover__content"},(0,e.createElement)(Ye.G8,{value:Zt},d)),pt&&(0,e.createElement)("div",{ref:St,className:["components-popover__arrow",`is-${T.split("-")[0]}`].join(" "),style:{left:typeof(p==null?void 0:p.x)!="undefined"&&Number.isFinite(p.x)?`${p.x}px`:"",top:typeof(p==null?void 0:p.y)!="undefined"&&Number.isFinite(p.y)?`${p.y}px`:""}},(0,e.createElement)(Qe,null))));const $t=vt.ref&&!oe,Ut=a||F||M;return $t?S=(0,e.createElement)(Q,{name:ae},S):oe||(S=(0,k.createPortal)((0,e.createElement)(J,{document},S),Xe())),Ut?S:(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",{ref:ut}),S)},N=(0,Ge.Iq)(qe,"Popover");function et({name:t=q},o){return(0,e.createElement)(X,{bubblesVirtually:!0,name:t,className:"popover-slot",ref:o})}N.Slot=(0,e.forwardRef)(et),N.__unstableSlotNameProvider=ee.Provider;const tt=N}}]);})();
