(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[1119],{"../../packages/videopress/src/client/admin/components/video-storage-meter/stories/index.stories.tsx":(b,p,s)=>{var n,i,m;"use strict";s.r(p),s.d(p,{__namedExportsOrder:()=>d,_default:()=>e,default:()=>l});var _=s("../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx"),u=s("../../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const l={title:"Packages/VideoPress/Video Storage Meter",component:_.Z},e=(c=>(0,u.jsx)(_.Z,{...c})).bind({});e.args={total:1024*1024*1024*1024,used:1024*1024*1024*1024/2},e.parameters={...e.parameters,docs:{...(n=e.parameters)==null?void 0:n.docs,source:{originalSource:"args => <VideoStorageMeter {...args} />",...(m=(i=e.parameters)==null?void 0:i.docs)==null?void 0:m.source}}};const d=["_default"]},"../../../node_modules/.pnpm/@wordpress+deprecated@4.2.0/node_modules/@wordpress/deprecated/build-module/index.js":(b,p,s)=>{"use strict";s.d(p,{Z:()=>l});var _=s("../../../node_modules/.pnpm/@wordpress+hooks@4.2.0/node_modules/@wordpress/hooks/build-module/index.js");const u=Object.create(null);function l(o,e={}){const{since:d,version:n,alternative:i,plugin:m,link:c,hint:j}=e,O=m?` from ${m}`:"",S=d?` since version ${d}`:"",v=n?` and will be removed${O} in version ${n}`:"",E=i?` Please use ${i} instead.`:"",P=c?` See: ${c}`:"",h=j?` Note: ${j}`:"",g=`${o} is deprecated${S}${v}.${E}${P}${h}`;g in u||((0,_.Kw)("deprecated",o,e,g),console.warn(g),u[g]=!0)}},"../../packages/videopress/src/client/admin/hooks/use-videos/index.js":(b,p,s)=>{"use strict";var _=s("../../packages/videopress/src/client/state/constants.js");function u(){const e=useSelect(a=>a(STORE_ID).getVideos()),d=useSelect(a=>a(STORE_ID).getUploadingVideos()),n=d.length>0,i="",m=useSelect(a=>a(STORE_ID).getUploadedVideoCount()),c=useSelect(a=>a(STORE_ID).getIsFetching()),j=useSelect(a=>a(STORE_ID).getIsFetchingUploadedVideoCount()),O=useSelect(a=>a(STORE_ID).getFirstUploadedVideoId()),S=useSelect(a=>a(STORE_ID).getFirstVideoProcessed()),v=useSelect(a=>a(STORE_ID).getDismissedFirstVideoPopover()),E=useSelect(a=>a(STORE_ID).getVideosQuery()||{}),P=useSelect(a=>a(STORE_ID).getPagination()),h=useSelect(a=>a(STORE_ID).getStorageUsed(),[]),g=useSelect(a=>a(STORE_ID).getVideosFilter()),x=useSelect(a=>a(STORE_ID).getUploadErrorVideos());return{items:e,uploading:d,isUploading:n,search:i,filter:g,uploadedVideoCount:m,isFetching:c,isFetchingUploadedVideoCount:j,firstUploadedVideoId:O,firstVideoProcessed:S,dismissedFirstVideoPopover:v,...E,...P,...h,uploadErrors:x,setPage:a=>dispatch(STORE_ID).setVideosQuery({page:a}),setSearch:a=>dispatch(STORE_ID).setVideosQuery({search:a}),setFilter:dispatch(STORE_ID).setVideosFilter}}const l=()=>{const e=useSelect(c=>c(STORE_ID).getLocalVideos()),d=useSelect(c=>c(STORE_ID).getUploadedLocalVideoCount()),n=useSelect(c=>c(STORE_ID).getIsFetchingLocalVideos()),i=useSelect(c=>c(STORE_ID).getLocalVideosQuery()||{}),m=useSelect(c=>c(STORE_ID).getLocalPagination());return{items:e,uploadedLocalVideoCount:d,isFetching:n,...i,...m,setPage:c=>dispatch(STORE_ID).setLocalVideosQuery({page:c})}},o=()=>useSelect(d=>d(STORE_ID).getVideosQuery()||{})},"../components/components/progress-bar/index.tsx":(b,p,s)=>{"use strict";s.d(p,{Z:()=>c});var _=s("../../../node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs"),u=s("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),l=s.n(u),o=s("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/sass-loader/dist/cjs.js!../components/components/progress-bar/style.module.scss"),e={};e.insert="head",e.singleton=!1;var d=l()(o.Z,e);const n=o.Z.locals||{};var i=s("../../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const c=({className:j,progressClassName:O,progress:S,size:v="normal"})=>{if(S==null)return null;const P={width:`${Math.max(Math.min(S,1),0)*100}%`};return(0,i.jsx)("div",{className:(0,_.Z)(j,n.wrapper,{[n.small]:v==="small"}),children:(0,i.jsx)("div",{className:(0,_.Z)(O,n.progress),style:P})})}},"../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx":(b,p,s)=>{"use strict";s.d(p,{Z:()=>M});var _=s("../components/components/text/index.tsx"),u=s("../components/components/progress-bar/index.tsx"),l=s("../../../node_modules/.pnpm/@wordpress+i18n@5.2.0/node_modules/@wordpress/i18n/build-module/index.js"),o=s("../../../node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs"),e=s("../../../node_modules/.pnpm/filesize@8.0.6/node_modules/filesize/lib/filesize.min.js"),d=s.n(e),n=s("../../packages/videopress/src/client/state/index.js");const{paidFeatures:i={},siteProductData:m={},productData:c={},productPrice:j={}}=window&&window.jetpackVideoPressInitialState?window.jetpackVideoPressInitialState:{},O=()=>{const r=mapObjectKeysToCamel(m.pricing_for_ui,!0),t=mapObjectKeysToCamel(c.introductory_offer,!0),y={...mapObjectKeysToCamel(c,!0),introductoryOffer:t},{purchases:f,isFetchingPurchases:T}=useSelect(k=>({purchases:k(STORE_ID).getPurchases(),isFetchingPurchases:k(STORE_ID).isFetchingPurchases()}),[]),w=f.map(k=>mapObjectKeysToCamel(k,!0));function I(k){return w.some(L=>L.productSlug===k)}const B=["jetpack_videopress_bi_yearly","jetpack_videopress","jetpack_videopress_monthly","jetpack_complete_bi_yearly","jetpack_complete","jetpack_complete_monthly","jetpack_business","jetpack_business_monthly","jetpack_personal","jetpack_personal_monthly","jetpack_premium","jetpack_premium_monthly","videopress","videopress-pro","wp_p2_plus_monthly","bundle_pro","value_bundle","value_bundle_monthly","value_bundle-2y","value_bundle-3y","pro-plan","pro-plan-monthly","pro-plan-2y","business-bundle","business-bundle-monthly","business-bundle-2y","business-bundle-3y","wp_com_hundred_year_bundle_centennially","wp_bundle_migration_trial_monthly","wp_bundle_hosting_trial_monthly","ecommerce-bundle","ecommerce-bundle-monthly","ecommerce-bundle-2y","ecommerce-bundle-3y","ecommerce-trial-bundle-monthly","wooexpress-small-bundle-yearly","wooexpress-small-bundle-monthly","wooexpress-medium-bundle-yearly","wooexpress-medium-bundle-monthly"].some(k=>I(k));return{features:i,siteProduct:{...mapObjectKeysToCamel({...m},!0),pricingForUi:r},product:y,productPrice:j,purchases:w,hasVideoPressPurchase:B,isFetchingPurchases:T}};var S=s("../../packages/videopress/src/client/admin/hooks/use-videopress-settings/index.ts"),v=s("../../packages/videopress/src/client/admin/hooks/use-videos/index.js"),E=s("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),P=s.n(E),h=s("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/admin/components/video-storage-meter/style.module.scss"),g={};g.insert="head",g.singleton=!1;var x=P()(h.Z,g);const a=h.Z.locals||{};var D=s("../../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const C=l.__,R=({className:r,progressBarClassName:t,total:y,used:f})=>{if(!y||f==null)return null;const T=f/y,w=`${(T*100).toFixed()}%`,I=d()(y,{base:10});return(0,D.jsxs)("div",{className:(0,o.Z)(r),children:[(0,D.jsx)(_.ZP,{className:(0,o.Z)(a["percentage-description"]),children:(0,l.gB)(C("%1$s of %2$s of cloud video storage","jetpack-videopress-pkg"),w,I)}),(0,D.jsx)(u.Z,{className:(0,o.Z)(a["progress-bar"],t),progress:T})]})},V=r=>{const{storageUsed:t,uploadedVideoCount:y}=useVideos(),{features:f}=usePlan(),{settings:T}=useVideoPressSettings(),{siteType:w}=T,I=1e3*1e3*1e3*1e3;return w===SITE_TYPE_ATOMIC||f!=null&&f.isVideoPressUnlimitedSupported||!y?null:t?_jsx(R,{...r,used:t,total:I}):_jsx(R,{...r,used:0,total:1})},M=R;try{V.displayName="ConnectVideoStorageMeter",V.__docgenInfo={description:"",displayName:"ConnectVideoStorageMeter",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx#ConnectVideoStorageMeter"]={docgenInfo:V.__docgenInfo,name:"ConnectVideoStorageMeter",path:"../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx#ConnectVideoStorageMeter"})}catch(r){}},"../../packages/videopress/src/client/admin/hooks/use-videopress-settings/index.ts":(b,p,s)=>{"use strict";var _=s("../../packages/videopress/src/client/state/index.js");const u=()=>{var e,d,n;const l=useDispatch(STORE_ID),o=useSelect(i=>i(STORE_ID).getVideoPressSettings(),[]);return{settings:{videoPressVideosPrivateForSite:(e=o==null?void 0:o.videoPressVideosPrivateForSite)!=null?e:!1,siteIsPrivate:(d=o==null?void 0:o.siteIsPrivate)!=null?d:!1,siteType:(n=o==null?void 0:o.siteType)!=null?n:SITE_TYPE_JETPACK},onUpdate:i=>l.updateVideoPressSettings(i)}}},"../../../node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs":(b,p,s)=>{"use strict";s.d(p,{Z:()=>l});function _(o){var e,d,n="";if(typeof o=="string"||typeof o=="number")n+=o;else if(typeof o=="object")if(Array.isArray(o)){var i=o.length;for(e=0;e<i;e++)o[e]&&(d=_(o[e]))&&(n&&(n+=" "),n+=d)}else for(d in o)o[d]&&(n&&(n+=" "),n+=d);return n}function u(){for(var o,e,d=0,n="",i=arguments.length;d<i;d++)(o=arguments[d])&&(e=_(o))&&(n&&(n+=" "),n+=e);return n}const l=u},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/sass-loader/dist/cjs.js!../components/components/progress-bar/style.module.scss":(b,p,s)=>{"use strict";s.d(p,{Z:()=>d});var _=s("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/runtime/noSourceMaps.js"),u=s.n(_),l=s("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/runtime/api.js"),o=s.n(l),e=o()(u());e.push([b.id,".W4NUeZAGw0aXojyLmjzP{width:100%;height:12px;background-color:var(--jp-gray-5);border-radius:calc(var(--spacing-base)*3);overflow:hidden}.W4NUeZAGw0aXojyLmjzP.aCtQACi6JDw6tIP5cLu1{height:3px}.W4NUeZAGw0aXojyLmjzP .kaV9vllufIW5_MQslIfu{height:100%;border-radius:calc(var(--spacing-base)*3);background-color:var(--jp-black);min-width:12px}",""]),e.locals={wrapper:"W4NUeZAGw0aXojyLmjzP",small:"aCtQACi6JDw6tIP5cLu1",progress:"kaV9vllufIW5_MQslIfu"};const d=e},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/admin/components/video-storage-meter/style.module.scss":(b,p,s)=>{"use strict";s.d(p,{Z:()=>d});var _=s("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/runtime/noSourceMaps.js"),u=s.n(_),l=s("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0_webpack-cli@4.9.1_/node_modules/css-loader/dist/runtime/api.js"),o=s.n(l),e=o()(u());e.push([b.id,".J0cboZTh2LMTitQ_wbbw{color:var(--jp-gray-80);margin-bottom:calc(var(--spacing-base)*2)}.uC0NRkCYRpEEddC3UOuf{margin-top:calc(var(--spacing-base)*2)}",""]),e.locals={"percentage-description":"J0cboZTh2LMTitQ_wbbw","progress-bar":"uC0NRkCYRpEEddC3UOuf"};const d=e},"../../../node_modules/.pnpm/filesize@8.0.6/node_modules/filesize/lib/filesize.min.js":function(b){/*!
 2021 Jason Mulligan <jason.mulligan@avoidwork.com>
 @version 8.0.6
*/(function(p,s){b.exports=s()})(this,function(){"use strict";var p=/^(b|B)$/,s={iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},_={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]},u={floor:Math.floor,ceil:Math.ceil};function l(o){var e,d,n,i,m,c,j,O,S,v,E,P,h,g,x,a,D,C,R,V,M,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],y=0;if(isNaN(o))throw new TypeError("Invalid number");if(n=r.bits===!0,x=r.unix===!0,P=r.pad===!0,d=r.base||10,h=r.round!==void 0?r.round:x?1:2,j=r.locale!==void 0?r.locale:"",O=r.localeOptions||{},a=r.separator!==void 0?r.separator:"",D=r.spacer!==void 0?r.spacer:x?"":" ",R=r.symbols||{},C=d===2?r.standard||"iec":"jedec",E=r.output||"string",m=r.fullform===!0,c=r.fullforms instanceof Array?r.fullforms:[],e=r.exponent!==void 0?r.exponent:-1,V=u[r.roundingMethod]||Math.round,S=(v=Number(o))<0,i=d>2?1e3:1024,M=isNaN(r.precision)===!1?parseInt(r.precision,10):0,S&&(v=-v),(e===-1||isNaN(e))&&(e=Math.floor(Math.log(v)/Math.log(i)))<0&&(e=0),e>8&&(M>0&&(M+=8-e),e=8),E==="exponent")return e;if(v===0)t[0]=0,g=t[1]=x?"":s[C][n?"bits":"bytes"][e];else{y=v/(d===2?Math.pow(2,10*e):Math.pow(1e3,e)),n&&(y*=8)>=i&&e<8&&(y/=i,e++);var f=Math.pow(10,e>0?h:0);t[0]=V(y*f)/f,t[0]===i&&e<8&&r.exponent===void 0&&(t[0]=1,e++),g=t[1]=d===10&&e===1?n?"kbit":"kB":s[C][n?"bits":"bytes"][e],x&&(t[1]=t[1].charAt(0),p.test(t[1])&&(t[0]=Math.floor(t[0]),t[1]=""))}if(S&&(t[0]=-t[0]),M>0&&(t[0]=t[0].toPrecision(M)),t[1]=R[t[1]]||t[1],j===!0?t[0]=t[0].toLocaleString():j.length>0?t[0]=t[0].toLocaleString(j,O):a.length>0&&(t[0]=t[0].toString().replace(".",a)),P&&Number.isInteger(t[0])===!1&&h>0){var T=a||".",w=t[0].toString().split(T),I=w[1]||"",B=I.length,k=h-B;t[0]="".concat(w[0]).concat(T).concat(I.padEnd(B+k,"0"))}return m&&(t[1]=c[e]?c[e]:_[C][e]+(n?"bit":"byte")+(t[0]===1?"":"s")),E==="array"?t:E==="object"?{value:t[0],symbol:t[1],exponent:e,unit:g}:t.join(D)}return l.partial=function(o){return function(e){return l(e,o)}},l})},"../../../node_modules/.pnpm/is-plain-object@5.0.0/node_modules/is-plain-object/dist/is-plain-object.mjs":(b,p,s)=>{"use strict";s.d(p,{P:()=>u});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function _(l){return Object.prototype.toString.call(l)==="[object Object]"}function u(l){var o,e;return _(l)===!1?!1:(o=l.constructor,o===void 0?!0:(e=o.prototype,!(_(e)===!1||e.hasOwnProperty("isPrototypeOf")===!1)))}}}]);})();
