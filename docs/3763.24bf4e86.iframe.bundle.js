"use strict";(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[3763],{"../../../node_modules/.pnpm/@wordpress+api-fetch@6.40.0/node_modules/@wordpress/api-fetch/build-module/index.js":(P,g,i)=>{i.d(g,{Z:()=>T});var f=i("../../../node_modules/.pnpm/@wordpress+i18n@4.43.0/node_modules/@wordpress/i18n/build-module/index.js");function y(e){const r=(t,n)=>{const{headers:d={}}=t;for(const a in d)if(a.toLowerCase()==="x-wp-nonce"&&d[a]===r.nonce)return n(t);return n({...t,headers:{...d,"X-WP-Nonce":r.nonce}})};return r.nonce=e,r}const h=y,s=(e,r)=>{let t=e.path,n,d;return typeof e.namespace=="string"&&typeof e.endpoint=="string"&&(n=e.namespace.replace(/^\/|\/$/g,""),d=e.endpoint.replace(/^\//,""),d?t=n+"/"+d:t=n),delete e.namespace,delete e.endpoint,r({...e,path:t})},o=e=>(r,t)=>s(r,n=>{let d=n.url,a=n.path,u;return typeof a=="string"&&(u=e,e.indexOf("?")!==-1&&(a=a.replace("?","&")),a=a.replace(/^\//,""),typeof u=="string"&&u.indexOf("?")!==-1&&(a=a.replace("?","&")),d=u+a),t({...n,url:d})});function b(e){const r=e.split("?"),t=r[1],n=r[0];return t?n+"?"+t.split("&").map(d=>d.split("=")).map(d=>d.map(decodeURIComponent)).sort((d,a)=>d[0].localeCompare(a[0])).map(d=>d.map(encodeURIComponent)).map(d=>d.join("=")).join("&"):n}var E=i("../../../node_modules/.pnpm/@wordpress+url@3.44.0/node_modules/@wordpress/url/build-module/get-query-args.js"),l=i("../../../node_modules/.pnpm/@wordpress+url@3.44.0/node_modules/@wordpress/url/build-module/add-query-args.js");function c(e){const r=Object.fromEntries(Object.entries(e).map(([t,n])=>[b(t),n]));return(t,n)=>{const{parse:d=!0}=t;let a=t.path;if(!a&&t.url){const{rest_route:M,...O}=(0,E.w)(t.url);typeof M=="string"&&(a=(0,l.f)(M,O))}if(typeof a!="string")return n(t);const u=t.method||"GET",m=b(a);if(u==="GET"&&r[m]){const M=r[m];return delete r[m],j(M,!!d)}else if(u==="OPTIONS"&&r[u]&&r[u][m]){const M=r[u][m];return delete r[u][m],j(M,!!d)}return n(t)}}function j(e,r){return Promise.resolve(r?e.body:new window.Response(JSON.stringify(e.body),{status:200,statusText:"OK",headers:e.headers}))}const S=c,q=({path:e,url:r,...t},n)=>({...t,url:r&&(0,l.f)(r,n),path:e&&(0,l.f)(e,n)}),U=e=>e.json?e.json():Promise.reject(e),L=e=>{if(!e)return{};const r=e.match(/<([^>]+)>; rel="next"/);return r?{next:r[1]}:{}},x=e=>{const{next:r}=L(e.headers.get("link"));return r},H=e=>{const r=!!e.path&&e.path.indexOf("per_page=-1")!==-1,t=!!e.url&&e.url.indexOf("per_page=-1")!==-1;return r||t},k=async(e,r)=>{if(e.parse===!1||!H(e))return r(e);const t=await T({...q(e,{per_page:100}),parse:!1}),n=await U(t);if(!Array.isArray(n))return n;let d=x(t);if(!d)return n;let a=[].concat(n);for(;d;){const u=await T({...e,path:void 0,url:d,parse:!1}),m=await U(u);a=a.concat(m),d=x(u)}return a},F=new Set(["PATCH","PUT","DELETE"]),Q="GET",J=(e,r)=>{const{method:t=Q}=e;return F.has(t.toUpperCase())&&(e={...e,headers:{...e.headers,"X-HTTP-Method-Override":t,"Content-Type":"application/json"},method:"POST"}),r(e)};function $(e,r){return(0,E.w)(e)[r]}function v(e,r){return $(e,r)!==void 0}const z=(e,r)=>(typeof e.url=="string"&&!v(e.url,"_locale")&&(e.url=(0,l.f)(e.url,{_locale:"user"})),typeof e.path=="string"&&!v(e.path,"_locale")&&(e.path=(0,l.f)(e.path,{_locale:"user"})),r(e)),K=(e,r=!0)=>r?e.status===204?null:e.json?e.json():Promise.reject(e):e,V=e=>{const r={code:"invalid_json",message:(0,f.__)("The response is not a valid JSON response.")};if(!e||!e.json)throw r;return e.json().catch(()=>{throw r})},C=(e,r=!0)=>Promise.resolve(K(e,r)).catch(t=>A(t,r));function A(e,r=!0){if(!r)throw e;return V(e).then(t=>{const n={code:"unknown_error",message:(0,f.__)("An unknown error occurred.")};throw t||n})}function B(e){const r=!!e.method&&e.method==="POST";return(!!e.path&&e.path.indexOf("/wp/v2/media")!==-1||!!e.url&&e.url.indexOf("/wp/v2/media")!==-1)&&r}const G=(e,r)=>{if(!B(e))return r(e);let t=0;const n=5,d=a=>(t++,r({path:`/wp/v2/media/${a}/post-process`,method:"POST",data:{action:"create-image-subsizes"},parse:!1}).catch(()=>t<n?d(a):(r({path:`/wp/v2/media/${a}?force=true`,method:"DELETE"}),Promise.reject())));return r({...e,parse:!1}).catch(a=>{const u=a.headers.get("x-wp-upload-attachment-id");return a.status>=500&&a.status<600&&u?d(u).catch(()=>e.parse!==!1?Promise.reject({code:"post_process",message:(0,f.__)("Media upload failed. If this is a photo or a large image, please scale it down and try again.")}):Promise.reject(a)):A(a,e.parse)}).then(a=>C(a,e.parse))},W=e=>(r,t)=>(typeof r.url=="string"&&!v(r.url,"wp_theme_preview")&&(r.url=(0,l.f)(r.url,{wp_theme_preview:e})),typeof r.path=="string"&&!v(r.path,"wp_theme_preview")&&(r.path=(0,l.f)(r.path,{wp_theme_preview:e})),t(r)),X={Accept:"application/json, */*;q=0.1"},Y={credentials:"include"},N=[z,s,J,k];function Z(e){N.unshift(e)}const I=e=>{if(e.status>=200&&e.status<300)return e;throw e};let D=e=>{const{url:r,path:t,data:n,parse:d=!0,...a}=e;let{body:u,headers:m}=e;return m={...X,...m},n&&(u=JSON.stringify(n),m["Content-Type"]="application/json"),window.fetch(r||t||window.location.href,{...Y,...a,body:u,headers:m}).then(O=>Promise.resolve(O).then(I).catch(R=>A(R,d)).then(R=>C(R,d)),O=>{throw O&&O.name==="AbortError"?O:{code:"fetch_error",message:(0,f.__)("You are probably offline.")}})};function ee(e){D=e}function w(e){return N.reduceRight((t,n)=>d=>n(d,t),D)(e).catch(t=>t.code!=="rest_cookie_invalid_nonce"?Promise.reject(t):window.fetch(w.nonceEndpoint).then(I).then(n=>n.text()).then(n=>(w.nonceMiddleware.nonce=n,w(e))))}w.use=Z,w.setFetchHandler=ee,w.createNonceMiddleware=h,w.createPreloadingMiddleware=S,w.createRootURLMiddleware=o,w.fetchAllMiddleware=k,w.mediaUploadMiddleware=G,w.createThemePreviewMiddleware=W;const T=w},"../../../node_modules/.pnpm/@wordpress+url@3.44.0/node_modules/@wordpress/url/build-module/add-query-args.js":(P,g,i)=>{i.d(g,{f:()=>h});var f=i("../../../node_modules/.pnpm/@wordpress+url@3.44.0/node_modules/@wordpress/url/build-module/get-query-args.js"),y=i("../../../node_modules/.pnpm/@wordpress+url@3.44.0/node_modules/@wordpress/url/build-module/build-query-string.js");function h(_="",s){if(!s||!Object.keys(s).length)return _;let p=_;const o=_.indexOf("?");return o!==-1&&(s=Object.assign((0,f.w)(_),s),p=p.substr(0,o)),p+"?"+(0,y.I)(s)}},"../../../node_modules/.pnpm/@wordpress+url@3.44.0/node_modules/@wordpress/url/build-module/build-query-string.js":(P,g,i)=>{i.d(g,{I:()=>f});function f(y){let h="";const _=Object.entries(y);let s;for(;s=_.shift();){let[p,o]=s;if(Array.isArray(o)||o&&o.constructor===Object){const E=Object.entries(o).reverse();for(const[l,c]of E)_.unshift([`${p}[${l}]`,c])}else o!==void 0&&(o===null&&(o=""),h+="&"+[p,o].map(encodeURIComponent).join("="))}return h.substr(1)}},"../../../node_modules/.pnpm/@wordpress+url@3.44.0/node_modules/@wordpress/url/build-module/get-query-args.js":(P,g,i)=>{i.d(g,{w:()=>_});function f(s){try{return decodeURIComponent(s)}catch(p){return s}}var y=i("../../../node_modules/.pnpm/@wordpress+url@3.44.0/node_modules/@wordpress/url/build-module/get-query-string.js");function h(s,p,o){const b=p.length,E=b-1;for(let l=0;l<b;l++){let c=p[l];!c&&Array.isArray(s)&&(c=s.length.toString()),c=["__proto__","constructor","prototype"].includes(c)?c.toUpperCase():c;const j=!isNaN(Number(p[l+1]));s[c]=l===E?o:s[c]||(j?[]:{}),Array.isArray(s[c])&&!j&&(s[c]={...s[c]}),s=s[c]}}function _(s){return((0,y.W)(s)||"").replace(/\+/g,"%20").split("&").reduce((p,o)=>{const[b,E=""]=o.split("=").filter(Boolean).map(f);if(b){const l=b.replace(/\]/g,"").split("[");h(p,l,E)}return p},Object.create(null))}},"../../../node_modules/.pnpm/@wordpress+url@3.44.0/node_modules/@wordpress/url/build-module/get-query-string.js":(P,g,i)=>{i.d(g,{W:()=>f});function f(y){let h;try{h=new URL(y,"http://example.com").search.substring(1)}catch(_){}if(h)return h}}}]);})();
