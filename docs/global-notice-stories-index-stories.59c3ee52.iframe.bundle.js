(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[2920],{"../../../node_modules/.pnpm/@babel+runtime@7.22.6/node_modules/@babel/runtime/helpers/defineProperty.js":(d,a,e)=>{var n=e("../../../node_modules/.pnpm/@babel+runtime@7.22.6/node_modules/@babel/runtime/helpers/toPropertyKey.js");function l(t,i,r){return i=n(i),i in t?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,t}d.exports=l,d.exports.__esModule=!0,d.exports.default=d.exports},"../../../node_modules/.pnpm/@babel+runtime@7.22.6/node_modules/@babel/runtime/helpers/toPrimitive.js":(d,a,e)=>{var n=e("../../../node_modules/.pnpm/@babel+runtime@7.22.6/node_modules/@babel/runtime/helpers/typeof.js").default;function l(t,i){if(n(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var c=r.call(t,i||"default");if(n(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}d.exports=l,d.exports.__esModule=!0,d.exports.default=d.exports},"../../../node_modules/.pnpm/@babel+runtime@7.22.6/node_modules/@babel/runtime/helpers/toPropertyKey.js":(d,a,e)=>{var n=e("../../../node_modules/.pnpm/@babel+runtime@7.22.6/node_modules/@babel/runtime/helpers/typeof.js").default,l=e("../../../node_modules/.pnpm/@babel+runtime@7.22.6/node_modules/@babel/runtime/helpers/toPrimitive.js");function t(i){var r=l(i,"string");return n(r)==="symbol"?r:String(r)}d.exports=t,d.exports.__esModule=!0,d.exports.default=d.exports},"../../../node_modules/.pnpm/@babel+runtime@7.22.6/node_modules/@babel/runtime/helpers/typeof.js":d=>{function a(e){"@babel/helpers - typeof";return d.exports=a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},d.exports.__esModule=!0,d.exports.default=d.exports,a(e)}d.exports=a,d.exports.__esModule=!0,d.exports.default=d.exports},"../../../node_modules/.pnpm/@storybook+addon-actions@7.1.0_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/addon-actions/dist/index.mjs":(d,a,e)=>{"use strict";e.d(a,{aD:()=>n.aD});var n=e("../../../node_modules/.pnpm/@storybook+addon-actions@7.1.0_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/addon-actions/dist/chunk-AY7I2SME.mjs"),l=(...i)=>{let r=config,c=i;c.length===1&&Array.isArray(c[0])&&([c]=c),c.length!==1&&typeof c[c.length-1]!="string"&&(r={...config,...c.pop()});let E=c[0];(c.length!==1||typeof E=="string")&&(E={},c.forEach(g=>{E[g]=g}));let I={};return Object.keys(E).forEach(g=>{I[g]=action(E[g],r)}),I},t=e("../../../node_modules/.pnpm/@storybook+addon-actions@7.1.0_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/addon-actions/dist/chunk-VWCVBQ22.mjs")},"../../../node_modules/.pnpm/@wordpress+components@25.3.0_@types+react-dom@18.2.6_@types+react@18.2.14_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/notice/index.js":(d,a,e)=>{"use strict";e.d(a,{Z:()=>P});var n=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),l=e("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),t=e.n(l),i=e("../../../node_modules/.pnpm/@wordpress+i18n@4.37.0/node_modules/@wordpress/i18n/build-module/index.js"),r=e("../../../node_modules/.pnpm/@wordpress+element@5.14.0/node_modules/@wordpress/element/build-module/serialize.js"),c=e("../../../node_modules/.pnpm/@wordpress+element@5.14.0/node_modules/@wordpress/element/build-module/raw-html.js"),E=e("../../../node_modules/.pnpm/@wordpress+a11y@3.37.0/node_modules/@wordpress/a11y/build-module/index.js"),I=e("../../../node_modules/.pnpm/@wordpress+icons@9.28.0/node_modules/@wordpress/icons/build-module/library/close.js"),g=e("../../../node_modules/.pnpm/@wordpress+components@25.3.0_@types+react-dom@18.2.6_@types+react@18.2.14_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/button/index.js");const S=()=>{};function R(f,v){const _=typeof f=="string"?f:(0,r.ZP)(f);(0,n.useEffect)(()=>{_&&(0,E.D)(_,v)},[_,v])}function x(f){switch(f){case"success":case"warning":case"info":return"polite";case"error":default:return"assertive"}}function W({className:f,status:v="info",children:_,spokenMessage:O=_,onRemove:w=S,isDismissible:N=!0,actions:y=[],politeness:M=x(v),__unstableHTML:Z,onDismiss:B=S}){R(O,M);const L=t()(f,"components-notice","is-"+v,{"is-dismissible":N});Z&&typeof _=="string"&&(_=(0,n.createElement)(c.Z,null,_));const j=p=>{var C;(C=p==null?void 0:p.preventDefault)==null||C.call(p),B(),w()};return(0,n.createElement)("div",{className:L},(0,n.createElement)("div",{className:"components-notice__content"},_,(0,n.createElement)("div",{className:"components-notice__actions"},y.map(({className:p,label:C,isPrimary:D,variant:m,noDefaultClasses:G=!1,onClick:h,url:U},A)=>{let b=m;return m!=="primary"&&!G&&(b=U?"link":"secondary"),typeof b=="undefined"&&D&&(b="primary"),(0,n.createElement)(g.ZP,{key:A,href:U,variant:b,onClick:U?void 0:h,className:t()("components-notice__action",p)},C)}))),N&&(0,n.createElement)(g.ZP,{className:"components-notice__dismiss",icon:I.Z,label:(0,i.__)("Dismiss this notice"),onClick:j,showTooltip:!1}))}const P=W},"../../../node_modules/.pnpm/@wordpress+data@9.7.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-dispatch/use-dispatch.js":(d,a,e)=>{"use strict";e.d(a,{Z:()=>t});var n=e("../../../node_modules/.pnpm/@wordpress+data@9.7.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/registry-provider/use-registry.js");const t=i=>{const{dispatch:r}=(0,n.Z)();return i===void 0?r:r(i)}},"../../../node_modules/.pnpm/@wordpress+data@9.7.0_react@18.2.0/node_modules/@wordpress/data/build-module/dispatch.js":(d,a,e)=>{"use strict";e.d(a,{W:()=>l});var n=e("../../../node_modules/.pnpm/@wordpress+data@9.7.0_react@18.2.0/node_modules/@wordpress/data/build-module/default-registry.js");function l(t){return n.Z.dispatch(t)}},"../../../node_modules/.pnpm/@wordpress+data@9.7.0_react@18.2.0/node_modules/@wordpress/data/build-module/index.js":(d,a,e)=>{"use strict";e.d(a,{R9:()=>g,UY:()=>i,z2:()=>R});var n=e("../../../node_modules/.pnpm/turbo-combine-reducers@1.0.2/node_modules/turbo-combine-reducers/index.js"),l=e.n(n),t=e("../../../node_modules/.pnpm/@wordpress+data@9.7.0_react@18.2.0/node_modules/@wordpress/data/build-module/default-registry.js");const i=l(),r=t.Z.resolveSelect,c=t.Z.suspendSelect,E=t.Z.subscribe,I=t.Z.registerGenericStore,g=t.Z.registerStore,S=t.Z.use,R=t.Z.register},"../../../node_modules/.pnpm/@wordpress+data@9.7.0_react@18.2.0/node_modules/@wordpress/data/build-module/select.js":(d,a,e)=>{"use strict";e.d(a,{Y:()=>l});var n=e("../../../node_modules/.pnpm/@wordpress+data@9.7.0_react@18.2.0/node_modules/@wordpress/data/build-module/default-registry.js");function l(t){return n.Z.select(t)}},"../../../node_modules/.pnpm/@wordpress+icons@9.28.0/node_modules/@wordpress/icons/build-module/icon/index.js":(d,a,e)=>{"use strict";e.d(a,{Z:()=>t});var n=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");function l({icon:i,size:r=24,...c}){return(0,n.cloneElement)(i,{width:r,height:r,...c})}const t=l},"../../../node_modules/.pnpm/@wordpress+icons@9.28.0/node_modules/@wordpress/icons/build-module/library/check.js":(d,a,e)=>{"use strict";e.d(a,{Z:()=>i});var n=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),l=e("../../../node_modules/.pnpm/@wordpress+primitives@3.35.0/node_modules/@wordpress/primitives/build-module/svg/index.js");const i=(0,n.createElement)(l.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(l.y$,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"}))},"../../../node_modules/.pnpm/@wordpress+icons@9.28.0/node_modules/@wordpress/icons/build-module/library/info.js":(d,a,e)=>{"use strict";e.d(a,{Z:()=>i});var n=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),l=e("../../../node_modules/.pnpm/@wordpress+primitives@3.35.0/node_modules/@wordpress/primitives/build-module/svg/index.js");const i=(0,n.createElement)(l.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(l.y$,{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"}))},"../../../node_modules/.pnpm/@wordpress+icons@9.28.0/node_modules/@wordpress/icons/build-module/library/warning.js":(d,a,e)=>{"use strict";e.d(a,{Z:()=>i});var n=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),l=e("../../../node_modules/.pnpm/@wordpress+primitives@3.35.0/node_modules/@wordpress/primitives/build-module/svg/index.js");const i=(0,n.createElement)(l.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,n.createElement)(l.y$,{d:"M10 2c4.42 0 8 3.58 8 8s-3.58 8-8 8-8-3.58-8-8 3.58-8 8-8zm1.13 9.38l.35-6.46H8.52l.35 6.46h2.26zm-.09 3.36c.24-.23.37-.55.37-.96 0-.42-.12-.74-.36-.97s-.59-.35-1.06-.35-.82.12-1.07.35-.37.55-.37.97c0 .41.13.73.38.96.26.23.61.34 1.06.34s.8-.11 1.05-.34z"}))},"../../packages/videopress/src/client/admin/components/global-notice/stories/index.stories.tsx":(d,a,e)=>{var D,m,G;"use strict";e.r(a),e.d(a,{__namedExportsOrder:()=>C,_default:()=>p,default:()=>L});var n=e("../../../node_modules/.pnpm/@storybook+addon-actions@7.1.0_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/addon-actions/dist/index.mjs"),l=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),t=e("../connection/components/use-connection/index.jsx"),i=e("../../../node_modules/.pnpm/@wordpress+components@25.3.0_@types+react-dom@18.2.6_@types+react@18.2.14_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/notice/index.js"),r=e("../../../node_modules/.pnpm/@wordpress+i18n@4.37.0/node_modules/@wordpress/i18n/build-module/index.js"),c=e("../../../node_modules/.pnpm/@wordpress+icons@9.28.0/node_modules/@wordpress/icons/build-module/library/warning.js"),E=e("../../../node_modules/.pnpm/@wordpress+icons@9.28.0/node_modules/@wordpress/icons/build-module/library/info.js"),I=e("../../../node_modules/.pnpm/@wordpress+icons@9.28.0/node_modules/@wordpress/icons/build-module/library/check.js"),g=e("../../../node_modules/.pnpm/@wordpress+icons@9.28.0/node_modules/@wordpress/icons/build-module/icon/index.js"),S=e("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),R=e.n(S),x=e("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),W=e.n(x),P=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/admin/components/global-notice/styles.module.scss"),f={};f.insert="head",f.singleton=!1;var v=W()(P.Z,f);const _=P.Z.locals||{};var O=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const w=r.__,N=h=>{switch(h){case"error":return c.Z;case"warning":return c.Z;case"info":return E.Z;case"success":return I.Z;default:return c.Z}};function y(h){let{status:U="error",isDismissible:A=!1,className:b,children:X,actions:K,onRemove:k}=h;const V=R()(b,_.notice,_[`is-${U}`]);return(0,O.jsxs)(i.Z,{status:U,isDismissible:A,onRemove:k,className:V,actions:K,children:[(0,O.jsx)(g.Z,{icon:N(U),className:_.icon}),(0,O.jsx)("div",{className:_.message,children:X})]})}y.displayName="GlobalNotice";const M=()=>{const{adminUri:h,registrationNonce:U}=window.jetpackVideoPressInitialState,{hasConnectedOwner:A,handleRegisterSite:b}=(0,t.Z)({redirectUri:h,from:"jetpack-videopress",registrationNonce:U});return A?null:(0,O.jsx)(y,{addConnectUserLink:!0,actions:[{label:w("Connect your user account to fix this","jetpack-videopress-pkg"),onClick:b,variant:"link",noDefaultClasses:!0}],children:w("Some actions need a user connection to WordPress.com to be able to work","jetpack-videopress-pkg")})};M.displayName="NeedUserConnectionGlobalNotice";try{globalnotice.displayName="globalnotice",globalnotice.__docgenInfo={description:"VideoPress Logo component",displayName:"globalnotice",props:{status:{defaultValue:{value:"error"},description:"",name:"status",required:!1,type:{name:"enum",value:[{value:'"success"'},{value:'"info"'},{value:'"warning"'},{value:'"error"'}]}},isDismissible:{defaultValue:{value:"false"},description:"",name:"isDismissible",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},actions:{defaultValue:null,description:"",name:"actions",required:!0,type:{name:"{ label: string; onClick: () => void; variant: string; noDefaultClasses: boolean; }[]"}},addConnectUserLink:{defaultValue:null,description:"",name:"addConnectUserLink",required:!1,type:{name:"string | boolean"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!1,type:{name:"() => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/admin/components/global-notice/index.tsx#globalnotice"]={docgenInfo:globalnotice.__docgenInfo,name:"globalnotice",path:"../../packages/videopress/src/client/admin/components/global-notice/index.tsx#globalnotice"})}catch(h){}var Z=`/**
 * External dependencies
 */
import { action } from '@storybook/addon-actions';
import React from 'react';
import GlobalNotice from '..';

export default {
	title: 'Packages/VideoPress/GlobalNotice',
	component: GlobalNotice,
	argTypes: {
		status: {
			control: {
				type: 'select',
			},
			options: [ 'success', 'info', 'warning', 'error' ],
		},
	},
};

const Template = args => <GlobalNotice { ...args } />;

export const _default = Template.bind( {} );
_default.args = {
	children: 'Typical error message',
	isDismissible: true,
	status: 'error',

	onRemove: action( 'onRemove' ),
};
`,B={_default:{startLoc:{col:17,line:19},endLoc:{col:51,line:19},startBody:{col:17,line:19},endBody:{col:51,line:19}}};const L={parameters:{storySource:{source:`/**
 * External dependencies
 */
import { action } from '@storybook/addon-actions';
import React from 'react';
import GlobalNotice from '..';
export default {
  title: 'Packages/VideoPress/GlobalNotice',
  component: GlobalNotice,
  argTypes: {
    status: {
      control: {
        type: 'select'
      },
      options: ['success', 'info', 'warning', 'error']
    }
  }
};
const Template = args => <GlobalNotice {...args} />;
export const _default = Template.bind({});
_default.args = {
  children: 'Typical error message',
  isDismissible: true,
  status: 'error',
  onRemove: action('onRemove')
};
_default.parameters = {
  ..._default.parameters,
  docs: {
    ..._default.parameters?.docs,
    source: {
      originalSource: "args => <GlobalNotice {...args} />",
      ..._default.parameters?.docs?.source
    }
  }
};`,locationsMap:{default:{startLoc:{col:17,line:19},endLoc:{col:51,line:19},startBody:{col:17,line:19},endBody:{col:51,line:19}}}}},title:"Packages/VideoPress/GlobalNotice",component:y,argTypes:{status:{control:{type:"select"},options:["success","info","warning","error"]}}},j=h=>(0,O.jsx)(y,{...h});j.displayName="Template";const p=j.bind({});p.args={children:"Typical error message",isDismissible:!0,status:"error",onRemove:(0,n.aD)("onRemove")},p.parameters={...p.parameters,docs:{...(D=p.parameters)==null?void 0:D.docs,source:{originalSource:"args => <GlobalNotice {...args} />",...(G=(m=p.parameters)==null?void 0:m.docs)==null?void 0:G.source}}};const C=["_default"]},"../connection/components/use-connection/index.jsx":(d,a,e)=>{"use strict";e.d(a,{Z:()=>E});var n=e("../api/index.jsx"),l=e("../../../node_modules/.pnpm/@wordpress+data@9.7.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-dispatch/use-dispatch.js"),t=e("../../../node_modules/.pnpm/@wordpress+data@9.7.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-select/index.js"),i=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),r=e("../connection/state/store.jsx");const c=window!=null&&window.JP_CONNECTION_INITIAL_STATE?window.JP_CONNECTION_INITIAL_STATE:{},E=function(){let{registrationNonce:I=c.registrationNonce,apiRoot:g=c.apiRoot,apiNonce:S=c.apiNonce,redirectUri:R,autoTrigger:x,from:W,skipUserConnection:P}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{registerSite:f,connectUser:v,refreshConnectedPlugins:_}=(0,l.Z)(r.t),O=(0,t.Z)(m=>m(r.t).getRegistrationError()),{siteIsRegistering:w,userIsConnecting:N,userConnectionData:y,connectedPlugins:M,connectionErrors:Z,isRegistered:B,isUserConnected:L,hasConnectedOwner:j,isOfflineMode:p}=(0,t.Z)(m=>({siteIsRegistering:m(r.t).getSiteIsRegistering(),userIsConnecting:m(r.t).getUserIsConnecting(),userConnectionData:m(r.t).getUserConnectionData(),connectedPlugins:m(r.t).getConnectedPlugins(),connectionErrors:m(r.t).getConnectionErrors(),isOfflineMode:m(r.t).getIsOfflineMode(),...m(r.t).getConnectionStatus()})),C=()=>{if(P){if(R)return window.location=R,Promise.resolve(R)}else return v({from:W,redirectUri:R});return Promise.resolve()},D=m=>(m&&m.preventDefault(),B?C():f({registrationNonce:I,redirectUri:R}).then(()=>C()));return(0,i.useEffect)(()=>{n.ZP.setApiRoot(g),n.ZP.setApiNonce(S)},[g,S]),(0,i.useEffect)(()=>{x&&!w&&!N&&D()},[]),{handleRegisterSite:D,handleConnectUser:C,refreshConnectedPlugins:_,isRegistered:B,isUserConnected:L,siteIsRegistering:w,userIsConnecting:N,registrationError:O,userConnectionData:y,hasConnectedOwner:j,connectedPlugins:M,connectionErrors:Z,isOfflineMode:p}}},"../connection/state/store.jsx":(d,a,e)=>{"use strict";e.d(a,{t:()=>K});var n=e("../api/index.jsx");const l="SET_CONNECTION_STATUS",t="SET_CONNECTION_STATUS_IS_FETCHING",i="FETCH_CONNECTION_STATUS",r="SET_SITE_IS_REGISTERING",c="SET_USER_IS_CONNECTING",E="SET_REGISTRATION_ERROR",I="CLEAR_REGISTRATION_ERROR",g="REGISTER_SITE",S="SET_AUTHORIZATION_URL",R="CONNECT_USER",x="DISCONNECT_USER_SUCCESS",W="FETCH_AUTHORIZATION_URL",P="SET_CONNECTED_PLUGINS",f="REFRESH_CONNECTED_PLUGINS",v="SET_CONNECTION_ERRORS",_="SET_IS_OFFLINE_MODE",O=s=>({type:l,connectionStatus:s}),w=s=>({type:t,isFetching:s}),N=()=>({type:i}),y=s=>({type:r,isRegistering:s}),M=s=>({type:c,isConnecting:s}),Z=()=>({type:x}),B=s=>({type:E,registrationError:s}),L=()=>({type:I}),j=s=>({type:S,authorizationUrl:s}),p=s=>({type:W,redirectUri:s}),C=s=>({type:P,connectedPlugins:s}),D=s=>({type:v,connectionErrors:s}),m=s=>({type:_,isOfflineMode:s});function G(){let{from:s,redirectFunc:o,redirectUri:u}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function*(){yield M(!0),yield{type:R,from:s,redirectFunc:o,redirectUri:u}}()}function h(s){let{registrationNonce:o,redirectUri:u}=s;return function*(){yield L(),yield y(!0);try{const T=yield{type:g,registrationNonce:o,redirectUri:u};return yield O({isRegistered:!0}),yield j(T.authorizeUrl),yield y(!1),Promise.resolve(T)}catch(T){return yield B(T),yield y(!1),Promise.reject(T)}}()}const A={setConnectionStatus:O,setConnectionStatusIsFetching:w,fetchConnectionStatus:N,fetchAuthorizationUrl:p,setSiteIsRegistering:y,setUserIsConnecting:M,setRegistrationError:B,clearRegistrationError:L,setAuthorizationUrl:j,registerSite:h,connectUser:G,disconnectUserSuccess:Z,setConnectedPlugins:C,refreshConnectedPlugins:()=>async s=>{let{dispatch:o}=s;return await new Promise(u=>n.ZP.fetchConnectedPlugins().then(T=>{o(C(T)),u(T)}))},setConnectionErrors:D,setIsOfflineMode:m};var b=e("../../../node_modules/.pnpm/@wordpress+data@9.7.0_react@18.2.0/node_modules/@wordpress/data/build-module/factory.js");const K="jetpack-connection",k=s=>{let{registrationNonce:o,redirectUri:u}=s;return n.ZP.registerSite(o,u)},V=(0,b.R)(s=>{let{resolveSelect:o}=s;return function(){let{from:u,redirectFunc:T,redirectUri:F}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise((H,ye)=>{o(K).getAuthorizationUrl(F).then(Y=>{const Ce=T||(Ie=>window.location.assign(Ie)),$=new URL(Y);u&&$.searchParams.set("from",encodeURIComponent(u));const q=$.toString();Ce(q),H(q)}).catch(Y=>{ye(Y)})})}}),ee={FETCH_AUTHORIZATION_URL:s=>{let{redirectUri:o}=s;return n.ZP.fetchAuthorizationUrl(o)},REGISTER_SITE:k,CONNECT_USER:V};var Q=e("../../../node_modules/.pnpm/@wordpress+data@9.7.0_react@18.2.0/node_modules/@wordpress/data/build-module/index.js");const se=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;switch(o.type){case l:return{...s,...o.connectionStatus};case x:return{...s,isUserConnected:!1}}return s},ne=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;switch(o.type){case P:return o.connectedPlugins}return s},oe=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case t:return o.isFetching}return s},te=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case r:return o.isRegistering}return s},re=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case c:return o.isConnecting}return s},de=(s,o)=>{switch(o.type){case I:return!1;case E:return o.registrationError;default:return s}},ie=(s,o)=>{switch(o.type){case S:return o.authorizationUrl;default:return s}},ae=(s,o)=>{switch(o.type){default:return s}},le=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;switch(o.type){case v:return o.connectionErrors}return s},ce=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case _:return o.isConnecting}return s},ue=(0,Q.UY)({connectionStatus:se,connectionStatusIsFetching:oe,siteIsRegistering:te,userIsConnecting:re,registrationError:de,authorizationUrl:ie,userConnectionData:ae,connectedPlugins:ne,connectionErrors:le,isOfflineMode:ce});var me=e("../../../node_modules/.pnpm/@wordpress+data@9.7.0_react@18.2.0/node_modules/@wordpress/data/build-module/select.js"),_e=e("../../../node_modules/.pnpm/@wordpress+data@9.7.0_react@18.2.0/node_modules/@wordpress/data/build-module/dispatch.js");const pe={...{getAuthorizationUrl:{isFulfilled:function(s){const o=!!s.authorizationUrl;for(var u=arguments.length,T=new Array(u>1?u-1:0),F=1;F<u;F++)T[F-1]=arguments[F];const H=(0,me.Y)(K).hasFinishedResolution("getAuthorizationUrl",T);return o&&!H&&(0,_e.W)(K).finishResolution("getAuthorizationUrl",T),o},*fulfill(s){const o=yield A.fetchAuthorizationUrl(s);yield A.setAuthorizationUrl(o.authorizeUrl)}}}},ge={...{getConnectionStatus:s=>s.connectionStatus||{},getConnectionStatusIsFetching:()=>!1,getSiteIsRegistering:s=>s.siteIsRegistering||!1,getUserIsConnecting:s=>s.userIsConnecting||!1,getRegistrationError:s=>s.registrationError||!1,getAuthorizationUrl:s=>s.authorizationUrl||!1,getUserConnectionData:s=>s.userConnectionData||!1,getConnectedPlugins:s=>s.connectedPlugins||[],getConnectionErrors:s=>s.connectionErrors||[],getIsOfflineMode:s=>s.isOfflineMode||!1,getWpcomUser:s=>{var o,u;return(u=(o=s==null?void 0:s.userConnectionData)==null?void 0:o.currentUser)==null?void 0:u.wpcomUser},getBlogId:s=>{var o,u;return(u=(o=s==null?void 0:s.userConnectionData)==null?void 0:o.currentUser)==null?void 0:u.blogId}}};var Ee=e("../../../node_modules/.pnpm/@babel+runtime@7.22.6/node_modules/@babel/runtime/helpers/defineProperty.js"),fe=e.n(Ee),Te=e("../../../node_modules/.pnpm/@wordpress+data@9.7.0_react@18.2.0/node_modules/@wordpress/data/build-module/redux-store/index.js");class z{static mayBeInit(o,u){z.store===null&&(z.store=(0,Te.Z)(o,u),(0,Q.z2)(z.store))}}fe()(z,"store",null);const Re=z,J=window.JP_CONNECTION_INITIAL_STATE;J||console.error("Jetpack Connection package: Initial state is missing. Check documentation to see how to use the Connection composer package to set up the initial state."),Re.mayBeInit(K,{__experimentalUseThunks:!0,reducer:ue,actions:A,selectors:ge,resolvers:pe,controls:ee,initialState:J||{}})},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/admin/components/global-notice/styles.module.scss":(d,a,e)=>{"use strict";e.d(a,{Z:()=>c});var n=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),l=e.n(n),t=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),i=e.n(t),r=i()(l());r.push([d.id,".O4U2IigRCTI0aU8BhBRn{margin:0;font-size:16px}.O4U2IigRCTI0aU8BhBRn.is-error{background-color:var(--jp-red-0)}.O4U2IigRCTI0aU8BhBRn .components-notice__content{display:flex;align-items:center;margin:0;padding:12px 4px}.O4U2IigRCTI0aU8BhBRn .components-notice__content>svg{fill:var(--jp-red-60)}.O4U2IigRCTI0aU8BhBRn .is-link{color:var(--jp-black);font-size:16px;font-weight:600}.O4U2IigRCTI0aU8BhBRn .components-notice__dismiss{align-self:center}.O4U2IigRCTI0aU8BhBRn.p3PMX1cbVKnzwQByPs8r{color:var(--jp-yellow-40)}.O4U2IigRCTI0aU8BhBRn.p3PMX1cbVKnzwQByPs8r .MWYzw6ab74IUviPtFAyo{fill:var(--jp-yellow-40)}.O4U2IigRCTI0aU8BhBRn.SG0xptj_jnXuWDvY2RTG{color:var(--jp-blue-40)}.O4U2IigRCTI0aU8BhBRn.SG0xptj_jnXuWDvY2RTG .MWYzw6ab74IUviPtFAyo{fill:var(--jp-blue-40)}.O4U2IigRCTI0aU8BhBRn.Y8HEO3rLiVzm8xR41_yH{color:var(--jp-green)}.O4U2IigRCTI0aU8BhBRn.Y8HEO3rLiVzm8xR41_yH .MWYzw6ab74IUviPtFAyo{fill:var(--jp-green)}.O4U2IigRCTI0aU8BhBRn .kpYmL80bVc4zklSKLsBq{margin-left:8px}",""]),r.locals={notice:"O4U2IigRCTI0aU8BhBRn","is-warning":"p3PMX1cbVKnzwQByPs8r",icon:"MWYzw6ab74IUviPtFAyo","is-info":"SG0xptj_jnXuWDvY2RTG","is-success":"Y8HEO3rLiVzm8xR41_yH",message:"kpYmL80bVc4zklSKLsBq"};const c=r}}]);})();
