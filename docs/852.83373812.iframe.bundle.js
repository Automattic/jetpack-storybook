"use strict";(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[852],{"../../../node_modules/.pnpm/react-router-dom@6.6.2_react-dom@18.2.0_react@18.2.0/node_modules/react-router-dom/dist/index.js":(te,U,R)=>{R.d(U,{UT:()=>z,rU:()=>Y});var m=R("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),h=R("../../../node_modules/.pnpm/react-router@6.6.2_react@18.2.0/node_modules/react-router/dist/index.js"),S=R("../../../node_modules/.pnpm/@remix-run+router@1.2.1/node_modules/@remix-run/router/dist/router.js");/**
 * React Router DOM v6.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},d.apply(this,arguments)}function D(e,t){if(e==null)return{};var r={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}const P="get",_="application/x-www-form-urlencoded";function y(e){return e!=null&&typeof e.tagName=="string"}function T(e){return y(e)&&e.tagName.toLowerCase()==="button"}function O(e){return y(e)&&e.tagName.toLowerCase()==="form"}function I(e){return y(e)&&e.tagName.toLowerCase()==="input"}function M(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function j(e,t){return e.button===0&&(!t||t==="_self")&&!M(e)}function g(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let a=e[r];return t.concat(Array.isArray(a)?a.map(n=>[r,n]):[[r,a]])},[]))}function K(e,t){let r=g(e);for(let a of t.keys())r.has(a)||t.getAll(a).forEach(n=>{r.append(a,n)});return r}function H(e,t,r){let a,n,i,o;if(O(e)){let l=r.submissionTrigger;a=r.method||e.getAttribute("method")||P,n=r.action||e.getAttribute("action")||t,i=r.encType||e.getAttribute("enctype")||_,o=new FormData(e),l&&l.name&&o.append(l.name,l.value)}else if(T(e)||I(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');a=r.method||e.getAttribute("formmethod")||l.getAttribute("method")||P,n=r.action||e.getAttribute("formaction")||l.getAttribute("action")||t,i=r.encType||e.getAttribute("formenctype")||l.getAttribute("enctype")||_,o=new FormData(l),e.name&&o.append(e.name,e.value)}else{if(y(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');if(a=r.method||P,n=r.action||t,i=r.encType||_,e instanceof FormData)o=e;else if(o=new FormData,e instanceof URLSearchParams)for(let[l,f]of e)o.append(l,f);else if(e!=null)for(let l of Object.keys(e))o.append(l,e[l])}let{protocol:s,host:u}=window.location;return{url:new URL(n,s+"//"+u),method:a.toLowerCase(),encType:i,formData:o}}const W=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],ae=null,re=null;function ne(e,t){return createRouter({basename:t==null?void 0:t.basename,history:createBrowserHistory({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||A(),routes:UNSAFE_enhanceManualRouteObjects(e)}).initialize()}function oe(e,t){return createRouter({basename:t==null?void 0:t.basename,history:createHashHistory({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||A(),routes:UNSAFE_enhanceManualRouteObjects(e)}).initialize()}function A(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=d({},t,{errors:B(t.errors)})),t}function B(e){if(!e)return null;let t=Object.entries(e),r={};for(let[a,n]of t)if(n&&n.__type==="RouteErrorResponse")r[a]=new ErrorResponse(n.status,n.statusText,n.data,n.internal===!0);else if(n&&n.__type==="Error"){let i=new Error(n.message);i.stack="",r[a]=i}else r[a]=n;return r}function ie(e){let{basename:t,children:r,window:a}=e,n=React.useRef();n.current==null&&(n.current=createBrowserHistory({window:a,v5Compat:!0}));let i=n.current,[o,s]=React.useState({action:i.action,location:i.location});return React.useLayoutEffect(()=>i.listen(s),[i]),React.createElement(Router,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i})}function z(e){let{basename:t,children:r,window:a}=e,n=m.useRef();n.current==null&&(n.current=(0,S.q_)({window:a,v5Compat:!0}));let i=n.current,[o,s]=m.useState({action:i.action,location:i.location});return m.useLayoutEffect(()=>i.listen(s),[i]),m.createElement(h.F0,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i})}function le(e){let{basename:t,children:r,history:a}=e;const[n,i]=React.useState({action:a.action,location:a.location});return React.useLayoutEffect(()=>a.listen(i),[a]),React.createElement(Router,{basename:t,children:r,location:n.location,navigationType:n.action,navigator:a})}const Y=m.forwardRef(function(t,r){let{onClick:a,relative:n,reloadDocument:i,replace:o,state:s,target:u,to:c,preventScrollReset:l}=t,f=D(t,W),C=(0,h.oQ)(c,{relative:n}),L=G(c,{replace:o,state:s,target:u,preventScrollReset:l,relative:n});function x(v){a&&a(v),v.defaultPrevented||L(v)}return m.createElement("a",d({},f,{href:C,onClick:i?a:x,ref:r,target:u}))}),se=null,ce=null,J=null;function ue(e){let{getKey:t,storageKey:r}=e;return X({getKey:t,storageKey:r}),null}var p;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(p||(p={}));var w;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(w||(w={}));function fe(e){return e+" must be used within a data router.  See https://reactrouter.com/routers/picking-a-router."}function E(e){let t=React.useContext(UNSAFE_DataRouterContext);return t||invariant(!1),t}function F(e){let t=React.useContext(UNSAFE_DataRouterStateContext);return t||invariant(!1),t}function G(e,t){let{target:r,replace:a,state:n,preventScrollReset:i,relative:o}=t===void 0?{}:t,s=(0,h.s0)(),u=(0,h.TH)(),c=(0,h.WU)(e,{relative:o});return m.useCallback(l=>{if(j(l,r)){l.preventDefault();let f=a!==void 0?a:(0,S.Ep)(u)===(0,S.Ep)(c);s(e,{replace:f,state:n,preventScrollReset:i,relative:o})}},[u,s,c,a,n,r,e,i,o])}function me(e){let t=React.useRef(g(e)),r=useLocation(),a=React.useMemo(()=>K(r.search,t.current),[r.search]),n=useNavigate(),i=React.useCallback((o,s)=>{const u=g(typeof o=="function"?o(a):o);n("?"+u,s)},[n,a]);return[a,i]}function de(){return N()}function N(e,t){let{router:r}=E(p.UseSubmitImpl),a=Q();return React.useCallback(function(n,i){if(i===void 0&&(i={}),typeof document=="undefined")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.");let{method:o,encType:s,formData:u,url:c}=H(n,a,i),l=c.pathname+c.search,f={replace:i.replace,formData:u,formMethod:o,formEncType:s};e?(t==null&&invariant(!1),r.fetch(e,t,l,f)):r.navigate(l,f)},[a,r,e,t])}function Q(e,t){let{relative:r}=t===void 0?{}:t,{basename:a}=React.useContext(UNSAFE_NavigationContext),n=React.useContext(UNSAFE_RouteContext);n||invariant(!1);let[i]=n.matches.slice(-1),o=d({},useResolvedPath(e||".",{relative:r})),s=useLocation();if(e==null&&(o.search=s.search,o.hash=s.hash,i.route.index)){let u=new URLSearchParams(o.search);u.delete("index"),o.search=u.toString()?"?"+u.toString():""}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(o.pathname=o.pathname==="/"?a:joinPaths([a,o.pathname])),createPath(o)}function V(e,t){return React.forwardRef((a,n)=>React.createElement(J,d({},a,{ref:n,fetcherKey:e,routeId:t})))}let $=0;function he(){var e;let{router:t}=E(p.UseFetcher),r=React.useContext(UNSAFE_RouteContext);r||invariant(!1);let a=(e=r.matches[r.matches.length-1])==null?void 0:e.route.id;a==null&&invariant(!1);let[n]=React.useState(()=>String(++$)),[i]=React.useState(()=>(a||invariant(!1),V(n,a))),[o]=React.useState(()=>l=>{t||invariant(!1),a||invariant(!1),t.fetch(n,a,l)}),s=N(n,a),u=t.getFetcher(n),c=React.useMemo(()=>d({Form:i,submit:s,load:o},u),[u,i,s,o]);return React.useEffect(()=>()=>{if(!t){console.warn("No fetcher available to clean up from useFetcher()");return}t.deleteFetcher(n)},[t,n]),c}function pe(){return[...F(w.UseFetchers).fetchers.values()]}const k="react-router-scroll-positions";let b={};function X(e){let{getKey:t,storageKey:r}=e===void 0?{}:e,{router:a}=E(p.UseScrollRestoration),{restoreScrollPosition:n,preventScrollReset:i}=F(w.UseScrollRestoration),o=useLocation(),s=useMatches(),u=useNavigation();React.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),Z(React.useCallback(()=>{if(u.state==="idle"){let c=(t?t(o,s):null)||o.key;b[c]=window.scrollY}sessionStorage.setItem(r||k,JSON.stringify(b)),window.history.scrollRestoration="auto"},[r,t,u.state,o,s])),typeof document!="undefined"&&(React.useLayoutEffect(()=>{try{let c=sessionStorage.getItem(r||k);c&&(b=JSON.parse(c))}catch(c){}},[r]),React.useLayoutEffect(()=>{let c=a==null?void 0:a.enableScrollRestoration(b,()=>window.scrollY,t);return()=>c&&c()},[a,t]),React.useLayoutEffect(()=>{if(n!==!1){if(typeof n=="number"){window.scrollTo(0,n);return}if(o.hash){let c=document.getElementById(o.hash.slice(1));if(c){c.scrollIntoView();return}}i!==!0&&window.scrollTo(0,0)}},[o,n,i]))}function Z(e){React.useEffect(()=>(window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}),[e])}function ve(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(r){}}}}}]);})();
