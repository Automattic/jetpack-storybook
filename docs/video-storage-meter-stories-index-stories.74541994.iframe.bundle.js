(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[1119],{"../../packages/videopress/src/client/admin/components/video-storage-meter/stories/index.stories.tsx":(g,u,s)=>{var d,i,m;"use strict";s.r(u),s.d(u,{__namedExportsOrder:()=>a,_default:()=>e,default:()=>c});var _=s("../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx"),p=s("../../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const c={title:"Packages/VideoPress/Video Storage Meter",component:_.Z},e=(r=>(0,p.jsx)(_.Z,{...r})).bind({});e.args={total:1024*1024*1024*1024,used:1024*1024*1024*1024/2},e.parameters={...e.parameters,docs:{...(d=e.parameters)==null?void 0:d.docs,source:{originalSource:"args => <VideoStorageMeter {...args} />",...(m=(i=e.parameters)==null?void 0:i.docs)==null?void 0:m.source}}};const a=["_default"]},"../../../node_modules/.pnpm/@wordpress+deprecated@3.56.0/node_modules/@wordpress/deprecated/build-module/index.js":(g,u,s)=>{"use strict";s.d(u,{Z:()=>c});var _=s("../../../node_modules/.pnpm/@wordpress+hooks@3.56.0/node_modules/@wordpress/hooks/build-module/index.js");const p=Object.create(null);function c(t,e={}){const{since:a,version:d,alternative:i,plugin:m,link:r,hint:b}=e,E=m?` from ${m}`:"",P=a?` since version ${a}`:"",v=d?` and will be removed${E} in version ${d}`:"",f=i?` Please use ${i} instead.`:"",T=r?` See: ${r}`:"",S=b?` Note: ${b}`:"",j=`${t} is deprecated${P}${v}.${f}${T}${S}`;j in p||((0,_.Kw)("deprecated",t,e,j),console.warn(j),p[j]=!0)}},"../../packages/videopress/src/client/admin/hooks/use-videos/index.js":(g,u,s)=>{"use strict";var _=s("../../packages/videopress/src/client/state/constants.js");function p(){const e=useSelect(n=>n(STORE_ID).getVideos()),a=useSelect(n=>n(STORE_ID).getUploadingVideos()),d=a.length>0,i="",m=useSelect(n=>n(STORE_ID).getUploadedVideoCount()),r=useSelect(n=>n(STORE_ID).getIsFetching()),b=useSelect(n=>n(STORE_ID).getIsFetchingUploadedVideoCount()),E=useSelect(n=>n(STORE_ID).getFirstUploadedVideoId()),P=useSelect(n=>n(STORE_ID).getFirstVideoProcessed()),v=useSelect(n=>n(STORE_ID).getDismissedFirstVideoPopover()),f=useSelect(n=>n(STORE_ID).getVideosQuery()||{}),T=useSelect(n=>n(STORE_ID).getPagination()),S=useSelect(n=>n(STORE_ID).getStorageUsed(),[]),j=useSelect(n=>n(STORE_ID).getVideosFilter());return{items:e,uploading:a,isUploading:d,search:i,filter:j,uploadedVideoCount:m,isFetching:r,isFetchingUploadedVideoCount:b,firstUploadedVideoId:E,firstVideoProcessed:P,dismissedFirstVideoPopover:v,...f,...T,...S,setPage:n=>dispatch(STORE_ID).setVideosQuery({page:n}),setSearch:n=>dispatch(STORE_ID).setVideosQuery({search:n}),setFilter:dispatch(STORE_ID).setVideosFilter}}const c=()=>{const e=useSelect(r=>r(STORE_ID).getLocalVideos()),a=useSelect(r=>r(STORE_ID).getUploadedLocalVideoCount()),d=useSelect(r=>r(STORE_ID).getIsFetchingLocalVideos()),i=useSelect(r=>r(STORE_ID).getLocalVideosQuery()||{}),m=useSelect(r=>r(STORE_ID).getLocalPagination());return{items:e,uploadedLocalVideoCount:a,isFetching:d,...i,...m,setPage:r=>dispatch(STORE_ID).setLocalVideosQuery({page:r})}},t=()=>useSelect(a=>a(STORE_ID).getVideosQuery()||{})},"../components/components/progress-bar/index.tsx":(g,u,s)=>{"use strict";s.d(u,{Z:()=>b});var _=s("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),p=s.n(_),c=s("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),t=s.n(c),e=s("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../components/components/progress-bar/style.module.scss"),a={};a.insert="head",a.singleton=!1;var d=t()(e.Z,a);const i=e.Z.locals||{};var m=s("../../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const b=({className:E,progressClassName:P,progress:v,size:f="normal"})=>{if(v==null)return null;const S={width:`${Math.max(Math.min(v,1),0)*100}%`};return(0,m.jsx)("div",{className:p()(E,i.wrapper,{[i.small]:f==="small"}),children:(0,m.jsx)("div",{className:p()(P,i.progress),style:S})})}},"../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx":(g,u,s)=>{"use strict";s.d(u,{Z:()=>l});var _=s("../components/components/text/index.tsx"),p=s("../components/components/progress-bar/index.tsx"),c=s("../../../node_modules/.pnpm/@wordpress+i18n@4.56.0/node_modules/@wordpress/i18n/build-module/index.js"),t=s("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),e=s.n(t),a=s("../../../node_modules/.pnpm/filesize@8.0.6/node_modules/filesize/lib/filesize.min.js"),d=s.n(a),i=s("../../packages/videopress/src/client/state/index.js");const{paidFeatures:m={},siteProductData:r={},productData:b={},productPrice:E={}}=window&&window.jetpackVideoPressInitialState?window.jetpackVideoPressInitialState:{},P=()=>{const o=mapObjectKeysToCamel(r.pricing_for_ui,!0),y=mapObjectKeysToCamel(b.introductory_offer,!0),O={...mapObjectKeysToCamel(b,!0),introductoryOffer:y},{purchases:h,isFetchingPurchases:M}=useSelect(k=>({purchases:k(STORE_ID).getPurchases(),isFetchingPurchases:k(STORE_ID).isFetchingPurchases()}),[]),x=h.map(k=>mapObjectKeysToCamel(k,!0));function C(k){return x.some(L=>L.productSlug===k)}const A=["jetpack_videopress_bi_yearly","jetpack_videopress","jetpack_videopress_monthly","jetpack_complete_bi_yearly","jetpack_complete","jetpack_complete_monthly","jetpack_business","jetpack_business_monthly","jetpack_personal","jetpack_personal_monthly","jetpack_premium","jetpack_premium_monthly","videopress","videopress-pro","wp_p2_plus_monthly","bundle_pro","value_bundle","value_bundle_monthly","value_bundle-2y","value_bundle-3y","pro-plan","pro-plan-monthly","pro-plan-2y","business-bundle","business-bundle-monthly","business-bundle-2y","business-bundle-3y","wp_com_hundred_year_bundle_centennially","wp_bundle_migration_trial_monthly","wp_bundle_hosting_trial_monthly","ecommerce-bundle","ecommerce-bundle-monthly","ecommerce-bundle-2y","ecommerce-bundle-3y","ecommerce-trial-bundle-monthly","wooexpress-small-bundle-yearly","wooexpress-small-bundle-monthly","wooexpress-medium-bundle-yearly","wooexpress-medium-bundle-monthly"].some(k=>C(k));return{features:m,siteProduct:{...mapObjectKeysToCamel({...r},!0),pricingForUi:o},product:O,productPrice:E,purchases:x,hasVideoPressPurchase:A,isFetchingPurchases:M}};var v=s("../../packages/videopress/src/client/admin/hooks/use-videopress-settings/index.ts"),f=s("../../packages/videopress/src/client/admin/hooks/use-videos/index.js"),T=s("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),S=s.n(T),j=s("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/admin/components/video-storage-meter/style.module.scss"),n={};n.insert="head",n.singleton=!1;var w=S()(j.Z,n);const V=j.Z.locals||{};var D=s("../../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const B=c.__,R=({className:o,progressBarClassName:y,total:O,used:h})=>{if(!O||h==null)return null;const M=h/O,x=`${(M*100).toFixed()}%`,C=d()(O,{base:10});return(0,D.jsxs)("div",{className:e()(o),children:[(0,D.jsx)(_.ZP,{className:e()(V["percentage-description"]),children:(0,c.gB)(B("%1$s of %2$s of cloud video storage","jetpack-videopress-pkg"),x,C)}),(0,D.jsx)(p.Z,{className:e()(V["progress-bar"],y),progress:M})]})},I=o=>{const{storageUsed:y,uploadedVideoCount:O}=useVideos(),{features:h}=usePlan(),{settings:M}=useVideoPressSettings(),{siteType:x}=M,C=1e3*1e3*1e3*1e3;return x===SITE_TYPE_ATOMIC||h!=null&&h.isVideoPressUnlimitedSupported||!O?null:y?_jsx(R,{...o,used:y,total:C}):_jsx(R,{...o,used:0,total:1})},l=R;try{I.displayName="ConnectVideoStorageMeter",I.__docgenInfo={description:"",displayName:"ConnectVideoStorageMeter",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx#ConnectVideoStorageMeter"]={docgenInfo:I.__docgenInfo,name:"ConnectVideoStorageMeter",path:"../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx#ConnectVideoStorageMeter"})}catch(o){}},"../../packages/videopress/src/client/admin/hooks/use-videopress-settings/index.ts":(g,u,s)=>{"use strict";var _=s("../../packages/videopress/src/client/state/index.js");const p=()=>{var e,a,d;const c=useDispatch(STORE_ID),t=useSelect(i=>i(STORE_ID).getVideoPressSettings(),[]);return{settings:{videoPressVideosPrivateForSite:(e=t==null?void 0:t.videoPressVideosPrivateForSite)!=null?e:!1,siteIsPrivate:(a=t==null?void 0:t.siteIsPrivate)!=null?a:!1,siteType:(d=t==null?void 0:t.siteType)!=null?d:SITE_TYPE_JETPACK},onUpdate:i=>c.updateVideoPressSettings(i)}}},"../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js":(g,u)=>{var s,_;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(){"use strict";var p={}.hasOwnProperty,c="[native code]";function t(){for(var e=[],a=0;a<arguments.length;a++){var d=arguments[a];if(d){var i=typeof d;if(i==="string"||i==="number")e.push(d);else if(Array.isArray(d)){if(d.length){var m=t.apply(null,d);m&&e.push(m)}}else if(i==="object"){if(d.toString!==Object.prototype.toString&&!d.toString.toString().includes("[native code]")){e.push(d.toString());continue}for(var r in d)p.call(d,r)&&d[r]&&e.push(r)}}}return e.join(" ")}g.exports?(t.default=t,g.exports=t):(s=[],_=function(){return t}.apply(u,s),_!==void 0&&(g.exports=_))})()},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../components/components/progress-bar/style.module.scss":(g,u,s)=>{"use strict";s.d(u,{Z:()=>a});var _=s("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),p=s.n(_),c=s("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),t=s.n(c),e=t()(p());e.push([g.id,".W4NUeZAGw0aXojyLmjzP{width:100%;height:12px;background-color:var(--jp-gray-5);border-radius:calc(var(--spacing-base)*3);overflow:hidden}.W4NUeZAGw0aXojyLmjzP.aCtQACi6JDw6tIP5cLu1{height:3px}.W4NUeZAGw0aXojyLmjzP .kaV9vllufIW5_MQslIfu{height:100%;border-radius:calc(var(--spacing-base)*3);background-color:var(--jp-black);min-width:12px}",""]),e.locals={wrapper:"W4NUeZAGw0aXojyLmjzP",small:"aCtQACi6JDw6tIP5cLu1",progress:"kaV9vllufIW5_MQslIfu"};const a=e},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/admin/components/video-storage-meter/style.module.scss":(g,u,s)=>{"use strict";s.d(u,{Z:()=>a});var _=s("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),p=s.n(_),c=s("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),t=s.n(c),e=t()(p());e.push([g.id,".J0cboZTh2LMTitQ_wbbw{color:var(--jp-gray-80);margin-bottom:calc(var(--spacing-base)*2)}.uC0NRkCYRpEEddC3UOuf{margin-top:calc(var(--spacing-base)*2)}",""]),e.locals={"percentage-description":"J0cboZTh2LMTitQ_wbbw","progress-bar":"uC0NRkCYRpEEddC3UOuf"};const a=e},"../../../node_modules/.pnpm/filesize@8.0.6/node_modules/filesize/lib/filesize.min.js":function(g){/*!
 2021 Jason Mulligan <jason.mulligan@avoidwork.com>
 @version 8.0.6
*/(function(u,s){g.exports=s()})(this,function(){"use strict";var u=/^(b|B)$/,s={iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},_={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]},p={floor:Math.floor,ceil:Math.ceil};function c(t){var e,a,d,i,m,r,b,E,P,v,f,T,S,j,n,w,V,D,B,R,I,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=[],y=0;if(isNaN(t))throw new TypeError("Invalid number");if(d=l.bits===!0,n=l.unix===!0,T=l.pad===!0,a=l.base||10,S=l.round!==void 0?l.round:n?1:2,b=l.locale!==void 0?l.locale:"",E=l.localeOptions||{},w=l.separator!==void 0?l.separator:"",V=l.spacer!==void 0?l.spacer:n?"":" ",B=l.symbols||{},D=a===2?l.standard||"iec":"jedec",f=l.output||"string",m=l.fullform===!0,r=l.fullforms instanceof Array?l.fullforms:[],e=l.exponent!==void 0?l.exponent:-1,R=p[l.roundingMethod]||Math.round,P=(v=Number(t))<0,i=a>2?1e3:1024,I=isNaN(l.precision)===!1?parseInt(l.precision,10):0,P&&(v=-v),(e===-1||isNaN(e))&&(e=Math.floor(Math.log(v)/Math.log(i)))<0&&(e=0),e>8&&(I>0&&(I+=8-e),e=8),f==="exponent")return e;if(v===0)o[0]=0,j=o[1]=n?"":s[D][d?"bits":"bytes"][e];else{y=v/(a===2?Math.pow(2,10*e):Math.pow(1e3,e)),d&&(y*=8)>=i&&e<8&&(y/=i,e++);var O=Math.pow(10,e>0?S:0);o[0]=R(y*O)/O,o[0]===i&&e<8&&l.exponent===void 0&&(o[0]=1,e++),j=o[1]=a===10&&e===1?d?"kbit":"kB":s[D][d?"bits":"bytes"][e],n&&(o[1]=o[1].charAt(0),u.test(o[1])&&(o[0]=Math.floor(o[0]),o[1]=""))}if(P&&(o[0]=-o[0]),I>0&&(o[0]=o[0].toPrecision(I)),o[1]=B[o[1]]||o[1],b===!0?o[0]=o[0].toLocaleString():b.length>0?o[0]=o[0].toLocaleString(b,E):w.length>0&&(o[0]=o[0].toString().replace(".",w)),T&&Number.isInteger(o[0])===!1&&S>0){var h=w||".",M=o[0].toString().split(h),x=M[1]||"",C=x.length,A=S-C;o[0]="".concat(M[0]).concat(h).concat(x.padEnd(C+A,"0"))}return m&&(o[1]=r[e]?r[e]:_[D][e]+(d?"bit":"byte")+(o[0]===1?"":"s")),f==="array"?o:f==="object"?{value:o[0],symbol:o[1],exponent:e,unit:j}:o.join(V)}return c.partial=function(t){return function(e){return c(e,t)}},c})},"../../../node_modules/.pnpm/is-plain-object@5.0.0/node_modules/is-plain-object/dist/is-plain-object.mjs":(g,u,s)=>{"use strict";s.d(u,{P:()=>p});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function _(c){return Object.prototype.toString.call(c)==="[object Object]"}function p(c){var t,e;return _(c)===!1?!1:(t=c.constructor,t===void 0?!0:(e=t.prototype,!(_(e)===!1||e.hasOwnProperty("isPrototypeOf")===!1)))}}}]);})();
