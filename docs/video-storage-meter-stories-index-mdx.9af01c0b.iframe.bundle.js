"use strict";(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[7508,1119],{"../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/extends.js":(v,i,e)=>{e.d(i,{Z:()=>d});function d(){return d=Object.assign?Object.assign.bind():function(s){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(s[t]=a[t])}return s},d.apply(this,arguments)}},"../../../node_modules/.pnpm/@emotion+use-insertion-effect-with-fallbacks@1.0.1_react@18.2.0/node_modules/@emotion/use-insertion-effect-with-fallbacks/dist/emotion-use-insertion-effect-with-fallbacks.browser.esm.js":(v,i,e)=>{var d;e.d(i,{L:()=>t,j:()=>_});var s=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),o=function(l){return l()},a=(d||(d=e.t(s,2)))["useInsertionEffect"]?(d||(d=e.t(s,2)))["useInsertionEffect"]:!1,t=a||o,_=a||s.useLayoutEffect},"../../packages/videopress/src/client/admin/components/video-storage-meter/stories/index.mdx":(v,i,e)=>{e.r(i),e.d(i,{default:()=>l});var d=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),s=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js"),o=e("../../../node_modules/.pnpm/@mdx-js+react@3.0.1_@types+react@18.2.67_react@18.2.0/node_modules/@mdx-js/react/lib/index.js"),a=e("../../../node_modules/.pnpm/@storybook+blocks@8.0.6_@types+react@18.2.61_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/blocks/dist/index.mjs"),t=e("../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx"),_=e("../../packages/videopress/src/client/admin/components/video-storage-meter/stories/index.stories.tsx");function u(p){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",ul:"ul",...(0,o.a)(),...p.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.h_,{of:_}),`
`,(0,s.jsx)(n.h1,{id:"videostoragemeter",children:"VideoStorageMeter"}),`
`,(0,s.jsx)(n.p,{children:"Component that shows cloud storage usage."}),`
`,(0,s.jsx)(a.Xz,{withSource:"open",children:(0,s.jsx)(a.oG,{id:"packages-videopress-video-storage-meter--default"})}),`
`,(0,s.jsx)(n.h2,{id:"api",children:"API"}),`
`,(0,s.jsx)(n.h3,{id:"total",children:"total"}),`
`,(0,s.jsxs)(n.ul,{children:[`
`,(0,s.jsxs)(n.li,{children:["type: ",(0,s.jsx)(n.code,{children:"number"})]}),`
`]}),`
`,(0,s.jsx)(n.p,{children:"The total available cloud space for the user, in bytes."}),`
`,(0,s.jsx)(n.h3,{id:"used",children:"used"}),`
`,(0,s.jsxs)(n.ul,{children:[`
`,(0,s.jsxs)(n.li,{children:["type: ",(0,s.jsx)(n.code,{children:"number"})]}),`
`]}),`
`,(0,s.jsx)(n.p,{children:"The used cloud space, in bytes."}),`
`,(0,s.jsx)(n.h3,{id:"classname",children:"className"}),`
`,(0,s.jsxs)(n.ul,{children:[`
`,(0,s.jsxs)(n.li,{children:["type: ",(0,s.jsx)(n.code,{children:"string"})]}),`
`]}),`
`,(0,s.jsx)(n.p,{children:"Optional classname to apply to the root element."}),`
`,(0,s.jsx)(n.h3,{id:"progressbarclassname",children:"progressBarClassName"}),`
`,(0,s.jsxs)(n.ul,{children:[`
`,(0,s.jsxs)(n.li,{children:["type: ",(0,s.jsx)(n.code,{children:"string"})]}),`
`]}),`
`,(0,s.jsxs)(n.ul,{children:[`
`,(0,s.jsx)(n.li,{children:"Optional classname to apply to the progress bar element."}),`
`]})]})}function l(p={}){const{wrapper:n}={...(0,o.a)(),...p.components};return n?(0,s.jsx)(n,{...p,children:(0,s.jsx)(u,{...p})}):u(p)}},"../../packages/videopress/src/client/admin/components/video-storage-meter/stories/index.stories.tsx":(v,i,e)=>{var u,l,p;e.r(i),e.d(i,{__namedExportsOrder:()=>_,_default:()=>t,default:()=>o});var d=e("../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx"),s=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const o={title:"Packages/VideoPress/Video Storage Meter",component:d.Z},t=(n=>(0,s.jsx)(d.Z,{...n})).bind({});t.args={total:1024*1024*1024*1024,used:1024*1024*1024*1024/2},t.parameters={...t.parameters,docs:{...(u=t.parameters)==null?void 0:u.docs,source:{originalSource:"args => <VideoStorageMeter {...args} />",...(p=(l=t.parameters)==null?void 0:l.docs)==null?void 0:p.source}}};const _=["_default"]},"../../packages/videopress/src/client/admin/hooks/use-videos/index.js":(v,i,e)=>{e.d(i,{ZP:()=>a});var d=e("../../../node_modules/.pnpm/@wordpress+data@9.25.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-select/index.js"),s=e("../../../node_modules/.pnpm/@wordpress+data@9.25.0_react@18.2.0/node_modules/@wordpress/data/build-module/dispatch.js"),o=e("../../packages/videopress/src/client/state/constants.js");function a(){const u=(0,d.Z)(r=>r(o.tT).getVideos()),l=(0,d.Z)(r=>r(o.tT).getUploadingVideos()),p=l.length>0,n="",g=(0,d.Z)(r=>r(o.tT).getUploadedVideoCount()),c=(0,d.Z)(r=>r(o.tT).getIsFetching()),j=(0,d.Z)(r=>r(o.tT).getIsFetchingUploadedVideoCount()),m=(0,d.Z)(r=>r(o.tT).getFirstUploadedVideoId()),x=(0,d.Z)(r=>r(o.tT).getFirstVideoProcessed()),E=(0,d.Z)(r=>r(o.tT).getDismissedFirstVideoPopover()),y=(0,d.Z)(r=>r(o.tT).getVideosQuery()||{}),b=(0,d.Z)(r=>r(o.tT).getPagination()),h=(0,d.Z)(r=>r(o.tT).getStorageUsed(),[]),P=(0,d.Z)(r=>r(o.tT).getVideosFilter());return{items:u,uploading:l,isUploading:p,search:n,filter:P,uploadedVideoCount:g,isFetching:c,isFetchingUploadedVideoCount:j,firstUploadedVideoId:m,firstVideoProcessed:x,dismissedFirstVideoPopover:E,...y,...b,...h,setPage:r=>(0,s.W)(o.tT).setVideosQuery({page:r}),setSearch:r=>(0,s.W)(o.tT).setVideosQuery({search:r}),setFilter:(0,s.W)(o.tT).setVideosFilter}}const t=()=>{const u=useSelect(c=>c(STORE_ID).getLocalVideos()),l=useSelect(c=>c(STORE_ID).getUploadedLocalVideoCount()),p=useSelect(c=>c(STORE_ID).getIsFetchingLocalVideos()),n=useSelect(c=>c(STORE_ID).getLocalVideosQuery()||{}),g=useSelect(c=>c(STORE_ID).getLocalPagination());return{items:u,uploadedLocalVideoCount:l,isFetching:p,...n,...g,setPage:c=>dispatch(STORE_ID).setLocalVideosQuery({page:c})}},_=()=>useSelect(l=>l(STORE_ID).getVideosQuery()||{})},"../components/components/progress-bar/index.tsx":(v,i,e)=>{e.d(i,{Z:()=>g});var d=e("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),s=e.n(d),o=e("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=e.n(o),t=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../components/components/progress-bar/style.module.scss"),_={};_.insert="head",_.singleton=!1;var u=a()(t.Z,_);const l=t.Z.locals||{};var p=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const g=({className:c,progressClassName:j,progress:m,size:x="normal"})=>{if(m==null)return null;const y={width:`${Math.max(Math.min(m,1),0)*100}%`};return(0,p.jsx)("div",{className:s()(c,l.wrapper,{[l.small]:x==="small"}),children:(0,p.jsx)("div",{className:s()(j,l.progress),style:y})})}},"../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx":(v,i,e)=>{e.d(i,{Z:()=>r});var d=e("../components/components/text/index.tsx"),s=e("../components/components/progress-bar/index.tsx"),o=e("../../../node_modules/.pnpm/@wordpress+i18n@4.55.0/node_modules/@wordpress/i18n/build-module/index.js"),a=e("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),t=e.n(a),_=e("../../../node_modules/.pnpm/filesize@8.0.6/node_modules/filesize/lib/filesize.min.js"),u=e.n(_),l=e("../../packages/videopress/src/client/admin/hooks/use-plan/index.ts"),p=e("../../packages/videopress/src/client/admin/hooks/use-videopress-settings/index.ts"),n=e("../../packages/videopress/src/client/admin/hooks/use-videos/index.js"),g=e("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),c=e.n(g),j=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/admin/components/video-storage-meter/style.module.scss"),m={};m.insert="head",m.singleton=!1;var x=c()(j.Z,m);const E=j.Z.locals||{};var y=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const b=o.__,h=({className:T,progressBarClassName:S,total:O,used:f})=>{if(!O||f==null)return null;const M=f/O,C=`${(M*100).toFixed()}%`,D=u()(O,{base:10});return(0,y.jsxs)("div",{className:t()(T),children:[(0,y.jsx)(d.ZP,{className:t()(E["percentage-description"]),children:(0,o.gB)(b("%1$s of %2$s of cloud video storage","jetpack-videopress-pkg"),C,D)}),(0,y.jsx)(s.Z,{className:t()(E["progress-bar"],S),progress:M})]})},P=T=>{const{storageUsed:S,uploadedVideoCount:O}=useVideos(),{features:f}=usePlan(),{settings:M}=useVideoPressSettings(),{siteType:C}=M,D=1e3*1e3*1e3*1e3;return C===SITE_TYPE_ATOMIC||f!=null&&f.isVideoPressUnlimitedSupported||!O?null:S?_jsx(h,{...T,used:S,total:D}):_jsx(h,{...T,used:0,total:1})},r=h;try{P.displayName="ConnectVideoStorageMeter",P.__docgenInfo={description:"",displayName:"ConnectVideoStorageMeter",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx#ConnectVideoStorageMeter"]={docgenInfo:P.__docgenInfo,name:"ConnectVideoStorageMeter",path:"../../packages/videopress/src/client/admin/components/video-storage-meter/index.tsx#ConnectVideoStorageMeter"})}catch(T){}},"../../packages/videopress/src/client/admin/hooks/use-plan/index.ts":(v,i,e)=>{e.d(i,{g:()=>n});var d=e("../../../node_modules/.pnpm/@wordpress+data@9.25.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-select/index.js"),s=e("../../packages/videopress/src/client/state/index.js");function o(g){return g.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace("_",""))}function a(g){return g.indexOf("_")!==-1}function t(g,c=!1){const j=Object.assign({},g);for(const m in j)j.hasOwnProperty(m)&&a(m)&&(j[o(m)]=j[m],c&&delete j[m]);return j}const{paidFeatures:_={},siteProductData:u={},productData:l={},productPrice:p={}}=window&&window.jetpackVideoPressInitialState?window.jetpackVideoPressInitialState:{},n=()=>{const g=t(u.pricing_for_ui,!0),c=t(l.introductory_offer,!0),j={...t(l,!0),introductoryOffer:c},{purchases:m,isFetchingPurchases:x}=(0,d.Z)(h=>({purchases:h(s.tT).getPurchases(),isFetchingPurchases:h(s.tT).isFetchingPurchases()}),[]),E=m.map(h=>t(h,!0));function y(h){return E.some(P=>P.productSlug===h)}const b=["jetpack_videopress_bi_yearly","jetpack_videopress","jetpack_videopress_monthly","jetpack_complete_bi_yearly","jetpack_complete","jetpack_complete_monthly","jetpack_business","jetpack_business_monthly","jetpack_personal","jetpack_personal_monthly","jetpack_premium","jetpack_premium_monthly","videopress","videopress-pro","wp_p2_plus_monthly","bundle_pro","value_bundle","value_bundle_monthly","value_bundle-2y","value_bundle-3y","pro-plan","pro-plan-monthly","pro-plan-2y","business-bundle","business-bundle-monthly","business-bundle-2y","business-bundle-3y","wp_com_hundred_year_bundle_centennially","wp_bundle_migration_trial_monthly","wp_bundle_hosting_trial_monthly","ecommerce-bundle","ecommerce-bundle-monthly","ecommerce-bundle-2y","ecommerce-bundle-3y","ecommerce-trial-bundle-monthly","wooexpress-small-bundle-yearly","wooexpress-small-bundle-monthly","wooexpress-medium-bundle-yearly","wooexpress-medium-bundle-monthly"].some(h=>y(h));return{features:_,siteProduct:{...t({...u},!0),pricingForUi:g},product:j,productPrice:p,purchases:E,hasVideoPressPurchase:b,isFetchingPurchases:x}}},"../../packages/videopress/src/client/admin/hooks/use-videopress-settings/index.ts":(v,i,e)=>{var d=e("../../packages/videopress/src/client/state/index.js");const s=()=>{var t,_,u;const o=useDispatch(STORE_ID),a=useSelect(l=>l(STORE_ID).getVideoPressSettings(),[]);return{settings:{videoPressVideosPrivateForSite:(t=a==null?void 0:a.videoPressVideosPrivateForSite)!=null?t:!1,siteIsPrivate:(_=a==null?void 0:a.siteIsPrivate)!=null?_:!1,siteType:(u=a==null?void 0:a.siteType)!=null?u:SITE_TYPE_JETPACK},onUpdate:l=>o.updateVideoPressSettings(l)}}},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../components/components/progress-bar/style.module.scss":(v,i,e)=>{e.d(i,{Z:()=>_});var d=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),s=e.n(d),o=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),a=e.n(o),t=a()(s());t.push([v.id,".W4NUeZAGw0aXojyLmjzP{width:100%;height:12px;background-color:var(--jp-gray-5);border-radius:calc(var(--spacing-base)*3);overflow:hidden}.W4NUeZAGw0aXojyLmjzP.aCtQACi6JDw6tIP5cLu1{height:3px}.W4NUeZAGw0aXojyLmjzP .kaV9vllufIW5_MQslIfu{height:100%;border-radius:calc(var(--spacing-base)*3);background-color:var(--jp-black);min-width:12px}",""]),t.locals={wrapper:"W4NUeZAGw0aXojyLmjzP",small:"aCtQACi6JDw6tIP5cLu1",progress:"kaV9vllufIW5_MQslIfu"};const _=t},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/admin/components/video-storage-meter/style.module.scss":(v,i,e)=>{e.d(i,{Z:()=>_});var d=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),s=e.n(d),o=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),a=e.n(o),t=a()(s());t.push([v.id,".J0cboZTh2LMTitQ_wbbw{color:var(--jp-gray-80);margin-bottom:calc(var(--spacing-base)*2)}.uC0NRkCYRpEEddC3UOuf{margin-top:calc(var(--spacing-base)*2)}",""]),t.locals={"percentage-description":"J0cboZTh2LMTitQ_wbbw","progress-bar":"uC0NRkCYRpEEddC3UOuf"};const _=t}}]);})();
