"use strict";(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[7261],{"../analytics/index.jsx":(I,P,n)=>{n.d(P,{Z:()=>j});var _=n("../../../node_modules/.pnpm/debug@4.3.4/node_modules/debug/src/browser.js"),g=n.n(_);const i=g()("dops:analytics");let l,o;window._tkq=window._tkq||[],window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=+new Date;function y(e,a){let s="";if(typeof e=="object"){for(const c in e)s+="&x_"+encodeURIComponent(c)+"="+encodeURIComponent(e[c]);i("Bumping stats %o",e)}else s="&x_"+encodeURIComponent(e)+"="+encodeURIComponent(a),i('Bumping stat "%s" in group "%s"',a,e);return s}function A(e,a){let s="";if(typeof e=="object"){for(const c in e)s+="&"+encodeURIComponent(c)+"="+encodeURIComponent(e[c]);i("Built stats %o",e)}else s="&"+encodeURIComponent(e)+"="+encodeURIComponent(a),i('Built stat "%s" in group "%s"',a,e);return s}const d={initialize:function(e,a,s){d.setUser(e,a),d.setSuperProps(s),d.identifyUser()},setGoogleAnalyticsEnabled:function(e,a=null){this.googleAnalyticsEnabled=e,this.googleAnalyticsKey=a},setMcAnalyticsEnabled:function(e){this.mcAnalyticsEnabled=e},setUser:function(e,a){o={ID:e,username:a}},setSuperProps:function(e){l=e},assignSuperProps:function(e){l=Object.assign(l||{},e)},mc:{bumpStat:function(e,a){const s=y(e,a);d.mcAnalyticsEnabled&&(new Image().src=document.location.protocol+"//pixel.wp.com/g.gif?v=wpcom-no-pv"+s+"&t="+Math.random())},bumpStatWithPageView:function(e,a){const s=A(e,a);d.mcAnalyticsEnabled&&(new Image().src=document.location.protocol+"//pixel.wp.com/g.gif?v=wpcom"+s+"&t="+Math.random())}},pageView:{record:function(e,a){d.tracks.recordPageView(e),d.ga.recordPageView(e,a)}},purchase:{record:function(e,a,s,c,u,t,k){d.ga.recordPurchase(e,a,s,c,u,t,k)}},tracks:{recordEvent:function(e,a){if(a=a||{},e.indexOf("akismet_")!==0&&e.indexOf("jetpack_")!==0){i('- Event name must be prefixed by "akismet_" or "jetpack_"');return}l&&(i("- Super Props: %o",l),a=Object.assign(a,l)),i('Record event "%s" called with props %s',e,JSON.stringify(a)),window._tkq.push(["recordEvent",e,a])},recordJetpackClick:function(e){const a=typeof e=="object"?e:{target:e};d.tracks.recordEvent("jetpack_wpa_click",a)},recordPageView:function(e){d.tracks.recordEvent("akismet_page_view",{path:e})},setOptOut:function(e){i("Pushing setOptOut: %o",e),window._tkq.push(["setOptOut",e])}},ga:{initialized:!1,initialize:function(){let e={};d.ga.initialized||(o&&(e={userId:"u-"+o.ID}),window.ga("create",this.googleAnalyticsKey,"auto",e),d.ga.initialized=!0)},recordPageView:function(e,a){d.ga.initialize(),i("Recording Page View ~ [URL: "+e+"] [Title: "+a+"]"),this.googleAnalyticsEnabled&&(window.ga("set","page",e),window.ga("send",{hitType:"pageview",page:e,title:a}))},recordEvent:function(e,a,s,c){d.ga.initialize();let u="Recording Event ~ [Category: "+e+"] [Action: "+a+"]";typeof s!="undefined"&&(u+=" [Option Label: "+s+"]"),typeof c!="undefined"&&(u+=" [Option Value: "+c+"]"),i(u),this.googleAnalyticsEnabled&&window.ga("send","event",e,a,s,c)},recordPurchase:function(e,a,s,c,u,t,k){window.ga("require","ecommerce"),window.ga("ecommerce:addTransaction",{id:e,revenue:c,currency:k}),window.ga("ecommerce:addItem",{id:e,name:a,sku:s,price:u,quantity:t}),window.ga("ecommerce:send")}},identifyUser:function(){o&&window._tkq.push(["identifyUser",o.ID,o.username])},setProperties:function(e){window._tkq.push(["setProperties",e])},clearedIdentity:function(){window._tkq.push(["clearIdentity"])}},j=d},"../../packages/my-jetpack/_inc/components/card/index.jsx":(I,P,n)=>{n.d(P,{U:()=>u,Z:()=>k});var _=n("../components/components/text/index.tsx"),g=n("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),i=n.n(g),l=n("../../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js"),o=n.n(l),y=n("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),A=n("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),d=n.n(A),j=n("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/my-jetpack/_inc/components/card/style.module.scss"),e={};e.insert="head",e.singleton=!1;var a=d()(j.Z,e);const s=j.Z.locals||{};var c=n("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const u=v=>{const{children:r,className:m}=v,O=i()(s.container,m);return(0,c.jsx)("div",{className:O,children:r})};u.displayName="CardWrapper";const t=v=>{const{title:r,headerRightContent:m,className:O,children:C}=v;return(0,c.jsxs)(u,{className:O,children:[(0,c.jsxs)("div",{className:s.title,children:[(0,c.jsx)("div",{className:s.name,children:(0,c.jsx)(_.ZP,{variant:"title-medium",children:r})}),m]}),C]})};t.displayName="Card",t.propTypes={children:o().node,title:o().string.isRequired,className:o().string,headerRightContent:o().node},t.__docgenInfo={description:"",methods:[],displayName:"Card",props:{children:{description:"",type:{name:"node"},required:!1},title:{description:"",type:{name:"string"},required:!0},className:{description:"",type:{name:"string"},required:!1},headerRightContent:{description:"",type:{name:"node"},required:!1}}};const k=t;u.__docgenInfo={description:"",methods:[],displayName:"CardWrapper"}},"../../packages/my-jetpack/_inc/components/product-card/index.jsx":(I,P,n)=>{n.d(P,{ZP:()=>N,bY:()=>O});var _=n("../components/components/button/index.tsx"),g=n("../../../node_modules/.pnpm/@wordpress+components@25.13.0_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/dropdown/index.js"),i=n("../../../node_modules/.pnpm/@wordpress+data@9.17.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-dispatch/use-dispatch.js"),l=n("../../../node_modules/.pnpm/@wordpress+i18n@4.47.0/node_modules/@wordpress/i18n/build-module/index.js"),o=n("../../../node_modules/.pnpm/@wordpress+icons@9.38.0_react@18.2.0/node_modules/@wordpress/icons/build-module/library/more-vertical.js"),y=n("../../../node_modules/.pnpm/@wordpress+icons@9.38.0_react@18.2.0/node_modules/@wordpress/icons/build-module/library/download.js"),A=n("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),d=n.n(A),j=n("../../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js"),e=n.n(j),a=n("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),s=n("../../packages/my-jetpack/_inc/hooks/use-analytics/index.js"),c=n("../../packages/my-jetpack/_inc/state/store.js"),u=n("../../packages/my-jetpack/_inc/components/card/index.jsx"),t=n("../../packages/my-jetpack/_inc/components/product-card/action-button.jsx"),k=n("../../packages/my-jetpack/_inc/components/product-card/status.jsx"),v=n("../../packages/my-jetpack/_inc/components/product-card/style.module.scss"),r=n("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const m=l.__,O={[t.N.ACTIVE]:m("Active","jetpack-my-jetpack"),[t.N.INACTIVE]:m("Inactive","jetpack-my-jetpack"),[t.N.NEEDS_PURCHASE]:m("Inactive","jetpack-my-jetpack"),[t.N.NEEDS_PURCHASE_OR_FREE]:m("Inactive","jetpack-my-jetpack"),[t.N.ERROR]:m("Error","jetpack-my-jetpack"),[t.N.CAN_UPGRADE]:m("Active","jetpack-my-jetpack")},C=({items:T=[],showInstall:U=!1,onInstall:x,showActivate:R=!1,showDeactivate:b=!1,onActivate:w,onDeactivate:M})=>(0,r.jsx)(g.Z,{popoverProps:{noArrow:!1,placement:"bottom-end"},renderToggle:({isOpen:S,onToggle:f})=>(0,r.jsx)(_.Z,{variant:"tertiary",size:"small",icon:o.Z,onClick:f,"aria-expanded":S}),renderContent:({onClose:S})=>(0,r.jsxs)(r.Fragment,{children:[T.map(f=>(0,r.jsx)(_.Z,{weight:"regular",fullWidth:!0,variant:"tertiary",icon:f==null?void 0:f.icon,onClick:()=>{var p;S(),(p=f==null?void 0:f.onClick)==null||p.call(f)},children:f==null?void 0:f.label})),U&&(0,r.jsx)(_.Z,{weight:"regular",fullWidth:!0,variant:"tertiary",icon:y.Z,onClick:()=>{S(),x==null||x()},children:m("Install Plugin","jetpack-my-jetpack")}),R&&(0,r.jsx)(_.Z,{weight:"regular",fullWidth:!0,variant:"tertiary",onClick:()=>{S(),w==null||w()},children:m("Activate Plugin","jetpack-my-jetpack")}),b&&(0,r.jsx)(_.Z,{weight:"regular",fullWidth:!0,variant:"tertiary",onClick:()=>{S(),M==null||M()},children:m("Deactivate Plugin","jetpack-my-jetpack")})]})});C.displayName="Menu",C.propTypes={onActivate:e().func,onDeactivate:e().func,showActivate:e().bool,showDeactivate:e().bool,showInstall:e().bool,items:e().arrayOf(e().shape({label:e().string,icon:e().node,onClick:e().func})),onInstall:e().func},C.defaultProps={onActivate:()=>{},onDeactivate:()=>{},showActivate:!1,showDeactivate:!1};const h=T=>{const{name:U,Description:x,status:R,onActivate:b,isFetching:w,isDataLoading:M,isInstallingStandalone:S,isDeactivatingStandalone:f,slug:p,additionalActions:K,children:H,showMenu:V=!1,showActivateOption:F=!1,showDeactivateOption:G=!1,showInstallOption:Q=!1,menuItems:z=[],onInstallStandalone:L,onActivateStandalone:B,onDeactivateStandalone:Z}=T,J=R===t.N.ERROR,W=R===t.N.ABSENT||R===t.N.ABSENT_WITH_PLAN,X=R===t.N.NEEDS_PURCHASE||R===t.N.NEEDS_PURCHASE_OR_FREE,Y=d()({[v.Z.plugin_absent]:W,[v.Z["is-purchase-required"]]:X,[v.Z["is-link"]]:W,[v.Z["has-error"]]:J}),{recordEvent:E}=(0,s.Z)(),{dismissWelcomeBanner:D}=(0,i.Z)(c.t),q=(0,a.useCallback)(()=>{E("jetpack_myjetpack_product_card_activate_click",{product:p}),D(),b()},[p,b,D,E]),$=(0,a.useCallback)(()=>{E("jetpack_myjetpack_product_card_add_click",{product:p}),D()},[p,E,D]),ee=(0,a.useCallback)(()=>{E("jetpack_myjetpack_product_card_manage_click",{product:p}),D()},[p,E,D]),ne=(0,a.useCallback)(()=>{E("jetpack_myjetpack_product_card_fixconnection_click",{product:p}),D()},[p,E,D]),ae=(0,a.useCallback)(()=>{E("jetpack_myjetpack_product_card_learnmore_click",{product:p}),D()},[p,E,D]),te=(0,a.useCallback)(()=>{E("jetpack_myjetpack_product_card_install_standalone_plugin_click",{product:p}),L()},[p,L,E]),se=(0,a.useCallback)(()=>{E("jetpack_myjetpack_product_card_activate_standalone_plugin_click",{product:p}),B()},[p,B,E]),oe=(0,a.useCallback)(()=>{E("jetpack_myjetpack_product_card_deactivate_standalone_plugin_click",{product:p}),Z()},[p,Z,E]);return(0,r.jsxs)(u.Z,{title:U,className:d()(v.Z.container,Y),headerRightContent:V&&(0,r.jsx)(C,{items:z,showActivate:F,showDeactivate:G,onActivate:se,onDeactivate:oe,showInstall:Q,onInstall:te}),children:[(0,r.jsx)(x,{}),M?(0,r.jsx)("span",{className:v.Z.loading,children:m("Loading\u2026","jetpack-my-jetpack")}):H,(0,r.jsxs)("div",{className:v.Z.actions,children:[(0,r.jsx)(t.Z,{...T,onActivate:q,onFixConnection:ne,onManage:ee,onAdd:$,onLearnMore:ae,className:v.Z.button,additionalActions:K}),!W&&(0,r.jsx)(k.Z,{status:R,isFetching:f,isInstallingStandalone:S,isDeactivatingStandalone:w})]})]})};h.displayName="ProductCard",h.propTypes={children:e().node,name:e().string.isRequired,Description:e().func.isRequired,admin:e().bool.isRequired,isFetching:e().bool,isInstallingStandalone:e().bool,isDeactivatingStandalone:e().bool,isManageDisabled:e().bool,onActivate:e().func,slug:e().string.isRequired,showMenu:e().bool,showActivateOption:e().bool,showDeactivateOption:e().bool,showInstallOption:e().bool,menuItems:e().arrayOf(e().shape({label:e().string,icon:e().node,onClick:e().func})),additionalActions:e().array,onInstallStandalone:e().func,onActivateStandalone:e().func,onDeactivateStandalone:e().func,status:e().oneOf([t.N.ACTIVE,t.N.INACTIVE,t.N.ERROR,t.N.ABSENT,t.N.ABSENT_WITH_PLAN,t.N.NEEDS_PURCHASE,t.N.NEEDS_PURCHASE_OR_FREE,t.N.CAN_UPGRADE]).isRequired},h.defaultProps={isFetching:!1,isInstallingStandalone:!1,isDeactivatingStandalone:!1,onActivate:()=>{},showMenu:!1,showActivateOption:!1,showDeactivateOption:!1,showInstallOption:!1,menuItems:[]},h.__docgenInfo={description:"",methods:[],displayName:"ProductCard",props:{isFetching:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},isInstallingStandalone:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},isDeactivatingStandalone:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},onActivate:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},showMenu:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},showActivateOption:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},showDeactivateOption:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},showInstallOption:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},menuItems:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"shape",value:{label:{name:"string",required:!1},icon:{name:"node",required:!1},onClick:{name:"func",required:!1}}}},required:!1},children:{description:"",type:{name:"node"},required:!1},name:{description:"",type:{name:"string"},required:!0},Description:{description:"",type:{name:"func"},required:!0},admin:{description:"",type:{name:"bool"},required:!0},isManageDisabled:{description:"",type:{name:"bool"},required:!1},slug:{description:"",type:{name:"string"},required:!0},additionalActions:{description:"",type:{name:"array"},required:!1},onInstallStandalone:{description:"",type:{name:"func"},required:!1},onActivateStandalone:{description:"",type:{name:"func"},required:!1},onDeactivateStandalone:{description:"",type:{name:"func"},required:!1},status:{description:"",type:{name:"enum",value:[{value:"PRODUCT_STATUSES.ACTIVE",computed:!0},{value:"PRODUCT_STATUSES.INACTIVE",computed:!0},{value:"PRODUCT_STATUSES.ERROR",computed:!0},{value:"PRODUCT_STATUSES.ABSENT",computed:!0},{value:"PRODUCT_STATUSES.ABSENT_WITH_PLAN",computed:!0},{value:"PRODUCT_STATUSES.NEEDS_PURCHASE",computed:!0},{value:"PRODUCT_STATUSES.NEEDS_PURCHASE_OR_FREE",computed:!0},{value:"PRODUCT_STATUSES.CAN_UPGRADE",computed:!0}]},required:!0}}};const N=h},"../../packages/my-jetpack/_inc/components/product-card/status.jsx":(I,P,n)=>{n.d(P,{Z:()=>e});var _=n("../components/components/text/index.tsx"),g=n("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),i=n.n(g),l=n("../../packages/my-jetpack/_inc/components/product-card/action-button.jsx"),o=n("../../packages/my-jetpack/_inc/components/product-card/style.module.scss"),y=n("../../packages/my-jetpack/_inc/components/product-card/index.jsx"),A=n("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const d=a=>{switch(a){case l.N.ACTIVE:case l.N.CAN_UPGRADE:return o.Z.active;case l.N.INACTIVE:case l.N.NEEDS_PURCHASE:case l.N.NEEDS_PURCHASE_OR_FREE:return o.Z.inactive;case l.N.ERROR:return o.Z.error;default:return""}},j=({status:a,isFetching:s,isInstallingStandalone:c,isDeactivatingStandalone:u})=>{const t=y.bY[a],k=i()(o.Z.status,d(a),{[o.Z["is-fetching"]]:s||c||u});return(0,A.jsx)(_.ZP,{variant:"label",className:k,children:t})};j.displayName="Status",j.__docgenInfo={description:"",methods:[],displayName:"Status"};const e=j},"../../packages/my-jetpack/_inc/hooks/use-analytics/index.js":(I,P,n)=>{n.d(P,{Z:()=>o});var _=n("../analytics/index.jsx"),g=n("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),i=n("../../packages/my-jetpack/_inc/hooks/use-my-jetpack-connection/index.js");const o=()=>{var h;const{isUserConnected:y,connectedPlugins:A,userConnectionData:d={}}=(0,i.Z)(),{login:j,ID:e}=((h=d.currentUser)==null?void 0:h.wpcomUser)||{};(0,g.useEffect)(()=>{y&&e&&j&&_.Z.initialize(e,j)},[e,y,j]);const a=Object.keys(A||{}).sort().join(",").replaceAll("jetpack-",""),{clearedIdentity:s,ga:c,mc:u,pageView:t,purchase:k,setGoogleAnalyticsEnabled:v,setMcAnalyticsEnabled:r,setProperties:m,tracks:O}=_.Z,C=(0,g.useCallback)((N,T)=>{var U;O.recordEvent(N,{...T,version:(U=window==null?void 0:window.myJetpackInitialState)==null?void 0:U.myJetpackVersion,referring_plugins:a})},[]);return{clearedIdentity:s,ga:c,mc:u,pageView:t,purchase:k,recordEvent:C,setGoogleAnalyticsEnabled:v,setMcAnalyticsEnabled:r,setProperties:m,tracks:O}}},"../../packages/my-jetpack/_inc/hooks/use-my-jetpack-connection/index.js":(I,P,n)=>{n.d(P,{Z:()=>g});var _=n("../connection/components/use-connection/index.jsx");function g(){const{apiRoot:i,apiNonce:l}=myJetpackRest,{topJetpackMenuItemUrl:o}=myJetpackInitialState,y=(0,_.Z)({apiRoot:i,apiNonce:l}),A=y.isRegistered;return{apiNonce:l,apiRoot:i,...y,isSiteConnected:A,topJetpackMenuItemUrl:o}}},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/my-jetpack/_inc/components/card/style.module.scss":(I,P,n)=>{n.d(P,{Z:()=>y});var _=n("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),g=n.n(_),i=n("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),l=n.n(i),o=l()(g());o.push([I.id,".pecv05IGfM82FIHp9Q4E{padding:calc(var(--spacing-base)*3);background:var(--jp-white);border:1px solid var(--jp-gray-5);border-radius:var(--jp-border-radius-rna);box-shadow:0 4px 12px 0px rgba(0,0,0,.06);height:100%;display:flex;flex-direction:column}.pecv05IGfM82FIHp9Q4E.jgcGPDlYaLnB6QcRWSWR{background:none;text-decoration:none;background-color:var(--jp-white-off);color:var(--jp-black-80)}.pecv05IGfM82FIHp9Q4E.jgcGPDlYaLnB6QcRWSWR:focus{box-shadow:0 0 0 1.5px var(--jp-black);background-color:var(--jp-white);outline:3px solid rgba(0,0,0,0)}.pecv05IGfM82FIHp9Q4E.Hv659vLLaZ8SaSWyxtAZ{box-shadow:0 0 0 1.5px var(--jp-red-60)}.i1rUritEO7pQO4fsj9PF{width:100%;display:flex;gap:var(--spacing-base);align-items:center;justify-content:space-between;margin-bottom:var(--spacing-base)}.i1rUritEO7pQO4fsj9PF h3{font-weight:700}.YP7299HZXBCUg1n1NUqU{display:flex;height:100%;gap:var(--spacing-base);align-items:center;flex-wrap:wrap-reverse}",""]),o.locals={container:"pecv05IGfM82FIHp9Q4E","is-link":"jgcGPDlYaLnB6QcRWSWR","has-error":"Hv659vLLaZ8SaSWyxtAZ",title:"i1rUritEO7pQO4fsj9PF",name:"YP7299HZXBCUg1n1NUqU"};const y=o}}]);})();
