"use strict";(()=>{var pt=Object.defineProperty;var mt=(r,s,e)=>s in r?pt(r,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[s]=e;var dt=(r,s,e)=>(mt(r,typeof s!="symbol"?s+"":s,e),e),q=(r,s,e)=>{if(!s.has(r))throw TypeError("Cannot "+e)};var n=(r,s,e)=>(q(r,s,"read from private field"),e?e.call(r):s.get(r)),T=(r,s,e)=>{if(s.has(r))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(r):s.set(r,e)},U=(r,s,e,c)=>(q(r,s,"write to private field"),c?c.call(r,e):s.set(r,e),e);var b=(r,s,e)=>(q(r,s,"access private method"),e);(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[5462],{"../../packages/my-jetpack/_inc/components/connected-product-card/stories/index.stories.jsx":(r,s,e)=>{var m,I,B;e.r(s),e.d(s,{Default:()=>i,__namedExportsOrder:()=>A,default:()=>p});var c=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),h=e("../../../node_modules/.pnpm/react-router-dom@6.6.2_react-dom@18.2.0_react@18.2.0/node_modules/react-router-dom/dist/index.js"),g=e("../../../node_modules/.pnpm/react-router@6.6.2_react@18.2.0/node_modules/react-router/dist/index.js"),d=e("../../packages/my-jetpack/_inc/components/connected-product-card/index.jsx"),C=e("../../packages/my-jetpack/_inc/state/store.js"),E=e("../../packages/my-jetpack/_inc/components/product-card/action-button.jsx"),O=e("../../packages/my-jetpack/_inc/components/product-detail-card/stories/utils.js"),y=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js"),w=`/* eslint-disable react/react-in-jsx-scope */

import React from 'react';
import { HashRouter, Routes, Route } from 'react-router-dom';
import ConnectedProductCard from '../';
import { initStore } from '../../../state/store';
import { PRODUCT_STATUSES } from '../../product-card';
import { getAllMockData, getProductSlugs } from '../../product-detail-card/stories/utils.js';

// Set myJetpackRest global var.
window.myJetpackRest = {};

const mockData = getAllMockData();

initStore();

export default {
	title: 'Packages/My Jetpack/Connected Product Card',
	component: ConnectedProductCard,
	argTypes: {
		slug: {
			options: getProductSlugs(),
			control: { type: 'select' },
		},
		status: {
			options: Object.values( PRODUCT_STATUSES ),
			control: { type: 'select' },
		},
	},
};

const Template = args => (
	<HashRouter>
		<Routes>
			<Route path="/" element={ <ConnectedProductCard { ...args } /> } />
		</Routes>
	</HashRouter>
);

export const Default = Template.bind( {} );
Default.parameters = { mockData };
Default.args = {
	admin: false,
	slug: 'backup',
};
`,f={Default:{startLoc:{col:17,line:32},endLoc:{col:1,line:38},startBody:{col:17,line:32},endBody:{col:1,line:38}}};window.myJetpackRest={};const D=(0,O.As)();(0,C.N)();const p={parameters:{storySource:{source:`

import React from 'react';
import { HashRouter, Routes, Route } from 'react-router-dom';
import ConnectedProductCard from '../';
import { initStore } from '../../../state/store';
import { PRODUCT_STATUSES } from '../../product-card';
import { getAllMockData, getProductSlugs } from '../../product-detail-card/stories/utils.js';

// Set myJetpackRest global var.
window.myJetpackRest = {};

const mockData = getAllMockData();

initStore();

export default {
	title: 'Packages/My Jetpack/Connected Product Card',
	component: ConnectedProductCard,
	argTypes: {
		slug: {
			options: getProductSlugs(),
			control: { type: 'select' },
		},
		status: {
			options: Object.values( PRODUCT_STATUSES ),
			control: { type: 'select' },
		},
	},
};

const Template = args => (
	<HashRouter>
		<Routes>
			<Route path="/" element={ <ConnectedProductCard { ...args } /> } />
		</Routes>
	</HashRouter>
);

export const Default = Template.bind( {} );
Default.parameters = { mockData };
Default.args = {
	admin: false,
	slug: 'backup',
};
`,locationsMap:{default:{startLoc:{col:17,line:32},endLoc:{col:1,line:38},startBody:{col:17,line:32},endBody:{col:1,line:38}}}}},title:"Packages/My Jetpack/Connected Product Card",component:d.Z,argTypes:{slug:{options:(0,O.h7)(),control:{type:"select"}},status:{options:Object.values(E.N),control:{type:"select"}}}},v=l=>(0,y.jsx)(h.UT,{children:(0,y.jsx)(g.Z5,{children:(0,y.jsx)(g.AW,{path:"/",element:(0,y.jsx)(d.Z,{...l})})})});v.displayName="Template";const i=v.bind({});i.parameters={mockData:D},i.args={admin:!1,slug:"backup"},i.parameters={...i.parameters,docs:{...(m=i.parameters)==null?void 0:m.docs,source:{originalSource:`args => <HashRouter>
        <Routes>
            <Route path="/" element={<ConnectedProductCard {...args} />} />
        </Routes>
    </HashRouter>`,...(B=(I=i.parameters)==null?void 0:I.docs)==null?void 0:B.source}}};const A=["Default"]},"../../../node_modules/.pnpm/@tanstack+react-query@5.20.5_react@18.2.0/node_modules/@tanstack/react-query/build/modern/useMutation.js":(r,s,e)=>{var p,v,i,A,m,N,B,l,P,_,j,S,Y,W,tt,L;e.d(s,{D:()=>f});var c=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),h=(B=class extends null{constructor(t){super();T(this,m);T(this,p,void 0);T(this,v,void 0);T(this,i,void 0);T(this,A,void 0);this.mutationId=t.mutationId,U(this,v,t.defaultOptions),U(this,i,t.mutationCache),U(this,p,[]),this.state=t.state||g(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...n(this,v),...t},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){n(this,p).includes(t)||(n(this,p).push(t),this.clearGcTimeout(),n(this,i).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){U(this,p,n(this,p).filter(a=>a!==t)),this.scheduleGc(),n(this,i).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){n(this,p).length||(this.state.status==="pending"?this.scheduleGc():n(this,i).remove(this))}continue(){var t,a;return(a=(t=n(this,A))==null?void 0:t.continue())!=null?a:this.execute(this.state.variables)}async execute(t){var x,K,M,J,H,Z,R,F,G,$,V,et,st,nt,ot,at,rt,it,ct,ut;const a=()=>{var k;return U(this,A,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(z,lt)=>{b(this,m,N).call(this,{type:"failed",failureCount:z,error:lt})},onPause:()=>{b(this,m,N).call(this,{type:"pause"})},onContinue:()=>{b(this,m,N).call(this,{type:"continue"})},retry:(k=this.options.retry)!=null?k:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),n(this,A).promise},o=this.state.status==="pending";try{if(!o){b(this,m,N).call(this,{type:"pending",variables:t}),await((K=(x=n(this,i).config).onMutate)==null?void 0:K.call(x,t,this));const z=await((J=(M=this.options).onMutate)==null?void 0:J.call(M,t));z!==this.state.context&&b(this,m,N).call(this,{type:"pending",context:z,variables:t})}const k=await a();return await((Z=(H=n(this,i).config).onSuccess)==null?void 0:Z.call(H,k,t,this.state.context,this)),await((F=(R=this.options).onSuccess)==null?void 0:F.call(R,k,t,this.state.context)),await(($=(G=n(this,i).config).onSettled)==null?void 0:$.call(G,k,null,this.state.variables,this.state.context,this)),await((et=(V=this.options).onSettled)==null?void 0:et.call(V,k,null,t,this.state.context)),b(this,m,N).call(this,{type:"success",data:k}),k}catch(k){try{throw await((nt=(st=n(this,i).config).onError)==null?void 0:nt.call(st,k,t,this.state.context,this)),await((at=(ot=this.options).onError)==null?void 0:at.call(ot,k,t,this.state.context)),await((it=(rt=n(this,i).config).onSettled)==null?void 0:it.call(rt,void 0,k,this.state.variables,this.state.context,this)),await((ut=(ct=this.options).onSettled)==null?void 0:ut.call(ct,void 0,k,t,this.state.context)),k}finally{b(this,m,N).call(this,{type:"error",error:k})}}}},p=new WeakMap,v=new WeakMap,i=new WeakMap,A=new WeakMap,m=new WeakSet,N=function(t){const a=o=>{switch(t.type){case"failed":return{...o,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!canFetch(this.options.networkMode),status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...o,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:t.error,failureCount:o.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=a(this.state),notifyManager.batch(()=>{n(this,p).forEach(o=>{o.onMutationUpdate(t)}),n(this,i).notify({mutation:this,type:"updated",action:t})})},B);function g(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var d=e("../../../node_modules/.pnpm/@tanstack+query-core@5.20.5/node_modules/@tanstack/query-core/build/modern/notifyManager.js"),C=e("../../../node_modules/.pnpm/@tanstack+query-core@5.20.5/node_modules/@tanstack/query-core/build/modern/subscribable.js"),E=e("../../../node_modules/.pnpm/@tanstack+query-core@5.20.5/node_modules/@tanstack/query-core/build/modern/utils.js"),O=(L=class extends C.l{constructor(t,a){super();T(this,S);T(this,W);T(this,l,void 0);T(this,P,void 0);T(this,_,void 0);T(this,j,void 0);U(this,l,t),this.setOptions(a),this.bindMethods(),b(this,S,Y).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var o;const a=this.options;this.options=n(this,l).defaultMutationOptions(t),(0,E.VS)(a,this.options)||n(this,l).getMutationCache().notify({type:"observerOptionsUpdated",mutation:n(this,_),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&(0,E.Ym)(a.mutationKey)!==(0,E.Ym)(this.options.mutationKey)?this.reset():(o=n(this,_))==null||o.setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=n(this,_))==null||t.removeObserver(this)}onMutationUpdate(t){b(this,S,Y).call(this),b(this,W,tt).call(this,t)}getCurrentResult(){return n(this,P)}reset(){var t;(t=n(this,_))==null||t.removeObserver(this),U(this,_,void 0),b(this,S,Y).call(this),b(this,W,tt).call(this)}mutate(t,a){var o;return U(this,j,a),(o=n(this,_))==null||o.removeObserver(this),U(this,_,n(this,l).getMutationCache().build(n(this,l),this.options)),n(this,_).addObserver(this),n(this,_).execute(t)}},l=new WeakMap,P=new WeakMap,_=new WeakMap,j=new WeakMap,S=new WeakSet,Y=function(){var a,o;const t=(o=(a=n(this,_))==null?void 0:a.state)!=null?o:g();U(this,P,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},W=new WeakSet,tt=function(t){d.V.batch(()=>{var a,o,x,K,M,J,H,Z;if(n(this,j)&&this.hasListeners()){const R=n(this,P).variables,F=n(this,P).context;(t==null?void 0:t.type)==="success"?((o=(a=n(this,j)).onSuccess)==null||o.call(a,t.data,R,F),(K=(x=n(this,j)).onSettled)==null||K.call(x,t.data,null,R,F)):(t==null?void 0:t.type)==="error"&&((J=(M=n(this,j)).onError)==null||J.call(M,t.error,R,F),(Z=(H=n(this,j)).onSettled)==null||Z.call(H,void 0,t.error,R,F))}this.listeners.forEach(R=>{R(n(this,P))})})},L),y=e("../../../node_modules/.pnpm/@tanstack+react-query@5.20.5_react@18.2.0/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js"),w=e("../../../node_modules/.pnpm/@tanstack+react-query@5.20.5_react@18.2.0/node_modules/@tanstack/react-query/build/modern/utils.js");function f(u,t){const a=(0,y.NL)(t),[o]=c.useState(()=>new O(a,u));c.useEffect(()=>{o.setOptions(u)},[o,u]);const x=c.useSyncExternalStore(c.useCallback(M=>o.subscribe(d.V.batchCalls(M)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),K=c.useCallback((M,J)=>{o.mutate(M,J).catch(D)},[o]);if(x.error&&(0,w.L)(o.options.throwOnError,[x.error]))throw x.error;return{...x,mutate:K,mutateAsync:x.mutate}}function D(){}},"../../../node_modules/.pnpm/@wordpress+icons@9.43.0_react@18.2.0/node_modules/@wordpress/icons/build-module/library/check.js":(r,s,e)=>{e.d(s,{Z:()=>d});var c=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),h=e("../../../node_modules/.pnpm/@wordpress+primitives@3.50.0/node_modules/@wordpress/primitives/build-module/svg/index.js");const d=(0,c.createElement)(h.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(h.y$,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"}))},"../../../node_modules/.pnpm/@wordpress+icons@9.43.0_react@18.2.0/node_modules/@wordpress/icons/build-module/library/chevron-down.js":(r,s,e)=>{e.d(s,{Z:()=>d});var c=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),h=e("../../../node_modules/.pnpm/@wordpress+primitives@3.50.0/node_modules/@wordpress/primitives/build-module/svg/index.js");const d=(0,c.createElement)(h.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,c.createElement)(h.y$,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"}))},"../../packages/my-jetpack/_inc/components/connected-product-card/index.jsx":(r,s,e)=>{e.d(s,{Z:()=>B});var c=e("../components/components/text/index.tsx"),h=e("../connection/components/use-connection/index.jsx"),g=e("../../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js"),d=e.n(g),C=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),E=e("../../packages/my-jetpack/_inc/data/products/use-activate.ts"),O=e("../../../node_modules/.pnpm/@wordpress+i18n@4.52.0/node_modules/@wordpress/i18n/build-module/index.js"),y=e("../../packages/my-jetpack/_inc/data/constants.ts"),w=e("../../packages/my-jetpack/_inc/data/use-simple-mutation.ts"),f=e("../../packages/my-jetpack/_inc/data/products/use-product.ts");const D=O.__,v=l=>{const{detail:P,refetch:_}=(0,f.Z)(l),{mutate:j,isPending:S}=(0,w.Z)("installPlugin",{path:`${y.Jk}/${l}/install-standalone`,method:"POST"},{onSuccess:_},null,(0,O.gB)(D("Failed to install standalone plugin for %1$s. Please try again","jetpack-my-jetpack"),P.name));return{install:j,isPending:S}};var i=e("../../packages/my-jetpack/_inc/hooks/use-my-jetpack-navigate/index.js"),A=e("../../packages/my-jetpack/_inc/components/product-card/index.jsx"),m=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const I=({admin:l,slug:P,children:_,isDataLoading:j,Description:S=null,additionalActions:X=null,secondaryAction:W=null,upgradeInInterstitial:Q=!1,primaryActionOverride:L})=>{const{isRegistered:u,isUserConnected:t}=(0,h.Z)(),{install:a,isPending:o}=v(P),{activate:x,isPending:K}=(0,E.Z)(P),{detail:M}=(0,f.Z)(P),{name:J,description:H,requiresUserConnection:Z,status:R}=M,F=(0,i.Z)("/connection"),G=(0,C.useCallback)(()=>{if((!u||!t)&&Z){F();return}x()},[x,u,t,Z,F]),$=()=>{const V=H.replace(/\s(?=[^\s]*$)/,"\xA0");return(0,m.jsx)(c.ZP,{variant:"body-small",style:{flexGrow:1},children:V})};return(0,m.jsx)(A.ZP,{name:J,Description:S||$,status:R,admin:l,isFetching:K||o,isDataLoading:j,isInstallingStandalone:o,additionalActions:X,primaryActionOverride:L,secondaryAction:W,slug:P,onActivate:G,onInstallStandalone:a,onActivateStandalone:a,upgradeInInterstitial:Q,children:_})};I.displayName="ConnectedProductCard",I.propTypes={children:d().node,admin:d().bool.isRequired,slug:d().string.isRequired,isDataLoading:d().bool,additionalActions:d().array,primaryActionOverride:d().object,secondaryAction:d().object};const B=I;I.__docgenInfo={description:"",methods:[],displayName:"ConnectedProductCard",props:{Description:{defaultValue:{value:"null",computed:!1},required:!1},additionalActions:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"array"},required:!1},secondaryAction:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"object"},required:!1},upgradeInInterstitial:{defaultValue:{value:"false",computed:!1},required:!1},children:{description:"",type:{name:"node"},required:!1},admin:{description:"",type:{name:"bool"},required:!0},slug:{description:"",type:{name:"string"},required:!0},isDataLoading:{description:"",type:{name:"bool"},required:!1},primaryActionOverride:{description:"",type:{name:"object"},required:!1}}}},"../../packages/my-jetpack/_inc/components/product-detail-card/stories/utils.js":(r,s,e)=>{e.d(s,{As:()=>p,TN:()=>D,h7:()=>v});const f={"anti-spam":{slug:"anti-spam",name:"Anti-Spam",title:"Jepack Anti-Spam",description:"Stop comment and form spam",is_upgradable_by_bundle:["security"],long_description:"Save time and get better responses by automatically blocking spam from your comments and forms.",status:"active",features:["Comment and form spam protection","Powered by Akismet","Block spam without CAPTCHAs","Advanced stats"],pricingForUi:{currency_code:"USD",full_price:119,discount_price:59}},backup:{slug:"backup",name:"Backup",title:"Jepack Backup",description:"Save every change",is_upgradable_by_bundle:["security"],long_description:"Never lose a word, image, page, or time worrying about your site with automated backups & one-click restores.",status:"active",features:["Real-time cloud backups","10GB of backup storage","30-day archive & activity log","One-click restores"],pricingForUi:{currency_code:"USD",full_price:119,discount_price:59}},boost:{slug:"boost",name:"Boost",title:"Jepack Boost",description:"Instant speed and SEO",long_description:"Jetpack Boost gives your site the same performance advantages as the world\u2019s leading websites, no developer required.",status:"inactive",features:["Check your site performance","Enable improvements in one click","Standalone free plugin for those focused on speed"],pricingForUi:{available:!0,is_free:!0}},crm:{slug:"crm",name:"CRM",title:"Jetpack CRM",description:"Connect with your people",long_description:"All of your contacts in one place. Build better relationships with your customers and clients.",status:"inactive",features:["Manage unlimited contacts","Manage billing and create invoices","Fully integrated with WordPress & WooCommerce","Infinitely customizable with integrations and extensions"],pricingForUi:{available:!0,is_free:!0}},extras:{slug:"extras",name:"Extras",title:"Jetpack Extras",description:"Basic tools for a successful site",long_description:"Secure and speed up your site for free with Jetpack's powerful WordPress tools.",status:"active",features:["Measure your impact with beautiful stats","Speed up your site with optimized images","Protect your site against bot attacks","Get notifications if your site goes offline","Enhance your site with dozens of other features"],pricingForUi:{available:!0,is_free:!0}},scan:{slug:"scan",name:"Scan",title:"Jepack Scan",description:"Stay one step ahead of threats",is_upgradable_by_bundle:["security"],long_description:"Automatic scanning and one-click fixes keep your site one step ahead of security threats and malware.",status:"inactive",features:["Automated daily scanning","One-click fixes for most issues","Instant email notifications","Access to latest Firewall rules"],pricingForUi:{currency_code:"USD",full_price:119,discount_price:59}},search:{slug:"search",name:"Search",title:"Jetpack Search",description:"Help them find what they need",long_description:"Help your site visitors find answers instantly so they keep reading and buying. Great for sites with a lot of content.",status:"inactive",features:["Instant search and indexing","Powerful filtering","Supports 38 languages","Spelling correction"],pricingForUi:{currency_code:"USD",full_price:59.95,discount_price:29.975,coupon_discount:50}},security:{slug:"security",name:"Security",title:"Security",description:"Comprehensive site security, including Backup, Scan, and Anti-spam.",long_description:"Comprehensive site security, including Backup, Scan, and Anti-spam.",status:"inactive",is_bundle:!0,supportedProducts:["backup","scan","anti-spam"],features:["Real-time cloud backups with 10GB storage","Automated real-time malware scan","One-click fixes for most threats","Comment & form spam protection"],pricingForUi:{currency_code:"USD",full_price:299,discount_price:149}},videopress:{slug:"videopress",name:"VideoPress",title:"Jetpack Site VideoPress",description:"High quality, ad-free video",long_description:"High-quality, ad-free video built specifically for WordPress.",status:"inactive",features:["1TB of storage","Built into WordPress editor","Ad-free and customizable player","Unlimited users"],pricingForUi:{currency_code:"USD",full_price:119,discount_price:59}}};function D(i){const m=i.constructor===Array?i:[i],I=m.map(l=>({url:`my-jetpack/v1/site/products/${l}?_locale=user`,method:"GET",status:200,response:f[l]})),B=m.map(l=>({url:`my-jetpack/v1/site/products/${l}?_locale=user`,method:"POST",status:200,response:{...f[l],status:f[l].status==="active"?"inactive":"active"}}));return[...I,...B]}function p(){return D([...Object.keys(f)])}function v(){return["anti-spam","backup","boost","crm","extras","scan","search","videopress"]}},"../../packages/my-jetpack/_inc/hooks/use-my-jetpack-navigate/index.js":(r,s,e)=>{e.d(s,{Z:()=>g});var c=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),h=e("../../../node_modules/.pnpm/react-router@6.6.2_react@18.2.0/node_modules/react-router/dist/index.js");function g(d){const C=(0,h.s0)();return(0,c.useCallback)(()=>C(d),[C,d])}},"../../packages/my-jetpack/_inc/state/store.js":(r,s,e)=>{e.d(s,{N:()=>Q});const c="SET_STATS_COUNTS_IS_FETCHING",h="SET_STATS_COUNTS",C={setStatsCounts:u=>({type:h,statsCounts:u}),setStatsCountsIsFetching:u=>({type:c,isFetching:u})};var E=e("../../../node_modules/.pnpm/@wordpress+data@9.22.0_react@18.2.0/node_modules/@wordpress/data/build-module/index.js");const O=(u={})=>u,y=(u={},t)=>{switch(t.type){case c:return{...u,isFetching:t.isFetching};case h:return{...u,data:(t==null?void 0:t.statsCounts)||{}};default:return u}},f=(0,E.UY)({plugins:O,statsCounts:y});var D=e("../connection/state/store.jsx"),p=e("../../../node_modules/.pnpm/@wordpress+api-fetch@6.49.0/node_modules/@wordpress/api-fetch/build-module/index.js");const v="jetpack/v4/stats-app",i=u=>`${v}/sites/${u}/stats/highlights`,m={...{getStatsCounts:()=>async u=>{const{dispatch:t,registry:a}=u;t.setStatsCountsIsFetching(!0);const o=a.select(D.t).getBlogId();try{t.setStatsCounts(await(0,p.Z)({path:i(o)})),t.setStatsCountsIsFetching(!1)}catch(x){t.setStatsCountsIsFetching(!1)}}}},_={...{getStatsCounts:u=>{var t;return(t=u.statsCounts)==null?void 0:t.data},isFetchingStatsCounts:u=>{var t;return((t=u.statsCounts)==null?void 0:t.isFetching)||!1}}};var j=e("../../../node_modules/.pnpm/@wordpress+data@9.22.0_react@18.2.0/node_modules/@wordpress/data/build-module/redux-store/index.js");const L=class{static mayBeInit(t,a){L.store===null&&(L.store=(0,j.Z)(t,a),(0,E.z2)(L.store))}};let S=L;dt(S,"store",null);const X=S,W="my-jetpack";function Q(){X.mayBeInit(W,{__experimentalUseThunks:!0,reducer:f,actions:C,selectors:_,resolvers:m,initialState:window.myJetpackInitialState||{}})}},"../../packages/my-jetpack/_inc/data/products/use-activate.ts":(r,s,e)=>{e.d(s,{Z:()=>O});var c=e("../../../node_modules/.pnpm/@wordpress+i18n@4.52.0/node_modules/@wordpress/i18n/build-module/index.js"),h=e("../../packages/my-jetpack/_inc/data/constants.ts"),g=e("../../packages/my-jetpack/_inc/data/use-simple-mutation.ts"),d=e("../../packages/my-jetpack/_inc/data/products/use-product.ts");const C=c.__,O=y=>{const{detail:w,refetch:f}=(0,d.Z)(y),{mutate:D,isPending:p}=(0,g.Z)("activateProduct",{path:`${h.Jk}/${y}`,method:"POST"},{onSuccess:f},null,(0,c.gB)(C("Failed to activate %1$s. Please try again","jetpack-my-jetpack"),w.name));return{activate:D,isPending:p}}},"../../packages/my-jetpack/_inc/data/use-simple-mutation.ts":(r,s,e)=>{e.d(s,{Z:()=>C});var c=e("../../../node_modules/.pnpm/@tanstack+react-query@5.20.5_react@18.2.0/node_modules/@tanstack/react-query/build/modern/useMutation.js"),h=e("../../../node_modules/.pnpm/@wordpress+api-fetch@6.49.0/node_modules/@wordpress/api-fetch/build-module/index.js"),g=e("../../packages/my-jetpack/_inc/data/notices/use-fetching-error-notice.ts");const C=(E,O,y,w,f)=>{const D=(0,c.D)({mutationKey:[E,w],mutationFn:()=>(0,h.Z)(O),...y}),{isError:p,isPending:v}=D;return(0,g.o)({infoName:E,isError:!v&&p,overrideMessage:f}),D}}}]);})();
