"use strict";(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[9430],{"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/stories/index.stories.tsx":(ne,B,e)=>{var i,u,C,$,f,d;e.r(B),e.d(B,{VideoHoverPreviewControlStory:()=>F,__namedExportsOrder:()=>_,_default:()=>X,default:()=>W});var S=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),V=e("../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx"),H=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js"),U=`import React, { useState } from 'react';
import PosterPanel, { VideoHoverPreviewControl } from '..';

export default {
	title: 'Packages/VideoPress/Block Editor/Poster Panel',
	component: PosterPanel,
	argTypes: {},
};

const DefaultTemplate = args => {
	const [ attributes, setAttributes ] = React.useState( {
		poster: args.poster,
		videoRatio: args.videoRatio,
		guid: args.guid,
	} );

	const setAttributesHandler = newAttributes => {
		setAttributes( { ...attributes, ...newAttributes } );
	};

	return (
		<PosterPanel
			attributes={ attributes }
			setAttributes={ setAttributesHandler }
			isGeneratingPoster={ false }
		/>
	);
};

export const _default = DefaultTemplate.bind( {} );
_default.args = {
	poster: 'https://jetpackme.files.wordpress.com/2018/04/cropped-jetpack-favicon-2018.png',
	videoRatio: 60,
	guid: 'ezoR6kzb',
};

const VideoHoverPreviewControlTemplate = args => {
	const [ previewOnHover, setPreviewOnHover ] = useState( true );
	const [ , setPreviewAt ] = useState( args.previewAtTime );
	const [ , setLoopDuraton ] = useState( args.loopDuration );
	const setPreviewAtHandler = newPreviewAt => {
		setPreviewAt( newPreviewAt );
		console.log( { newPreviewAt } ); // eslint-disable-line no-console
	};

	return (
		<VideoHoverPreviewControl
			{ ...args }
			previewOnHover={ previewOnHover }
			onPreviewAtTimeChange={ setPreviewAtHandler }
			onLoopDurationChange={ setLoopDuraton }
			onPreviewOnHoverChange={ setPreviewOnHover }
		/>
	);
};

export const VideoHoverPreviewControlStory = VideoHoverPreviewControlTemplate.bind( {} );
VideoHoverPreviewControlStory.args = {
	previewAtTime: 0,
	loopDuration: 2300,
	videoDuration: 80000, // 80 seconds
};

VideoHoverPreviewControlStory.storyName = 'VideoHoverPreviewControl';
`,x={_default:{startLoc:{col:24,line:8},endLoc:{col:1,line:21},startBody:{col:24,line:8},endBody:{col:1,line:21}},VideoHoverPreviewControlStory:{startLoc:{col:41,line:28},endLoc:{col:1,line:40},startBody:{col:41,line:28},endBody:{col:1,line:40}}};const W={parameters:{storySource:{source:`import React, { useState } from 'react';
import PosterPanel, { VideoHoverPreviewControl } from '..';
export default {
  title: 'Packages/VideoPress/Block Editor/Poster Panel',
  component: PosterPanel,
  argTypes: {}
};
const DefaultTemplate = args => {
  const [attributes, setAttributes] = React.useState({
    poster: args.poster,
    videoRatio: args.videoRatio,
    guid: args.guid
  });
  const setAttributesHandler = newAttributes => {
    setAttributes({
      ...attributes,
      ...newAttributes
    });
  };
  return <PosterPanel attributes={attributes} setAttributes={setAttributesHandler} isGeneratingPoster={false} />;
};
export const _default = DefaultTemplate.bind({});
_default.args = {
  poster: 'https://jetpackme.files.wordpress.com/2018/04/cropped-jetpack-favicon-2018.png',
  videoRatio: 60,
  guid: 'ezoR6kzb'
};
const VideoHoverPreviewControlTemplate = args => {
  const [previewOnHover, setPreviewOnHover] = useState(true);
  const [, setPreviewAt] = useState(args.previewAtTime);
  const [, setLoopDuraton] = useState(args.loopDuration);
  const setPreviewAtHandler = newPreviewAt => {
    setPreviewAt(newPreviewAt);
    console.log({
      newPreviewAt
    }); 
  };

  return <VideoHoverPreviewControl {...args} previewOnHover={previewOnHover} onPreviewAtTimeChange={setPreviewAtHandler} onLoopDurationChange={setLoopDuraton} onPreviewOnHoverChange={setPreviewOnHover} />;
};
export const VideoHoverPreviewControlStory = VideoHoverPreviewControlTemplate.bind({});
VideoHoverPreviewControlStory.args = {
  previewAtTime: 0,
  loopDuration: 2300,
  videoDuration: 80000 // 80 seconds
};

VideoHoverPreviewControlStory.storyName = 'VideoHoverPreviewControl';
_default.parameters = {
  ..._default.parameters,
  docs: {
    ..._default.parameters?.docs,
    source: {
      originalSource: "args => {\\n  const [attributes, setAttributes] = React.useState({\\n    poster: args.poster,\\n    videoRatio: args.videoRatio,\\n    guid: args.guid\\n  });\\n  const setAttributesHandler = newAttributes => {\\n    setAttributes({\\n      ...attributes,\\n      ...newAttributes\\n    });\\n  };\\n  return <PosterPanel attributes={attributes} setAttributes={setAttributesHandler} isGeneratingPoster={false} />;\\n}",
      ..._default.parameters?.docs?.source
    }
  }
};
VideoHoverPreviewControlStory.parameters = {
  ...VideoHoverPreviewControlStory.parameters,
  docs: {
    ...VideoHoverPreviewControlStory.parameters?.docs,
    source: {
      originalSource: "args => {\\n  const [previewOnHover, setPreviewOnHover] = useState(true);\\n  const [, setPreviewAt] = useState(args.previewAtTime);\\n  const [, setLoopDuraton] = useState(args.loopDuration);\\n  const setPreviewAtHandler = newPreviewAt => {\\n    setPreviewAt(newPreviewAt);\\n    console.log({\\n      newPreviewAt\\n    }); // eslint-disable-line no-console\\n  };\\n\\n  return <VideoHoverPreviewControl {...args} previewOnHover={previewOnHover} onPreviewAtTimeChange={setPreviewAtHandler} onLoopDurationChange={setLoopDuraton} onPreviewOnHoverChange={setPreviewOnHover} />;\\n}",
      ...VideoHoverPreviewControlStory.parameters?.docs?.source
    }
  }
};`,locationsMap:{default:{startLoc:{col:24,line:8},endLoc:{col:1,line:21},startBody:{col:24,line:8},endBody:{col:1,line:21}},"video-hover-preview-control-story":{startLoc:{col:41,line:28},endLoc:{col:1,line:40},startBody:{col:41,line:28},endBody:{col:1,line:40}}}}},title:"Packages/VideoPress/Block Editor/Poster Panel",component:V.ZP,argTypes:{}},Q=j=>{const[L,R]=S.useState({poster:j.poster,videoRatio:j.videoRatio,guid:j.guid}),z=J=>{R({...L,...J})};return(0,H.jsx)(V.ZP,{attributes:L,setAttributes:z,isGeneratingPoster:!1})};Q.displayName="DefaultTemplate";const X=Q.bind({});X.args={poster:"https://jetpackme.files.wordpress.com/2018/04/cropped-jetpack-favicon-2018.png",videoRatio:60,guid:"ezoR6kzb"};const re=j=>{const[L,R]=(0,S.useState)(!0),[,z]=(0,S.useState)(j.previewAtTime),[,J]=(0,S.useState)(j.loopDuration),de=ae=>{z(ae),console.log({newPreviewAt:ae})};return(0,H.jsx)(V.wj,{...j,previewOnHover:L,onPreviewAtTimeChange:de,onLoopDurationChange:J,onPreviewOnHoverChange:R})};re.displayName="VideoHoverPreviewControlTemplate";const F=re.bind({});F.args={previewAtTime:0,loopDuration:2300,videoDuration:8e4},F.storyName="VideoHoverPreviewControl",X.parameters={...X.parameters,docs:{...(i=X.parameters)==null?void 0:i.docs,source:{originalSource:`args => {
  const [attributes, setAttributes] = React.useState({
    poster: args.poster,
    videoRatio: args.videoRatio,
    guid: args.guid
  });
  const setAttributesHandler = newAttributes => {
    setAttributes({
      ...attributes,
      ...newAttributes
    });
  };
  return <PosterPanel attributes={attributes} setAttributes={setAttributesHandler} isGeneratingPoster={false} />;
}`,...(C=(u=X.parameters)==null?void 0:u.docs)==null?void 0:C.source}}},F.parameters={...F.parameters,docs:{...($=F.parameters)==null?void 0:$.docs,source:{originalSource:`args => {
  const [previewOnHover, setPreviewOnHover] = useState(true);
  const [, setPreviewAt] = useState(args.previewAtTime);
  const [, setLoopDuraton] = useState(args.loopDuration);
  const setPreviewAtHandler = newPreviewAt => {
    setPreviewAt(newPreviewAt);
    console.log({
      newPreviewAt
    }); // eslint-disable-line no-console
  };

  return <VideoHoverPreviewControl {...args} previewOnHover={previewOnHover} onPreviewAtTimeChange={setPreviewAtHandler} onLoopDurationChange={setLoopDuraton} onPreviewOnHoverChange={setPreviewOnHover} />;
}`,...(d=(f=F.parameters)==null?void 0:f.docs)==null?void 0:d.source}}};const _=["_default","VideoHoverPreviewControlStory"]},"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx":(ne,B,e)=>{var Ie;e.d(B,{wj:()=>we,ZP:()=>De});var S=e("../../../node_modules/.pnpm/@wordpress+block-editor@12.0.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/block-editor/build-module/index.js"),V=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/dropdown/index.js"),H=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/button/index.js"),U=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/navigable-container/menu.js"),x=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/menu-item/index.js"),W=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/spinner/index.js"),Q=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/sandbox/index.js"),X=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/notice/index.js"),re=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/toggle-control/index.js"),F=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/panel/body.js"),_=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),i=e("../../../node_modules/.pnpm/@wordpress+element@5.9.0/node_modules/@wordpress/element/build-module/create-interpolate-element.js"),u=e("../../../node_modules/.pnpm/@wordpress+i18n@4.32.0/node_modules/@wordpress/i18n/build-module/index.js"),C=e("../../../node_modules/.pnpm/@wordpress+icons@9.23.0/node_modules/@wordpress/icons/build-module/library/image.js"),$=e("../../../node_modules/.pnpm/@wordpress+icons@9.23.0/node_modules/@wordpress/icons/build-module/library/link-off.js"),f=e("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),d=e.n(f),j=e("../../packages/videopress/src/client/components/timestamp-control/index.tsx"),L=e("../../packages/videopress/src/client/lib/url/index.ts");function R(s){const t=Math.floor(s/36e5);let n=s-t*36e5;const m=Math.floor(n/6e4);n=n-m*6e4;const p=Math.floor(n/1e3);return[t,m,p].map(r=>r<10?`0${r}`:r).join(":")}const z="videopress-chapters-auto-generated";function J(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3599999e3;const n=extractVideoChapters(s);if(n.length===0)return null;let m=`WEBVTT
`;m+=`
`,m+=`NOTE
`,m+=`${z}
`,m+=`This file was auto-generated based on Video description.
`,m+=`For more information, see https://jetpack.com/support/jetpack-videopress/jetpack-videopress-customizing-your-videos/#adding-subtitles-captions-or-chapters-within-a-video
`;let p=1;for(const[r,a]of n.entries()){const P=r===0?"000":"001",y=r<n.length-1?n[r+1].startAt:R(t);m+=`
${p++}
${a.startAt}.${P} --> ${y}.000
${a.title}
`}return m}function de(s,t){const n=J(s,t);return n?new File([n],"chapters.vtt",{type:"text/vtt"}):null}var ae=e("../../../node_modules/.pnpm/@wordpress+core-data@6.9.0_react@18.2.0/node_modules/@wordpress/core-data/build-module/index.js"),fe=e("../../../node_modules/.pnpm/@wordpress+data@9.2.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-select/index.js");const pe={html:null,width:null,height:null,thumbnail_height:null,thumbnail_width:null,title:null,version:"1.0",type:"video",provider_name:"VideoPress",provider_url:"https://videopress.com"},xe=s=>(0,fe.Z)(t=>s?{preview:t(ae.h).getEmbedPreview(s)||pe,isRequestingEmbedPreview:t(ae.h).isRequestingEmbedPreview(s)||!1}:{preview:pe,isRequestingEmbedPreview:!1},[s]);var ce=e("../../../node_modules/.pnpm/@wordpress+compose@6.9.0_react@18.2.0/node_modules/@wordpress/compose/build-module/hooks/use-previous/index.js"),ue=e("../../../node_modules/.pnpm/debug@4.3.4/node_modules/debug/src/browser.js"),Ce=e.n(ue);const l=Ce()("videopress:use-video-player"),v=s=>{var n;const t=(n=s==null?void 0:s.current)==null?void 0:n.querySelector("iframe.components-sandbox");return t==null?void 0:t.contentWindow},b=(s,t,n)=>{let{initialTimePosition:m,wrapperElement:p,previewOnHover:r}=n;const[a,P]=(0,_.useState)(!1),y=(0,_.useRef)("not-rendered");function h(O){const{data:oe={},source:le}=O,{event:se}=(O==null?void 0:O.data)||{};if(se==="videopress_loading_state"&&oe.state==="loaded"&&(l("state: loaded"),y.current="loaded"),se==="videopress_playing"&&y.current==="loaded"&&(y.current="first-play",l("state: first-play detected"),r&&(l("pause video"),le.postMessage({event:"videopress_action_pause"},{targetOrigin:"*"}),typeof m!="undefined"&&(l("set position at time %o ",m),le.postMessage({event:"videopress_action_set_currenttime",currentTime:m/1e3},{targetOrigin:"*"}))),P(!0),y.current="ready"),se==="videopress_timeupdate"&&r){const he=oe.currentTimeMs,Se=r.atTime,I=r.atTime+r.duration;(he<Se||he>I)&&le.postMessage({event:"videopress_action_set_currenttime",currentTime:Se/1e3},{targetOrigin:"*"})}}const w=!!r,D=(0,ce.Z)(w),te=w&&!D,c=v(s);(0,_.useEffect)(()=>{const O=v(s);if(O&&!t)return l("player is ready to listen events"),O.addEventListener("message",h),()=>{O.removeEventListener("message",h)}},[s,t,te,r]);const E=(0,_.useCallback)(()=>{!c||!a||c.postMessage({event:"videopress_action_play"},"*")},[s,a,c]),M=(0,_.useCallback)(()=>{!c||!a||c.postMessage({event:"videopress_action_pause"},"*")},[s,a,c]);return(0,_.useEffect)(()=>{if(!(!p||!w))return p.addEventListener("mouseenter",E),p.addEventListener("mouseleave",M),()=>{p.removeEventListener("mouseenter",E),p.removeEventListener("mouseleave",M)}},[w,p,a]),(0,_.useEffect)(()=>{!a||!r||c&&c.postMessage({event:"videopress_action_set_currenttime",currentTime:r.atTime/1e3},{targetOrigin:"*"})},[r==null?void 0:r.atTime,a,c]),(0,_.useEffect)(()=>{!a||!r||c&&c.postMessage({event:"videopress_action_set_currenttime",currentTime:(r.atTime+r.duration)/1e3},{targetOrigin:"*"})},[r==null?void 0:r.duration,a,c]),{playerIsReady:a,play:E,pause:M}},A=null,G=["image"];var T=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/toolbar/toolbar-button/index.js"),N=e("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),me=e.n(N),_e=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/style.scss"),q={};q.insert="head",q.singleton=!1;var ee=me()(_e.Z,q);const Z=_e.Z.locals||{};var o=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const Y=u.__;function ie(s){let{poster:t,className:n}=s;const m=(0,i.Z)(Y("No custom Poster image selected.<help>You can upload or select an image from your media library to override the default video image.</help>","jetpack-videopress-pkg"),{help:(0,o.jsx)("p",{className:"poster-panel-control__help"})}),p=(0,i.Z)(Y("You are currently overriding the default Poster image.<help>Remove it if you want to use the default image generated by VideoPress.</help>","jetpack-videopress-pkg"),{help:(0,o.jsx)("p",{className:"poster-panel-control__help"})});return(0,o.jsx)("div",{className:n,children:t?p:m})}ie.displayName="VideoPosterCard";function ke(s){let{attributes:t,setAttributes:n,clientId:m}=s;const{poster:p}=t,r=P=>{n({poster:P.url})},a=()=>{n({poster:""})};return(0,o.jsx)(V.Z,{contentClassName:"dropdown-content",renderToggle:P=>{let{isOpen:y,onToggle:h}=P;return(0,o.jsx)(T.Z,{label:Y("Poster image","jetpack-videopress-pkg"),showTooltip:!0,"aria-expanded":y,"aria-haspopup":"true",onClick:h,icon:C.Z})},renderContent:P=>{let{onClose:y}=P;const h=`video-block__poster-image-description-${m}`;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(U.Z,{className:"poster-image-block-control__wrapper",children:[(0,o.jsx)(S.VA,{children:(0,o.jsx)(S.R,{title:Y("Select Poster Image","jetpack-videopress-pkg"),onSelect:w=>{r(w),y()},allowedTypes:G,render:w=>{let{open:D}=w;return(0,o.jsxs)(x.Z,{icon:C.Z,onClick:D,"aria-describedby":h,children:[Y("Open Media Library","jetpack-videopress-pkg"),(0,o.jsx)("p",{id:h,hidden:!0,children:p?(0,u.gB)(Y("The current poster image url is %s","jetpack-videopress-pkg"),p):Y("There is no poster image currently selected","jetpack-videopress-pkg")})]})}})}),(0,o.jsx)(ie,{poster:p,className:"current-media"}),!!p&&(0,o.jsx)(x.Z,{className:"poster-image-block-control__remove-button",variant:"tertiary",isDestructive:!0,onClick:()=>{a(),y()},icon:$.Z,children:Y("Remove and use default","jetpack-videopress-pkg")})]})})}})}ke.displayName="PosterImageBlockControl";try{ie.displayName="VideoPosterCard",ie.__docgenInfo={description:"Simple component that renders info about video poster.",displayName:"VideoPosterCard",props:{poster:{defaultValue:null,description:"",name:"poster",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/index.tsx#VideoPosterCard"]={docgenInfo:ie.__docgenInfo,name:"VideoPosterCard",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/index.tsx#VideoPosterCard"})}catch(s){}try{posterimageblockcontrol.displayName="posterimageblockcontrol",posterimageblockcontrol.__docgenInfo={description:"Poster image control react component.",displayName:"posterimageblockcontrol",props:{attributes:{defaultValue:null,description:"Block Attributes object.",name:"attributes",required:!0,type:{name:"VideoBlockAttributes"}},setAttributes:{defaultValue:null,description:"",name:"setAttributes",required:!0,type:{name:"VideoBlockSetAttributesProps"}},clientId:{defaultValue:null,description:"",name:"clientId",required:!1,type:{name:"string"}},privateEnabledForSite:{defaultValue:null,description:"",name:"privateEnabledForSite",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/index.tsx#posterimageblockcontrol"]={docgenInfo:posterimageblockcontrol.__docgenInfo,name:"posterimageblockcontrol",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/index.tsx#posterimageblockcontrol"})}catch(s){}var be=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/style.scss"),ve={};ve.insert="head",ve.singleton=!1;var Te=me()(be.Z,ve);const K=be.Z.locals||{},k=u.__,je=3*1e3,Ee=10*1e3,Oe=5*1e3,Ve=()=>{var s,t;return!!((t=(s=window==null?void 0:window.Jetpack_Editor_Initial_State)==null?void 0:s.available_blocks)!=null&&t["v6-video-frame-poster"])},Ae=[];if(window.videopressAjax){const s=new Blob([`var videopressAjax = ${JSON.stringify({...window.videopressAjax,context:"sandbox"})};`],{type:"text/javascript"});Ae.push(URL.createObjectURL(s),window.videopressAjax.bridgeUrl)}(Ie=window==null?void 0:window.videoPressEditorState)!=null&&Ie.playerBridgeUrl&&Ae.push(window.videoPressEditorState.playerBridgeUrl);function ye(s){let{clientId:t,attributes:n,setAttributes:m}=s;const p=`video-block__poster-image-description-${t}`,{poster:r}=n,a=(0,_.useCallback)(c=>{m({poster:c.url,posterData:{...n.posterData,type:"media-library",id:c.id,url:c.url}})},[n]),P=k("Select Poster Image","jetpack-videopress-pkg"),y=k("Replace Poster Image","jetpack-videopress-pkg"),h=(0,_.useRef)(null),w=Number(n==null?void 0:n.videoRatio)/100||9/16,[D,te]=(0,_.useState)(140);return(0,_.useEffect)(()=>{if(!r||!(h!=null&&h.current))return;const{current:c}=h,E=c==null?void 0:c.offsetWidth;E&&te(E*w)},[r,h,w]),(0,o.jsx)(V.Z,{contentClassName:"poster-panel__dropdown",placement:"top left",renderToggle:c=>{let{isOpen:E,onToggle:M}=c;return(0,o.jsx)(H.ZP,{ref:h,style:{backgroundImage:r?`url(${r})`:void 0,height:D,minHeight:D},className:`poster-panel__button ${r?"has-poster":""}`,variant:"secondary",onClick:M,"aria-expanded":E,children:(0,o.jsx)("span",{children:r?y:P})})},renderContent:c=>{let{onClose:E}=c;return(0,o.jsx)(U.Z,{className:"block-editor-media-replace-flow__media-upload-menu",children:(0,o.jsx)(S.VA,{children:(0,o.jsx)(S.R,{title:k("Select Poster Image","jetpack-videopress-pkg"),onSelect:M=>{a(M),E()},allowedTypes:G,render:M=>{let{open:O}=M;return(0,o.jsxs)(x.Z,{icon:C.Z,onClick:O,"aria-describedby":p,children:[k("Open Media Library","jetpack-videopress-pkg"),(0,o.jsx)("p",{id:p,hidden:!0,children:r?(0,u.gB)(k("The current poster image url is %s","jetpack-videopress-pkg"),r):k("There is no poster image currently selected","jetpack-videopress-pkg")})]})}})})})}})}ye.displayName="PosterDropdown";const Pe=s=>{var n;const t=(n=s==null?void 0:s.current)==null?void 0:n.querySelector("iframe.components-sandbox");return t==null?void 0:t.contentWindow};function Re(s){let{guid:t,isGeneratingPoster:n,atTime:m=.1,onVideoFrameSelect:p,duration:r}=s;const[a,P]=(0,_.useState)(m),y=(0,_.useRef)(null),h=(0,L.pg)(t,{autoplay:!0,muted:!0,controls:!1,loop:!1}),{preview:w={html:null},isRequestingEmbedPreview:D}=xe(h),{html:te}=w,{playerIsReady:c,pause:E}=b(y,D,{initialTimePosition:m});(0,_.useEffect)(()=>{c&&E()},[c,E]);const M=(0,_.useCallback)(O=>{const oe=Pe(y);oe==null||oe.postMessage({event:"videopress_action_set_currenttime",currentTime:O/1e3}),p(O)},[Pe,p]);return(0,o.jsxs)("div",{className:"poster-panel__frame-picker",children:[(0,o.jsxs)("div",{ref:y,className:d()("poster-panel__frame-picker__sandbox-wrapper",{"is-player-ready":c,"is-generating-poster":n}),children:[(!c||n)&&(0,o.jsx)(W.ZP,{}),(0,o.jsx)(Q.Z,{html:te,scripts:Ae})]}),n&&(0,o.jsx)(X.Z,{status:"info",className:"poster-panel__notice",isDismissible:!1,children:k("Generating video poster image. It may take a few seconds.","jetpack-videopress-pkg")}),(0,o.jsx)(j.ZP,{label:k("Video frame","jetpack-videopress-pkg"),help:k("Select the frame you want to use as poster image","jetpack-videopress-pkg"),disabled:D||n,max:r,value:a,wait:250,fineAdjustment:50,onChange:P,onDebounceChange:M})]})}Re.displayName="VideoFramePicker";function we(s){let{previewOnHover:t=!1,previewAtTime:n=0,loopDuration:m=Oe,videoDuration:p,onPreviewOnHoverChange:r,onPreviewAtTimeChange:a,onLoopDurationChange:P}=s;const y=!p,h=Math.max(p-je,0),[w,D]=(0,_.useState)(Math.min(Ee,p-n)),te=(w/10|0)/100,c=(0,i.Z)((0,u.gB)(k("Video duration: <em>%s</em>.","jetpack-videopress-pkg"),R(p)),{em:(0,o.jsx)("em",{})}),E=(0,i.Z)((0,u.gB)(k("Minimum: <em>%1$ss</em>. Maximum: <em>%2$ss</em>.","jetpack-videopress-pkg"),Math.min(je/1e3,te),te),{em:(0,o.jsx)("em",{})}),M=h===0,O=w<=je,oe=(0,_.useCallback)(le=>{a(le);const se=Math.min(Ee,p-le);D(se),m>se&&P(se)},[a,p,m,P]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(re.Z,{className:"poster-panel__preview-toggle",label:k("Video preview on hover","jetpack-videopress-pkg"),checked:t,onChange:r,disabled:!t&&y}),t&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(j.ZP,{label:k("Starting point","jetpack-videopress-pkg"),max:h,fineAdjustment:50,value:n,onDebounceChange:oe,wait:300,disabled:y||M,help:c}),(0,o.jsx)(j.ZP,{max:w,min:je,fineAdjustment:50,label:k("Loop duration","jetpack-videopress-pkg"),value:m,onDebounceChange:P,wait:300,help:E,disabled:y||O,marksEvery:1e3})]})]})}function De(s){var se,he,Se;let{attributes:t,setAttributes:n,isGeneratingPoster:m,videoBelongToSite:p}=s;const{poster:r,posterData:a}=t,P=t==null?void 0:t.duration,y=(a==null?void 0:a.type)==="video-frame",h=(a==null?void 0:a.previewOnHover)||!1,w=(he=(se=a==null?void 0:a.previewAtTime)!=null?se:a==null?void 0:a.atTime)!=null?he:0;let D=(Se=a==null?void 0:a.previewLoopDuration)!=null?Se:Oe;D>P-w&&(D=P-w);const te=()=>{n({poster:"",posterData:{...t.posterData,url:""}})},c=(0,_.useCallback)(I=>{n({posterData:{...t.posterData,type:I?"video-frame":"media-library"},poster:I?"":t.posterData.url||""})},[t]),E=(0,_.useCallback)(I=>{let ge={...t.posterData,previewOnHover:I};I&&(ge={previewAtTime:w,previewLoopDuration:D,...ge}),n({posterData:ge,controls:I?!1:t.controls})},[t]),M=(0,_.useCallback)(I=>{n({posterData:{...t.posterData,previewAtTime:I}})},[t]),O=(0,_.useCallback)(I=>{let ge=w;w+I>P&&(ge=P-I),n({posterData:{...t.posterData,previewLoopDuration:I,previewAtTime:ge}})},[t]),oe=I=>{n({posterData:{...t.posterData,type:"video-frame",atTime:I},poster:""})},le=Ve()?k("Poster and preview","jetpack-videopress-pkg"):k("Poster","jetpack-videopress-pkg");return(0,o.jsxs)(F.ZP,{title:le,className:"poster-panel",initialOpen:!1,children:[(0,o.jsx)(re.Z,{label:k("Pick from video frame","jetpack-videopress-pkg"),checked:y&&p,onChange:c,disabled:!p}),(0,o.jsx)("div",{className:d()("poster-panel__frame-wrapper",{"is-selected":y}),children:(0,o.jsx)(Re,{isGeneratingPoster:m,guid:t==null?void 0:t.guid,atTime:a==null?void 0:a.atTime,duration:P,onVideoFrameSelect:oe})}),(0,o.jsxs)("div",{className:d()("poster-panel__image-wrapper",{"is-selected":!y}),children:[(0,o.jsx)(ye,{attributes:t,setAttributes:n}),(0,o.jsx)(ie,{poster:r,className:"poster-panel-card"}),r&&(0,o.jsx)(x.Z,{onClick:te,icon:$.Z,isDestructive:!0,variant:"tertiary",children:k("Remove and use default","jetpack-videopress-pkg")})]}),Ve()&&(0,o.jsx)(we,{previewOnHover:h,previewAtTime:w,loopDuration:D,videoDuration:P,onPreviewOnHoverChange:E,onPreviewAtTimeChange:M,onLoopDurationChange:O})]})}De.displayName="PosterPanel";try{ye.displayName="PosterDropdown",ye.__docgenInfo={description:"Sidebar Control component.",displayName:"PosterDropdown",props:{attributes:{defaultValue:null,description:"Block Attributes object.",name:"attributes",required:!0,type:{name:"VideoBlockAttributes"}},setAttributes:{defaultValue:null,description:"",name:"setAttributes",required:!0,type:{name:"VideoBlockSetAttributesProps"}},clientId:{defaultValue:null,description:"",name:"clientId",required:!1,type:{name:"string"}},privateEnabledForSite:{defaultValue:null,description:"",name:"privateEnabledForSite",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#PosterDropdown"]={docgenInfo:ye.__docgenInfo,name:"PosterDropdown",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#PosterDropdown"})}catch(s){}try{we.displayName="VideoHoverPreviewControl",we.__docgenInfo={description:"React component to select the video preview options when the user hovers the video",displayName:"VideoHoverPreviewControl",props:{previewOnHover:{defaultValue:{value:"false"},description:"",name:"previewOnHover",required:!1,type:{name:"boolean"}},previewAtTime:{defaultValue:{value:"0"},description:"",name:"previewAtTime",required:!1,type:{name:"number"}},loopDuration:{defaultValue:{value:"5 * 1000"},description:"",name:"loopDuration",required:!1,type:{name:"number"}},videoDuration:{defaultValue:null,description:"",name:"videoDuration",required:!0,type:{name:"number"}},onPreviewOnHoverChange:{defaultValue:null,description:"",name:"onPreviewOnHoverChange",required:!0,type:{name:"(previewOnHover: boolean) => void"}},onPreviewAtTimeChange:{defaultValue:null,description:"",name:"onPreviewAtTimeChange",required:!0,type:{name:"(timestamp: number) => void"}},onLoopDurationChange:{defaultValue:null,description:"",name:"onLoopDurationChange",required:!0,type:{name:"(duration: number) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#VideoHoverPreviewControl"]={docgenInfo:we.__docgenInfo,name:"VideoHoverPreviewControl",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#VideoHoverPreviewControl"})}catch(s){}try{posterpanel.displayName="posterpanel",posterpanel.__docgenInfo={description:"Sidebar Control component.",displayName:"posterpanel",props:{attributes:{defaultValue:null,description:"Block Attributes object.",name:"attributes",required:!0,type:{name:"VideoBlockAttributes"}},setAttributes:{defaultValue:null,description:"",name:"setAttributes",required:!0,type:{name:"VideoBlockSetAttributesProps"}},clientId:{defaultValue:null,description:"",name:"clientId",required:!1,type:{name:"string"}},privateEnabledForSite:{defaultValue:null,description:"",name:"privateEnabledForSite",required:!1,type:{name:"boolean"}},isGeneratingPoster:{defaultValue:null,description:"",name:"isGeneratingPoster",required:!1,type:{name:"boolean"}},videoBelongToSite:{defaultValue:null,description:"",name:"videoBelongToSite",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#posterpanel"]={docgenInfo:posterpanel.__docgenInfo,name:"posterpanel",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#posterpanel"})}catch(s){}try{Pe.displayName="getIframeWindowFromRef",Pe.__docgenInfo={description:`Return the (content) Window object of the iframe,
given the iframe's ref.`,displayName:"getIframeWindowFromRef",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#getIframeWindowFromRef"]={docgenInfo:Pe.__docgenInfo,name:"getIframeWindowFromRef",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#getIframeWindowFromRef"})}catch(s){}},"../../packages/videopress/src/client/components/timestamp-control/index.tsx":(ne,B,e)=>{e.d(B,{ZP:()=>Ce});var S=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/base-control/index.js"),V=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/base-control/hooks.js"),H=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/number-control/index.js"),U=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/text-control/index.js"),x=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/range-control/index.js"),W=e("../../../node_modules/.pnpm/@wordpress+compose@6.9.0_react@18.2.0/node_modules/@wordpress/compose/build-module/hooks/use-instance-id/index.js"),Q=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),X=e("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),re=e.n(X);function F(l){const v=Math.floor(l/36e5),g=Math.floor(l/6e4)%60,b=Math.floor(l/1e3)%60,A=Math.floor(l/10)%100;return[v>0?v.toString().padStart(2,"0")+":":"",v>0||g>0?g.toString().padStart(2,"0")+":":"",b.toString().padStart(2,"0"),"."+A.toString().padStart(2,"0")].join("")}var _=e("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=e.n(_),u=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/components/timestamp-control/style.module.scss"),C={};C.insert="head",C.singleton=!1;var $=i()(u.Z,C);const f=u.Z.locals||{};var d=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function j(l){const{help:v,id:g,...b}=l,A=(0,W.Z)(S.ZP,"wp-components-base-control",g),G=typeof v=="string"?"aria-describedby":"aria-details";return{baseControlProps:{id:A,help:v,...b},controlProps:{id:A,...v?{[G]:`${A}__help`}:{}}}}const L=V.u||j,R=l=>{if(H.Z)return(0,d.jsx)(H.Z,{...l});const v={...l};return["spinControls","isPressEnterToChange","isDragEnabled","isShiftStepEnabled","__unstableStateReducer"].forEach(g=>delete v[g]),(0,d.jsx)(U.Z,{...v})};R.displayName="NumberControl";const z=l=>{let{char:v=":"}=l;return(0,d.jsx)("span",{className:f["timestamp-control-divider"],children:v})};z.displayName="TimeDivider";const J="CHANGE",de="COMMIT",ae="PRESS_DOWN",fe="PRESS_UP",pe=l=>(v,g)=>{const b={...v};return(g.type===de||g.type===fe||g.type===ae||g.type===J)&&b.value!==void 0&&(b.value=b.value.toString().padStart(l,"0")),b};function xe(l,v,g){l>g&&(l=g);const b=Number.isNaN(l),A=b||typeof v=="undefined"?0:Math.floor(l%1e3/+`1e${3-v}`);return{hh:b?0:Math.floor(l/(1e3*60*60)%24),mm:b?0:Math.floor(l/(1e3*60)%60),ss:b?0:Math.floor(l/1e3%60),decimal:A}}const ce=l=>{let{onChange:v,disabled:g,value:b,max:A,autoHideTimeInput:G=!0,decimalPlaces:T}=l;const N={value:xe(b,T,A)},me=A>60*60*1e3,_e=A>60*1e3,q=ee=>Z=>{if(typeof Z=="string"&&!isNaN(parseInt(Z,10))&&(Z=parseInt(Z,10)),ee==="hh"&&Z>99||(ee==="mm"||ee==="ss")&&Z>59||ee==="decimal"&&Z>+`1e${T}`-1||typeof Z=="string")return;N.value={...xe(b,T,A),[ee]:Z};const o=N.value.decimal?N.value.decimal*+`1e${3-T}`:0;v==null||v((N.value.hh*3600+N.value.mm*60+N.value.ss)*1e3+o)};return(0,d.jsxs)("div",{className:re()(f["timestamp-input-wrapper"],{[f["is-disabled"]]:g}),children:[(me||!G)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(R,{className:f["timestamp-control-input"],disabled:g,min:0,max:99,step:1,hideLabelFromVision:!0,spinControls:"none",placeholder:"00",isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,__unstableStateReducer:pe(2),value:String(N.value.hh).padStart(2,"0"),onChange:q("hh")}),(0,d.jsx)(z,{})]}),(_e||!G)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(R,{className:f["timestamp-control-input"],disabled:g,min:0,max:59,step:1,hideLabelFromVision:!0,spinControls:"none",placeholder:"00",isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,__unstableStateReducer:pe(2),value:String(N.value.mm).padStart(2,"0"),onChange:q("mm")}),(0,d.jsx)(z,{})]}),(0,d.jsx)(R,{className:f["timestamp-control-input"],disabled:g,min:0,max:59,step:1,hideLabelFromVision:!0,spinControls:"none",placeholder:"00",isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,__unstableStateReducer:pe(2),value:String(N.value.ss).padStart(2,"0"),onChange:q("ss")}),T&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(z,{char:"."}),(0,d.jsx)(R,{className:f["timestamp-control-input"],style:{"--input-width":`${12*T}px`},disabled:g,min:0,max:Number("9".repeat(T)),step:1,hideLabelFromVision:!0,spinControls:"none",placeholder:"0".repeat(T),isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,__unstableStateReducer:pe(T),value:String(N.value.decimal).padStart(T,"0"),onChange:q("decimal")})]})]})};ce.displayName="TimestampInput";const ue=l=>{const{disabled:v=!1,min:g=0,max:b=Number.MAX_SAFE_INTEGER,value:A,onChange:G,onDebounceChange:T,wait:N=1e3,fineAdjustment:me=50,autoHideTimeInput:_e=!0,decimalPlaces:q,marksEvery:ee,renderTooltip:Z}=l,o=(0,Q.useRef)(),[Y,ie]=(0,Q.useState)(A);(0,Q.useEffect)(()=>{ie(A)},[A]);const{baseControlProps:ke}=(L==null?void 0:L(l))||{},be=(0,Q.useCallback)(K=>{clearTimeout(o==null?void 0:o.current),K>b&&(K=b),K<g&&(K=g),ie(K),G==null||G(K),o.current=setTimeout(T==null?void 0:T.bind(null,K),N)},[T,G,b,g,N]),ve=[];if(ee)for(let K=g;K<=b;K+=ee)ve.push({value:K,label:null});const Te=typeof Z=="function"?Z:K=>F(K);return(0,d.jsx)(S.ZP,{...ke,children:(0,d.jsxs)("div",{className:f["timestamp-control__controls-wrapper"],children:[R&&(0,d.jsx)(ce,{disabled:v,max:b,value:Y,onChange:be,autoHideTimeInput:_e,decimalPlaces:q}),(0,d.jsx)(x.Z,{disabled:v,className:f["timestamp-range-control"],min:g,step:me,initialPosition:Y,value:Y,max:b,withInputField:!1,onChange:be,marks:ee?ve:void 0,renderTooltipContent:Te,...Z===!1?{showTooltip:!1}:{}})]})})};ue.displayName="TimestampControl";const Ce=ue;try{ce.displayName="TimestampInput",ce.__docgenInfo={description:"",displayName:"TimestampInput",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},fineAdjustment:{defaultValue:null,description:"",name:"fineAdjustment",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(ms: number) => void"}},autoHideTimeInput:{defaultValue:{value:"true"},description:"",name:"autoHideTimeInput",required:!1,type:{name:"boolean"}},decimalPlaces:{defaultValue:null,description:"",name:"decimalPlaces",required:!1,type:{name:"enum",value:[{value:"1"},{value:"2"},{value:"3"}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/components/timestamp-control/index.tsx#TimestampInput"]={docgenInfo:ce.__docgenInfo,name:"TimestampInput",path:"../../packages/videopress/src/client/components/timestamp-control/index.tsx#TimestampInput"})}catch(l){}try{ue.displayName="TimestampControl",ue.__docgenInfo={description:"TimestampControl component",displayName:"TimestampControl",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},fineAdjustment:{defaultValue:null,description:"",name:"fineAdjustment",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(ms: number) => void"}},autoHideTimeInput:{defaultValue:{value:"true"},description:"",name:"autoHideTimeInput",required:!1,type:{name:"boolean"}},decimalPlaces:{defaultValue:null,description:"",name:"decimalPlaces",required:!1,type:{name:"enum",value:[{value:"1"},{value:"2"},{value:"3"}]}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},help:{defaultValue:null,description:"",name:"help",required:!1,type:{name:"ReactNode"}},wait:{defaultValue:null,description:"",name:"wait",required:!1,type:{name:"number"}},marksEvery:{defaultValue:null,description:"",name:"marksEvery",required:!1,type:{name:"number"}},renderTooltip:{defaultValue:null,description:"",name:"renderTooltip",required:!1,type:{name:"boolean"}},onDebounceChange:{defaultValue:null,description:"",name:"onDebounceChange",required:!1,type:{name:"(ms: number) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/components/timestamp-control/index.tsx#TimestampControl"]={docgenInfo:ue.__docgenInfo,name:"TimestampControl",path:"../../packages/videopress/src/client/components/timestamp-control/index.tsx#TimestampControl"})}catch(l){}try{timestampcontrol.displayName="timestampcontrol",timestampcontrol.__docgenInfo={description:"TimestampControl component",displayName:"timestampcontrol",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},fineAdjustment:{defaultValue:null,description:"",name:"fineAdjustment",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(ms: number) => void"}},autoHideTimeInput:{defaultValue:{value:"true"},description:"",name:"autoHideTimeInput",required:!1,type:{name:"boolean"}},decimalPlaces:{defaultValue:null,description:"",name:"decimalPlaces",required:!1,type:{name:"enum",value:[{value:"1"},{value:"2"},{value:"3"}]}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},help:{defaultValue:null,description:"",name:"help",required:!1,type:{name:"ReactNode"}},wait:{defaultValue:null,description:"",name:"wait",required:!1,type:{name:"number"}},marksEvery:{defaultValue:null,description:"",name:"marksEvery",required:!1,type:{name:"number"}},renderTooltip:{defaultValue:null,description:"",name:"renderTooltip",required:!1,type:{name:"boolean"}},onDebounceChange:{defaultValue:null,description:"",name:"onDebounceChange",required:!1,type:{name:"(ms: number) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/components/timestamp-control/index.tsx#timestampcontrol"]={docgenInfo:timestampcontrol.__docgenInfo,name:"timestampcontrol",path:"../../packages/videopress/src/client/components/timestamp-control/index.tsx#timestampcontrol"})}catch(l){}},"../../packages/videopress/src/client/lib/url/index.ts":(ne,B,e)=>{e.d(B,{Iz:()=>re,pg:()=>U});var S=e("../../../node_modules/.pnpm/@wordpress+url@3.33.0/node_modules/@wordpress/url/build-module/add-query-args.js");const V=null,H={autoPlay:"autoplay",cover:"cover",controls:"controls",hd:"hd",loop:"loop",muted:"muted",persistVolume:"persistVolume",playsinline:"playsinline",posterUrl:"poster",preloadContent:"preload",sbc:"seekbarColor",sbpc:"seekbarPlayedColor",sblc:"seekbarLoadingColor",resizeToParent:"resizeToParent",useAverageColor:"useAverageColor"},U=(i,u)=>{let{autoplay:C,controls:$,loop:f,muted:d,playsinline:j,poster:L,preload:R,seekbarColor:z,seekbarPlayedColor:J,seekbarLoadingColor:de,useAverageColor:ae}=u;if(!i)return null;const fe={resizeToParent:!0,cover:!0,...C&&{autoPlay:!0},...!$&&{controls:!1},...f&&{loop:!0},...d&&{muted:!0,persistVolume:!1},...j&&{playsinline:!0},...L&&{posterUrl:L},...R!==""&&{preloadContent:R},...z!==""&&{sbc:z},...J!==""&&{sbpc:J},...de!==""&&{sblc:de},...ae&&{useAverageColor:!0}};return(0,S.f)(`https://videopress.com/v/${i}`,fe)},x=i=>{var C;if(!i||typeof i!="string")return null;const u=i.match(/^https?:\/\/(?<host>video(?:\.word|s\.files\.word)?press\.com)(?:\/v|\/embed)?\/(?<guid>[a-zA-Z\d]{8})/);return(C=u==null?void 0:u.groups)!=null&&C.guid?u.groups.guid:null};function W(i){const u=i.match(/^[a-zA-Z\d]{8}$/);return u?u[0]:!1}function Q(i,u){if(W(i))return u?{url:U(i,u),guid:i}:{url:`https://videopress.com/v/${i}`,guid:i};const $=x(i);return $?{url:i,guid:$}:{}}const X=i=>i.replace(/\.[^/.]+$/,"");function re(i,u){return u?`https://video.wordpress.com/v/${i}`:`https://videopress.com/v/${i}`}function F(i){return/^https?:\/\/(?:(?:v(?:ideo)?\.wordpress\.com|videopress\.com)\/(?:v|embed)|v\.wordpress\.com)\/([a-z\d]{8})(\/|\b)/i.test(i)}function _(i){let u;try{u=new URLSearchParams(new URL(i).search)}catch(f){return{}}const C=f=>f==="1"||f==="true"?!0:f==="0"||f==="false"?!1:null;return V.reduce((f,d)=>{const j=u.get(d);if(j!==null){const L=H[d];f[L]=["autoPlay","cover","controls","hd","loop","muted","persistVolume","playsinline","resizeToParent","useAverageColor"].includes(d)?C(j):j}return f},{})}},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/style.scss":(ne,B,e)=>{e.d(B,{Z:()=>W});var S=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),V=e.n(S),H=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),U=e.n(H),x=U()(V());x.push([ne.id,".modal-open .dropdown-content{display:none}.current-media{border-top:1px solid #1e1e1e;margin-top:8px;margin-right:-8px;margin-left:-8px;padding:16px 16px 0}.poster-image-block-control__wrapper .poster-panel-control__help{margin-bottom:0}.poster-image-block-control__remove-button.poster-image-block-control__remove-button{padding-left:12px;padding-right:12px}",""]);const W=x},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/style.scss":(ne,B,e)=>{e.d(B,{Z:()=>W});var S=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),V=e.n(S),H=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),U=e.n(H),x=U()(V());x.push([ne.id,"body.modal-open .poster-panel__dropdown{display:none}.poster-panel .components-dropdown{width:100%;display:flex}.poster-panel .components-dropdown .poster-panel__button{width:100%;display:block;text-align:center;border-radius:2px;min-height:140px;max-height:512px;background-color:#fafafa;background-size:cover;background-position:center center}.poster-panel .components-dropdown .poster-panel__button.has-poster span{display:none}.poster-panel .components-dropdown .poster-panel__button:hover{background-image:none !important}.poster-panel .components-dropdown .poster-panel__button:hover span{display:inline}.poster-panel__notice{margin-left:0;margin-right:0;margin-bottom:16px}.poster-panel-control__help{font-size:12px;font-style:normal;color:#757575}.poster-panel-card{margin-top:24px;margin-right:-8px;margin-left:-8px;padding-left:16px;padding-right:16px}.poster-panel__frame-picker__sandbox-wrapper{margin-bottom:8px;position:relative;background-color:#fafafa}.poster-panel__frame-picker__sandbox-wrapper .components-spinner{margin:0;width:32px;height:32px;position:absolute;z-index:100;top:50%;left:50%;transform:translate(-50%, -50%)}.poster-panel__frame-picker__sandbox-wrapper .components-sandbox{opacity:.1;transition:opacity 300ms ease-in-out;transition-delay:50ms}.poster-panel__frame-picker__sandbox-wrapper:not(.is-player-ready){aspect-ratio:16/9}.poster-panel__frame-picker__sandbox-wrapper.is-player-ready .components-sandbox{opacity:1}.poster-panel__frame-picker__sandbox-wrapper.is-generating-poster .components-sandbox{opacity:.5}.poster-panel__image-wrapper,.poster-panel__frame-wrapper{opacity:0;display:none}.poster-panel__image-wrapper.is-selected,.poster-panel__frame-wrapper.is-selected{opacity:1;display:block}.poster-panel__preview-toggle{margin-top:24px}",""]);const W=x},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/components/timestamp-control/style.module.scss":(ne,B,e)=>{e.d(B,{Z:()=>W});var S=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),V=e.n(S),H=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),U=e.n(H),x=U()(V());x.push([ne.id,".zuO3RgAd20yV6c0cEjwU{--input-width: 24px;display:flex;align-items:center;gap:8px}.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H,.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H:last-child{margin-bottom:0;flex-grow:2}.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H .components-base-control__field,.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H:last-child .components-base-control__field{margin-bottom:0}.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H .components-range-control__wrapper,.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H:last-child .components-range-control__wrapper{margin-bottom:0}.zuO3RgAd20yV6c0cEjwU .components-range-control__marks{top:13px}.xiVP4KSb56I10368tN0v{display:flex;align-items:center;border-color:#949494;background-color:#fff;border-style:solid;justify-content:space-around;border-width:1px;padding:0px}.xiVP4KSb56I10368tN0v .J6r6Ls3WNV_CSbuzeLyr{padding:0 1px;margin-bottom:0}.xiVP4KSb56I10368tN0v .J6r6Ls3WNV_CSbuzeLyr input{max-width:var(--input-width)}.xiVP4KSb56I10368tN0v .J6r6Ls3WNV_CSbuzeLyr:last-child{margin-bottom:0}.xiVP4KSb56I10368tN0v .J6r6Ls3WNV_CSbuzeLyr .components-base-control__field{margin-bottom:0}.xiVP4KSb56I10368tN0v .J6r6Ls3WNV_CSbuzeLyr .components-base-control__field .components-text-control__input{border:none;text-align:center;padding:0}.xiVP4KSb56I10368tN0v .components-input-control:last-child{margin-bottom:0}.xiVP4KSb56I10368tN0v .components-input-control__input{padding-left:0 !important;padding-right:0 !important;text-align:center}.xiVP4KSb56I10368tN0v .components-input-control__input::-webkit-outer-spin-button,.xiVP4KSb56I10368tN0v .components-input-control__input::-webkit-inner-spin-button{-webkit-appearance:none}.xiVP4KSb56I10368tN0v .components-input-control__input[type=number]{-webkit-appearance:textfield;appearance:textfield;-moz-appearance:textfield}.xiVP4KSb56I10368tN0v .components-input-control__backdrop{border-style:none !important}.xiVP4KSb56I10368tN0v.XtdqGJfT1AOZ9KRjf1TZ{background-color:#f0f0f0}.xiVP4KSb56I10368tN0v.XtdqGJfT1AOZ9KRjf1TZ .PjODCu3uI7wWSXk4MiIH{color:#949494}.PjODCu3uI7wWSXk4MiIH{font-weight:900}",""]),x.locals={"timestamp-control__controls-wrapper":"zuO3RgAd20yV6c0cEjwU","timestamp-range-control":"m7UQ82mfQtaGf0Uxn62H","timestamp-input-wrapper":"xiVP4KSb56I10368tN0v","timestamp-control-input":"J6r6Ls3WNV_CSbuzeLyr","is-disabled":"XtdqGJfT1AOZ9KRjf1TZ","timestamp-control-divider":"PjODCu3uI7wWSXk4MiIH"};const W=x}}]);})();
