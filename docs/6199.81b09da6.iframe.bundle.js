"use strict";(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[6199],{"../analytics/index.jsx":(h,_,i)=>{i.d(_,{Z:()=>y});var g=i("../../../node_modules/.pnpm/debug@4.3.4/node_modules/debug/src/browser.js"),d=i.n(g);const r=d()("dops:analytics");let p,u;window._tkq=window._tkq||[],window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=+new Date;function m(e,t){let o="";if(typeof e=="object"){for(const c in e)o+="&x_"+encodeURIComponent(c)+"="+encodeURIComponent(e[c]);r("Bumping stats %o",e)}else o="&x_"+encodeURIComponent(e)+"="+encodeURIComponent(t),r('Bumping stat "%s" in group "%s"',t,e);return o}function f(e,t){let o="";if(typeof e=="object"){for(const c in e)o+="&"+encodeURIComponent(c)+"="+encodeURIComponent(e[c]);r("Built stats %o",e)}else o="&"+encodeURIComponent(e)+"="+encodeURIComponent(t),r('Built stat "%s" in group "%s"',t,e);return o}const a={initialize:function(e,t,o){a.setUser(e,t),a.setSuperProps(o),a.identifyUser()},setGoogleAnalyticsEnabled:function(e,t=null){this.googleAnalyticsEnabled=e,this.googleAnalyticsKey=t},setMcAnalyticsEnabled:function(e){this.mcAnalyticsEnabled=e},setUser:function(e,t){u={ID:e,username:t}},setSuperProps:function(e){p=e},assignSuperProps:function(e){p=Object.assign(p||{},e)},mc:{bumpStat:function(e,t){const o=m(e,t);a.mcAnalyticsEnabled&&(new Image().src=document.location.protocol+"//pixel.wp.com/g.gif?v=wpcom-no-pv"+o+"&t="+Math.random())},bumpStatWithPageView:function(e,t){const o=f(e,t);a.mcAnalyticsEnabled&&(new Image().src=document.location.protocol+"//pixel.wp.com/g.gif?v=wpcom"+o+"&t="+Math.random())}},pageView:{record:function(e,t){a.tracks.recordPageView(e),a.ga.recordPageView(e,t)}},purchase:{record:function(e,t,o,c,l,n,s){a.ga.recordPurchase(e,t,o,c,l,n,s)}},tracks:{recordEvent:function(e,t){if(t=t||{},e.indexOf("akismet_")!==0&&e.indexOf("jetpack_")!==0){r('- Event name must be prefixed by "akismet_" or "jetpack_"');return}p&&(r("- Super Props: %o",p),t=Object.assign(t,p)),r('Record event "%s" called with props %s',e,JSON.stringify(t)),window._tkq.push(["recordEvent",e,t])},recordJetpackClick:function(e){const t=typeof e=="object"?e:{target:e};a.tracks.recordEvent("jetpack_wpa_click",t)},recordPageView:function(e){a.tracks.recordEvent("akismet_page_view",{path:e})},setOptOut:function(e){r("Pushing setOptOut: %o",e),window._tkq.push(["setOptOut",e])}},ga:{initialized:!1,initialize:function(){let e={};a.ga.initialized||(u&&(e={userId:"u-"+u.ID}),window.ga("create",this.googleAnalyticsKey,"auto",e),a.ga.initialized=!0)},recordPageView:function(e,t){a.ga.initialize(),r("Recording Page View ~ [URL: "+e+"] [Title: "+t+"]"),this.googleAnalyticsEnabled&&(window.ga("set","page",e),window.ga("send",{hitType:"pageview",page:e,title:t}))},recordEvent:function(e,t,o,c){a.ga.initialize();let l="Recording Event ~ [Category: "+e+"] [Action: "+t+"]";typeof o!="undefined"&&(l+=" [Option Label: "+o+"]"),typeof c!="undefined"&&(l+=" [Option Value: "+c+"]"),r(l),this.googleAnalyticsEnabled&&window.ga("send","event",e,t,o,c)},recordPurchase:function(e,t,o,c,l,n,s){window.ga("require","ecommerce"),window.ga("ecommerce:addTransaction",{id:e,revenue:c,currency:s}),window.ga("ecommerce:addItem",{id:e,name:t,sku:o,price:l,quantity:n}),window.ga("ecommerce:send")}},identifyUser:function(){u&&window._tkq.push(["identifyUser",u.ID,u.username])},setProperties:function(e){window._tkq.push(["setProperties",e])},clearedIdentity:function(){window._tkq.push(["clearIdentity"])}},y=a},"../../packages/my-jetpack/_inc/components/product-detail-card/stories/utils.js":(h,_,i)=>{i.d(_,{As:()=>o,TN:()=>t,h7:()=>c});const e={"anti-spam":{slug:"anti-spam",name:"Anti-Spam",title:"Jepack Anti-Spam",description:"Stop comment and form spam",is_upgradable_by_bundle:["security"],long_description:"Save time and get better responses by automatically blocking spam from your comments and forms.",status:"active",features:["Comment and form spam protection","Powered by Akismet","Block spam without CAPTCHAs","Advanced stats"],pricingForUi:{currency_code:"USD",full_price:119,discount_price:59}},backup:{slug:"backup",name:"Backup",title:"Jepack Backup",description:"Save every change",is_upgradable_by_bundle:["security"],long_description:"Never lose a word, image, page, or time worrying about your site with automated backups & one-click restores.",status:"active",features:["Real-time cloud backups","10GB of backup storage","30-day archive & activity log","One-click restores"],pricingForUi:{currency_code:"USD",full_price:119,discount_price:59}},boost:{slug:"boost",name:"Boost",title:"Jepack Boost",description:"Instant speed and SEO",long_description:"Jetpack Boost gives your site the same performance advantages as the world\u2019s leading websites, no developer required.",status:"inactive",features:["Check your site performance","Enable improvements in one click","Standalone free plugin for those focused on speed"],pricingForUi:{available:!0,is_free:!0}},crm:{slug:"crm",name:"CRM",title:"Jetpack CRM",description:"Connect with your people",long_description:"All of your contacts in one place. Build better relationships with your customers and clients.",status:"inactive",features:["Manage unlimited contacts","Manage billing and create invoices","Fully integrated with WordPress & WooCommerce","Infinitely customizable with integrations and extensions"],pricingForUi:{available:!0,is_free:!0}},extras:{slug:"extras",name:"Extras",title:"Jetpack Extras",description:"Basic tools for a successful site",long_description:"Secure and speed up your site for free with Jetpack's powerful WordPress tools.",status:"active",features:["Measure your impact with beautiful stats","Speed up your site with optimized images","Protect your site against bot attacks","Get notifications if your site goes offline","Enhance your site with dozens of other features"],pricingForUi:{available:!0,is_free:!0}},scan:{slug:"scan",name:"Scan",title:"Jepack Scan",description:"Stay one step ahead of threats",is_upgradable_by_bundle:["security"],long_description:"Automatic scanning and one-click fixes keep your site one step ahead of security threats and malware.",status:"inactive",features:["Automated daily scanning","One-click fixes for most issues","Instant email notifications","Access to latest Firewall rules"],pricingForUi:{currency_code:"USD",full_price:119,discount_price:59}},search:{slug:"search",name:"Search",title:"Jetpack Search",description:"Help them find what they need",long_description:"Help your site visitors find answers instantly so they keep reading and buying. Great for sites with a lot of content.",status:"inactive",features:["Instant search and indexing","Powerful filtering","Supports 38 languages","Spelling correction"],pricingForUi:{currency_code:"USD",full_price:59.95,discount_price:29.975,coupon_discount:50}},security:{slug:"security",name:"Security",title:"Security",description:"Comprehensive site security, including Backup, Scan, and Anti-spam.",long_description:"Comprehensive site security, including Backup, Scan, and Anti-spam.",status:"inactive",is_bundle:!0,supportedProducts:["backup","scan","anti-spam"],features:["Real-time cloud backups with 10GB storage","Automated real-time malware scan","One-click fixes for most threats","Comment & form spam protection"],pricingForUi:{currency_code:"USD",full_price:299,discount_price:149}},videopress:{slug:"videopress",name:"VideoPress",title:"Jetpack Site VideoPress",description:"High quality, ad-free video",long_description:"High-quality, ad-free video built specifically for WordPress.",status:"inactive",features:["1TB of storage","Built into WordPress editor","Ad-free and customizable player","Unlimited users"],pricingForUi:{currency_code:"USD",full_price:119,discount_price:59}}};function t(l){const s=l.constructor===Array?l:[l],k=s.map(P=>({url:`my-jetpack/v1/site/products/${P}?_locale=user`,method:"GET",status:200,response:e[P]})),w=s.map(P=>({url:`my-jetpack/v1/site/products/${P}?_locale=user`,method:"POST",status:200,response:{...e[P],status:e[P].status==="active"?"inactive":"active"}}));return[...k,...w]}function o(){return t([...Object.keys(e)])}function c(){return["anti-spam","backup","boost","crm","extras","scan","search","videopress"]}},"../../packages/my-jetpack/_inc/data/products/use-product.ts":(h,_,i)=>{i.d(_,{Z:()=>l});var g=i("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),d=i("../../packages/my-jetpack/_inc/data/constants.ts"),r=i("../../packages/my-jetpack/_inc/data/use-simple-query.ts"),p=i("../../packages/my-jetpack/_inc/data/utils/get-my-jetpack-window-state.ts");const u=n=>Array.isArray(n)?n.map(s=>u(s)):typeof n=="object"&&n!==null?Object.fromEntries(Object.entries(n).map(([s,k])=>[s.replace(/([-_][a-z])/gi,w=>w.toUpperCase().replace(/[-_]/g,"")),u(k)])):n,m=u,f=n=>n.pricingForUi.productTerm==="year"?Math.round(n.pricingForUi.fullPrice/12*100)/100:n.pricingForUi.fullPrice,a=n=>n.pricingForUi.productTerm==="year"?Math.round(n.pricingForUi.discountPrice/12*100)/100:n.pricingForUi.discountPrice,y=()=>{const{items:n}=(0,p.$9)("products");return Object.entries(n).reduce((s,[k,w])=>({...s,[k]:o(w)}),{})},e=n=>(0,r.Z)({name:d.q9,query:{path:`${d.Jk}/${n}`},options:{enabled:!1}}),t=async(n,s)=>{const{data:k}=await s();window.myJetpackInitialState.products.items[n]=k},o=n=>{const s=m(n);return s.features=s.features||[],s.supportedProducts=s.supportedProducts||[],s.pricingForUi.fullPricePerMonth=f(s),s.pricingForUi.discountPricePerMonth=a(s),s},l=n=>{const s=y(),k=s==null?void 0:s[n],{refetch:w,isLoading:P}=e(n);return{detail:k,refetch:(0,g.useCallback)(()=>t(n,w),[n,w]),isLoading:P}}},"../../packages/my-jetpack/_inc/data/use-simple-query.ts":(h,_,i)=>{i.d(_,{Z:()=>u});var g=i("../../../node_modules/.pnpm/@tanstack+react-query@5.20.5_react@18.2.0/node_modules/@tanstack/react-query/build/modern/useQuery.js"),d=i("../../../node_modules/.pnpm/@wordpress+api-fetch@6.50.0/node_modules/@wordpress/api-fetch/build-module/index.js"),r=i("../../packages/my-jetpack/_inc/data/notices/use-fetching-error-notice.ts");const u=({name:m,query:f,options:a,errorMessage:y})=>{const e=(0,g.a)({queryKey:[m],queryFn:()=>(0,d.Z)(f),refetchOnWindowFocus:!1,refetchIntervalInBackground:!1,...a}),{error:t,isError:o,isLoading:c}=e;return(0,r.o)({infoName:m,isError:!c&&o&&t.code!=="not_connected",overrideMessage:y}),e}},"../../packages/my-jetpack/_inc/hooks/use-analytics/index.ts":(h,_,i)=>{i.d(_,{Z:()=>m});var g=i("../analytics/index.jsx"),d=i("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),r=i("../../packages/my-jetpack/_inc/data/utils/get-my-jetpack-window-state.ts"),p=i("../../packages/my-jetpack/_inc/hooks/use-my-jetpack-connection/index.ts");const m=()=>{var n;const{isUserConnected:f,connectedPlugins:a,userConnectionData:y={}}=(0,p.Z)(),{login:e,ID:t}=((n=y.currentUser)==null?void 0:n.wpcomUser)||{},{myJetpackVersion:o=""}=(0,r.$9)();(0,d.useEffect)(()=>{f&&t&&e&&g.Z.initialize(t,e)},[t,f,e]);const c=Object.keys(a||{}).sort().join(",").replaceAll("jetpack-","");return{recordEvent:(0,d.useCallback)((s,k)=>{g.Z.tracks.recordEvent(s,{...k,version:o,referring_plugins:c})},[])}}},"../../packages/my-jetpack/_inc/hooks/use-my-jetpack-connection/index.ts":(h,_,i)=>{i.d(_,{Z:()=>p});var g=i("../connection/components/use-connection/index.jsx"),d=i("../../packages/my-jetpack/_inc/data/utils/get-my-jetpack-window-state.ts");const p=()=>{const{apiRoot:u,apiNonce:m}=(0,d.M_)(),{topJetpackMenuItemUrl:f,blogID:a}=(0,d.$9)(),y=(0,g.Z)({apiRoot:u,apiNonce:m}),{registrationNonce:e}=(0,d.vH)(),t=y.isRegistered;return{apiNonce:m,apiRoot:u,blogID:a,registrationNonce:e,...y,isSiteConnected:t,topJetpackMenuItemUrl:f}}}}]);})();
