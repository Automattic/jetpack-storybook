"use strict";(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[436],{"../../../node_modules/.pnpm/@storybook+blocks@8.0.4_@types+react@18.2.67_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/blocks/dist/Color-RQJUDNI5.mjs":(ae,v,_)=>{_.r(v),_.d(v,{ColorControl:()=>w,default:()=>ee});var S=_("../../../node_modules/.pnpm/@storybook+blocks@8.0.4_@types+react@18.2.67_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/blocks/dist/chunk-GWAJ4KRU.mjs"),r=_("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),$=_("../../../node_modules/.pnpm/react-colorful@5.6.1_react-dom@18.2.0_react@18.2.0/node_modules/react-colorful/dist/index.mjs"),T=_("../../../node_modules/.pnpm/color-convert@2.0.1/node_modules/color-convert/index.js"),m=_.n(T),W=_("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/throttle.js"),I=_.n(W),b=_("../../../node_modules/.pnpm/@storybook+theming@8.0.4_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/theming/dist/index.mjs"),x=_("../../../node_modules/.pnpm/@storybook+components@8.0.4_@types+react@18.2.67_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/components/dist/index.mjs"),L=_("../../../node_modules/.pnpm/@storybook+icons@1.2.9_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/icons/dist/index.mjs"),B=b.zo.div({position:"relative",maxWidth:250}),j=(0,b.zo)(x.WithTooltip)({position:"absolute",zIndex:1,top:4,left:4}),z=b.zo.div({width:200,margin:5,".react-colorful__saturation":{borderRadius:"4px 4px 0 0"},".react-colorful__hue":{boxShadow:"inset 0 0 0 1px rgb(0 0 0 / 5%)"},".react-colorful__last-control":{borderRadius:"0 0 4px 4px"}}),A=(0,b.zo)(x.TooltipNote)(({theme:e})=>({fontFamily:e.typography.fonts.base})),U=b.zo.div({display:"grid",gridTemplateColumns:"repeat(9, 16px)",gap:6,padding:3,marginTop:5,width:200}),K=b.zo.div(({theme:e,active:t})=>({width:16,height:16,boxShadow:t?`${e.appBorderColor} 0 0 0 1px inset, ${e.textMutedColor}50 0 0 0 4px`:`${e.appBorderColor} 0 0 0 1px inset`,borderRadius:e.appBorderRadius})),G=`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,O=({value:e,active:t,onClick:a,style:n,...s})=>{let d=`linear-gradient(${e}, ${e}), ${G}, linear-gradient(#fff, #fff)`;return r.createElement(K,{...s,active:t,onClick:a,style:{...n,backgroundImage:d}})},H=(0,b.zo)(x.Form.Input)(({theme:e})=>({width:"100%",paddingLeft:30,paddingRight:30,boxSizing:"border-box",fontFamily:e.typography.fonts.base})),X=(0,b.zo)(L.MarkupIcon)(({theme:e})=>({position:"absolute",zIndex:1,top:6,right:7,width:20,height:20,padding:4,boxSizing:"border-box",cursor:"pointer",color:e.input.color})),R=(e=>(e.RGB="rgb",e.HSL="hsl",e.HEX="hex",e))(R||{}),f=Object.values(R),V=/\(([0-9]+),\s*([0-9]+)%?,\s*([0-9]+)%?,?\s*([0-9.]+)?\)/,F=/^\s*rgba?\(([0-9]+),\s*([0-9]+),\s*([0-9]+),?\s*([0-9.]+)?\)\s*$/i,N=/^\s*hsla?\(([0-9]+),\s*([0-9]+)%,\s*([0-9]+)%,?\s*([0-9.]+)?\)\s*$/i,P=/^\s*#?([0-9a-f]{3}|[0-9a-f]{6})\s*$/i,J=/^\s*#?([0-9a-f]{3})\s*$/i,Q={hex:$.gW,rgb:$.ef,hsl:$.W3},y={hex:"transparent",rgb:"rgba(0, 0, 0, 0)",hsl:"hsla(0, 0%, 0%, 0)"},M=e=>{let t=e==null?void 0:e.match(V);if(!t)return[0,0,0,1];let[,a,n,s,d=1]=t;return[a,n,s,d].map(Number)},E=e=>{if(!e)return;let t=!0;if(F.test(e)){let[i,o,c,p]=M(e),[g,h,l]=m().rgb.hsl([i,o,c])||[0,0,0];return{valid:t,value:e,keyword:m().rgb.keyword([i,o,c]),colorSpace:"rgb",rgb:e,hsl:`hsla(${g}, ${h}%, ${l}%, ${p})`,hex:`#${m().rgb.hex([i,o,c]).toLowerCase()}`}}if(N.test(e)){let[i,o,c,p]=M(e),[g,h,l]=m().hsl.rgb([i,o,c])||[0,0,0];return{valid:t,value:e,keyword:m().hsl.keyword([i,o,c]),colorSpace:"hsl",rgb:`rgba(${g}, ${h}, ${l}, ${p})`,hsl:e,hex:`#${m().hsl.hex([i,o,c]).toLowerCase()}`}}let a=e.replace("#",""),n=m().keyword.rgb(a)||m().hex.rgb(a),s=m().rgb.hsl(n),d=e;if(/[^#a-f0-9]/i.test(e)?d=a:P.test(e)&&(d=`#${a}`),d.startsWith("#"))t=P.test(d);else try{m().keyword.hex(d)}catch(i){t=!1}return{valid:t,value:d,keyword:m().rgb.keyword(n),colorSpace:"hex",rgb:`rgba(${n[0]}, ${n[1]}, ${n[2]}, 1)`,hsl:`hsla(${s[0]}, ${s[1]}%, ${s[2]}%, 1)`,hex:d}},Y=(e,t,a)=>{if(!e||!(t!=null&&t.valid))return y[a];if(a!=="hex")return(t==null?void 0:t[a])||y[a];if(!t.hex.startsWith("#"))try{return`#${m().keyword.hex(t.hex)}`}catch(o){return y.hex}let n=t.hex.match(J);if(!n)return P.test(t.hex)?t.hex:y.hex;let[s,d,i]=n[1].split("");return`#${s}${s}${d}${d}${i}${i}`},Z=(e,t)=>{let[a,n]=(0,r.useState)(e||""),[s,d]=(0,r.useState)(()=>E(a)),[i,o]=(0,r.useState)((s==null?void 0:s.colorSpace)||"hex");(0,r.useEffect)(()=>{let h=e||"",l=E(h);n(h),d(l),o((l==null?void 0:l.colorSpace)||"hex")},[e]);let c=(0,r.useMemo)(()=>Y(a,s,i).toLowerCase(),[a,s,i]),p=(0,r.useCallback)(h=>{let l=E(h),C=(l==null?void 0:l.value)||h||"";n(C),C===""&&(d(void 0),t(void 0)),l&&(d(l),o(l.colorSpace),t(l.value))},[t]),g=(0,r.useCallback)(()=>{let h=f.indexOf(i)+1;h>=f.length&&(h=0),o(f[h]);let l=(s==null?void 0:s[f[h]])||"";n(l),t(l)},[s,i,t]);return{value:a,realValue:c,updateValue:p,color:s,colorSpace:i,cycleColorSpace:g}},k=e=>e.replace(/\s*/,"").toLowerCase(),q=(e,t,a)=>{let[n,s]=(0,r.useState)(t!=null&&t.valid?[t]:[]);(0,r.useEffect)(()=>{t===void 0&&s([])},[t]);let d=(0,r.useMemo)(()=>(e||[]).map(o=>typeof o=="string"?E(o):o.title?{...E(o.color),keyword:o.title}:E(o.color)).concat(n).filter(Boolean).slice(-27),[e,n]),i=(0,r.useCallback)(o=>{o!=null&&o.valid&&(d.some(c=>k(c[a])===k(o[a]))||s(c=>c.concat(o)))},[a,d]);return{presets:d,addPreset:i}},w=({name:e,value:t,onChange:a,onFocus:n,onBlur:s,presetColors:d,startOpen:i=!1})=>{let o=(0,r.useCallback)(I()(a,200),[a]),{value:c,realValue:p,updateValue:g,color:h,colorSpace:l,cycleColorSpace:C}=Z(t,o),{presets:D,addPreset:te}=q(d,h,l),oe=Q[l];return r.createElement(B,null,r.createElement(j,{startOpen:i,closeOnOutsideClick:!0,onVisibleChange:()=>te(h),tooltip:r.createElement(z,null,r.createElement(oe,{color:p==="transparent"?"#000000":p,onChange:g,onFocus:n,onBlur:s}),D.length>0&&r.createElement(U,null,D.map((u,se)=>r.createElement(x.WithTooltip,{key:`${u.value}-${se}`,hasChrome:!1,tooltip:r.createElement(A,{note:u.keyword||u.value})},r.createElement(O,{value:u[l],active:h&&k(u[l])===k(h[l]),onClick:()=>g(u.value)})))))},r.createElement(O,{value:p,style:{margin:4}})),r.createElement(H,{id:(0,S.d)(e),value:c,onChange:u=>g(u.target.value),onFocus:u=>u.target.select(),placeholder:"Choose color..."}),c?r.createElement(X,{onClick:C}):null)},ee=w}}]);})();
