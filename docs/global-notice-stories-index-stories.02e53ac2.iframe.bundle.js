(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[2920],{"../../../node_modules/.pnpm/@babel+runtime@7.21.5/node_modules/@babel/runtime/helpers/defineProperty.js":(a,l,e)=>{var t=e("../../../node_modules/.pnpm/@babel+runtime@7.21.5/node_modules/@babel/runtime/helpers/toPropertyKey.js");function c(i,d,n){return d=t(d),d in i?Object.defineProperty(i,d,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[d]=n,i}a.exports=c,a.exports.__esModule=!0,a.exports.default=a.exports},"../../../node_modules/.pnpm/@babel+runtime@7.21.5/node_modules/@babel/runtime/helpers/toPrimitive.js":(a,l,e)=>{var t=e("../../../node_modules/.pnpm/@babel+runtime@7.21.5/node_modules/@babel/runtime/helpers/typeof.js").default;function c(i,d){if(t(i)!=="object"||i===null)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var r=n.call(i,d||"default");if(t(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(i)}a.exports=c,a.exports.__esModule=!0,a.exports.default=a.exports},"../../../node_modules/.pnpm/@babel+runtime@7.21.5/node_modules/@babel/runtime/helpers/toPropertyKey.js":(a,l,e)=>{var t=e("../../../node_modules/.pnpm/@babel+runtime@7.21.5/node_modules/@babel/runtime/helpers/typeof.js").default,c=e("../../../node_modules/.pnpm/@babel+runtime@7.21.5/node_modules/@babel/runtime/helpers/toPrimitive.js");function i(d){var n=c(d,"string");return t(n)==="symbol"?n:String(n)}a.exports=i,a.exports.__esModule=!0,a.exports.default=a.exports},"../../../node_modules/.pnpm/@babel+runtime@7.21.5/node_modules/@babel/runtime/helpers/typeof.js":a=>{function l(e){return a.exports=l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a.exports.__esModule=!0,a.exports.default=a.exports,l(e)}a.exports=l,a.exports.__esModule=!0,a.exports.default=a.exports},"../../../node_modules/.pnpm/@storybook+addon-actions@7.0.5_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/addon-actions/dist/index.mjs":(a,l,e)=>{"use strict";e.d(l,{aD:()=>t.aD});var t=e("../../../node_modules/.pnpm/@storybook+addon-actions@7.0.5_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/addon-actions/dist/chunk-KKE3V3AL.mjs"),c=(...d)=>{let n=config,r=d;r.length===1&&Array.isArray(r[0])&&([r]=r),r.length!==1&&typeof r[r.length-1]!="string"&&(n={...config,...r.pop()});let u=r[0];(r.length!==1||typeof u=="string")&&(u={},r.forEach(p=>{u[p]=p}));let E={};return Object.keys(u).forEach(p=>{E[p]=action(u[p],n)}),E},i=e("../../../node_modules/.pnpm/@storybook+addon-actions@7.0.5_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/addon-actions/dist/chunk-VWCVBQ22.mjs")},"../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/notice/index.js":(a,l,e)=>{"use strict";e.d(l,{Z:()=>w});var t=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),c=e("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),i=e.n(c),d=e("../../../node_modules/.pnpm/@wordpress+i18n@4.32.0/node_modules/@wordpress/i18n/build-module/index.js"),n=e("../../../node_modules/.pnpm/@wordpress+element@5.9.0/node_modules/@wordpress/element/build-module/serialize.js"),r=e("../../../node_modules/.pnpm/@wordpress+element@5.9.0/node_modules/@wordpress/element/build-module/raw-html.js"),u=e("../../../node_modules/.pnpm/@wordpress+a11y@3.32.0/node_modules/@wordpress/a11y/build-module/index.js"),E=e("../../../node_modules/.pnpm/@wordpress+icons@9.23.0/node_modules/@wordpress/icons/build-module/library/close.js"),p=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/button/index.js");const g=()=>{};function m(C,P){const y=typeof C=="string"?C:(0,n.ZP)(C);(0,t.useEffect)(()=>{y&&(0,u.D)(y,P)},[y,P])}function S(C){switch(C){case"success":case"warning":case"info":return"polite";case"error":default:return"assertive"}}function W(C){let{className:P,status:y="info",children:T,spokenMessage:N=T,onRemove:x=g,isDismissible:I=!0,actions:M=[],politeness:k=S(y),__unstableHTML:B,onDismiss:L=g}=C;m(N,k);const j=i()(P,"components-notice","is-"+y,{"is-dismissible":I});B&&typeof T=="string"&&(T=(0,t.createElement)(r.Z,null,T));const v=R=>{var h;R==null||(h=R.preventDefault)===null||h===void 0||h.call(R),L(),x()};return(0,t.createElement)("div",{className:j},(0,t.createElement)("div",{className:"components-notice__content"},T,(0,t.createElement)("div",{className:"components-notice__actions"},M.map((R,h)=>{let{className:f,label:z,isPrimary:b,variant:A,noDefaultClasses:D=!1,onClick:K,url:G}=R,U=A;return A!=="primary"&&!D&&(U=G?"link":"secondary"),typeof U=="undefined"&&b&&(U="primary"),(0,t.createElement)(p.ZP,{key:h,href:G,variant:U,onClick:G?void 0:K,className:i()("components-notice__action",f)},z)}))),I&&(0,t.createElement)(p.ZP,{className:"components-notice__dismiss",icon:E.Z,label:(0,d.__)("Dismiss this notice"),onClick:v,showTooltip:!1}))}const w=W},"../../../node_modules/.pnpm/@wordpress+data@9.2.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-dispatch/use-dispatch.js":(a,l,e)=>{"use strict";e.d(l,{Z:()=>i});var t=e("../../../node_modules/.pnpm/@wordpress+data@9.2.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/registry-provider/use-registry.js");const i=d=>{const{dispatch:n}=(0,t.Z)();return d===void 0?n:n(d)}},"../../../node_modules/.pnpm/@wordpress+icons@9.23.0/node_modules/@wordpress/icons/build-module/icon/index.js":(a,l,e)=>{"use strict";e.d(l,{Z:()=>i});var t=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");function c(d){let{icon:n,size:r=24,...u}=d;return(0,t.cloneElement)(n,{width:r,height:r,...u})}const i=c},"../../../node_modules/.pnpm/@wordpress+icons@9.23.0/node_modules/@wordpress/icons/build-module/library/check.js":(a,l,e)=>{"use strict";e.d(l,{Z:()=>d});var t=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),c=e("../../../node_modules/.pnpm/@wordpress+primitives@3.30.0/node_modules/@wordpress/primitives/build-module/svg/index.js");const d=(0,t.createElement)(c.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(c.y$,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"}))},"../../../node_modules/.pnpm/@wordpress+icons@9.23.0/node_modules/@wordpress/icons/build-module/library/info.js":(a,l,e)=>{"use strict";e.d(l,{Z:()=>d});var t=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),c=e("../../../node_modules/.pnpm/@wordpress+primitives@3.30.0/node_modules/@wordpress/primitives/build-module/svg/index.js");const d=(0,t.createElement)(c.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(c.y$,{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"}))},"../../../node_modules/.pnpm/@wordpress+icons@9.23.0/node_modules/@wordpress/icons/build-module/library/warning.js":(a,l,e)=>{"use strict";e.d(l,{Z:()=>d});var t=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),c=e("../../../node_modules/.pnpm/@wordpress+primitives@3.30.0/node_modules/@wordpress/primitives/build-module/svg/index.js");const d=(0,t.createElement)(c.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,t.createElement)(c.y$,{d:"M10 2c4.42 0 8 3.58 8 8s-3.58 8-8 8-8-3.58-8-8 3.58-8 8-8zm1.13 9.38l.35-6.46H8.52l.35 6.46h2.26zm-.09 3.36c.24-.23.37-.55.37-.96 0-.42-.12-.74-.36-.97s-.59-.35-1.06-.35-.82.12-1.07.35-.37.55-.37.97c0 .41.13.73.38.96.26.23.61.34 1.06.34s.8-.11 1.05-.34z"}))},"../../../node_modules/.pnpm/@wordpress+url@3.33.0/node_modules/@wordpress/url/build-module/add-query-args.js":(a,l,e)=>{"use strict";e.d(l,{f:()=>i});var t=e("../../../node_modules/.pnpm/@wordpress+url@3.33.0/node_modules/@wordpress/url/build-module/get-query-args.js"),c=e("../../../node_modules/.pnpm/@wordpress+url@3.33.0/node_modules/@wordpress/url/build-module/build-query-string.js");function i(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;if(!n||!Object.keys(n).length)return d;let r=d;const u=d.indexOf("?");return u!==-1&&(n=Object.assign((0,t.w)(d),n),r=r.substr(0,u)),r+"?"+(0,c.I)(n)}},"../../../node_modules/.pnpm/@wordpress+url@3.33.0/node_modules/@wordpress/url/build-module/build-query-string.js":(a,l,e)=>{"use strict";e.d(l,{I:()=>t});function t(c){let i="";const d=Object.entries(c);let n;for(;n=d.shift();){let[r,u]=n;if(Array.isArray(u)||u&&u.constructor===Object){const p=Object.entries(u).reverse();for(const[g,m]of p)d.unshift([`${r}[${g}]`,m])}else u!==void 0&&(u===null&&(u=""),i+="&"+[r,u].map(encodeURIComponent).join("="))}return i.substr(1)}},"../../../node_modules/.pnpm/@wordpress+url@3.33.0/node_modules/@wordpress/url/build-module/get-query-args.js":(a,l,e)=>{"use strict";e.d(l,{w:()=>d});function t(n){try{return decodeURIComponent(n)}catch(r){return n}}var c=e("../../../node_modules/.pnpm/@wordpress+url@3.33.0/node_modules/@wordpress/url/build-module/get-query-string.js");function i(n,r,u){const E=r.length,p=E-1;for(let g=0;g<E;g++){let m=r[g];!m&&Array.isArray(n)&&(m=n.length.toString()),m=["__proto__","constructor","prototype"].includes(m)?m.toUpperCase():m;const S=!isNaN(Number(r[g+1]));n[m]=g===p?u:n[m]||(S?[]:{}),Array.isArray(n[m])&&!S&&(n[m]={...n[m]}),n=n[m]}}function d(n){return((0,c.W)(n)||"").replace(/\+/g,"%20").split("&").reduce((r,u)=>{const[E,p=""]=u.split("=").filter(Boolean).map(t);if(E){const g=E.replace(/\]/g,"").split("[");i(r,g,p)}return r},Object.create(null))}},"../../../node_modules/.pnpm/@wordpress+url@3.33.0/node_modules/@wordpress/url/build-module/get-query-string.js":(a,l,e)=>{"use strict";e.d(l,{W:()=>t});function t(c){let i;try{i=new URL(c,"http://example.com").search.substring(1)}catch(d){}if(i)return i}},"../../packages/videopress/src/client/admin/components/global-notice/stories/index.stories.tsx":(a,l,e)=>{var h,f,z;"use strict";e.r(l),e.d(l,{__namedExportsOrder:()=>R,_default:()=>v,default:()=>L});var t=e("../../../node_modules/.pnpm/@storybook+addon-actions@7.0.5_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/addon-actions/dist/index.mjs"),c=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),i=e("../connection/components/use-connection/index.jsx"),d=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/notice/index.js"),n=e("../../../node_modules/.pnpm/@wordpress+i18n@4.32.0/node_modules/@wordpress/i18n/build-module/index.js"),r=e("../../../node_modules/.pnpm/@wordpress+icons@9.23.0/node_modules/@wordpress/icons/build-module/library/warning.js"),u=e("../../../node_modules/.pnpm/@wordpress+icons@9.23.0/node_modules/@wordpress/icons/build-module/library/info.js"),E=e("../../../node_modules/.pnpm/@wordpress+icons@9.23.0/node_modules/@wordpress/icons/build-module/library/check.js"),p=e("../../../node_modules/.pnpm/@wordpress+icons@9.23.0/node_modules/@wordpress/icons/build-module/icon/index.js"),g=e("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),m=e.n(g),S=e("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),W=e.n(S),w=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/admin/components/global-notice/styles.module.scss"),C={};C.insert="head",C.singleton=!1;var P=W()(w.Z,C);const y=w.Z.locals||{};var T=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const N=n.__,x=b=>{switch(b){case"error":return r.Z;case"warning":return r.Z;case"info":return u.Z;case"success":return E.Z;default:return r.Z}};function I(b){let{status:A="error",isDismissible:D=!1,className:K,children:G,actions:U,onRemove:H}=b;const Y=m()(K,y.notice,y[`is-${A}`]);return(0,T.jsxs)(d.Z,{status:A,isDismissible:D,onRemove:H,className:Y,actions:U,children:[(0,T.jsx)(p.Z,{icon:x(A),className:y.icon}),(0,T.jsx)("div",{className:y.message,children:G})]})}I.displayName="GlobalNotice";const M=()=>{const{adminUri:b,registrationNonce:A}=window.jetpackVideoPressInitialState,{hasConnectedOwner:D,handleRegisterSite:K}=(0,i.Z)({redirectUri:b,from:"jetpack-videopress",registrationNonce:A});return D?null:(0,T.jsx)(I,{addConnectUserLink:!0,actions:[{label:N("Connect your user account to fix this","jetpack-videopress-pkg"),onClick:K,variant:"link",noDefaultClasses:!0}],children:N("Some actions need a user connection to WordPress.com to be able to work","jetpack-videopress-pkg")})};M.displayName="NeedUserConnectionGlobalNotice";try{globalnotice.displayName="globalnotice",globalnotice.__docgenInfo={description:"VideoPress Logo component",displayName:"globalnotice",props:{status:{defaultValue:{value:"error"},description:"",name:"status",required:!1,type:{name:"enum",value:[{value:'"info"'},{value:'"warning"'},{value:'"error"'},{value:'"success"'}]}},isDismissible:{defaultValue:{value:"false"},description:"",name:"isDismissible",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},actions:{defaultValue:null,description:"",name:"actions",required:!0,type:{name:"{ label: string; onClick: () => void; variant: string; noDefaultClasses: boolean; }[]"}},addConnectUserLink:{defaultValue:null,description:"",name:"addConnectUserLink",required:!1,type:{name:"string | boolean"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!1,type:{name:"() => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/admin/components/global-notice/index.tsx#globalnotice"]={docgenInfo:globalnotice.__docgenInfo,name:"globalnotice",path:"../../packages/videopress/src/client/admin/components/global-notice/index.tsx#globalnotice"})}catch(b){}var k=`/**
 * External dependencies
 */
import { action } from '@storybook/addon-actions';
import React from 'react';
import GlobalNotice from '..';

export default {
	title: 'Packages/VideoPress/GlobalNotice',
	component: GlobalNotice,
	argTypes: {
		status: {
			control: {
				type: 'select',
			},
			options: [ 'success', 'info', 'warning', 'error' ],
		},
	},
};

const Template = args => <GlobalNotice { ...args } />;

export const _default = Template.bind( {} );
_default.args = {
	children: 'Typical error message',
	isDismissible: true,
	status: 'error',

	onRemove: action( 'onRemove' ),
};
`,B={_default:{startLoc:{col:17,line:19},endLoc:{col:51,line:19},startBody:{col:17,line:19},endBody:{col:51,line:19}}};const L={parameters:{storySource:{source:`/**
 * External dependencies
 */
import { action } from '@storybook/addon-actions';
import React from 'react';
import GlobalNotice from '..';
export default {
  title: 'Packages/VideoPress/GlobalNotice',
  component: GlobalNotice,
  argTypes: {
    status: {
      control: {
        type: 'select'
      },
      options: ['success', 'info', 'warning', 'error']
    }
  }
};
const Template = args => <GlobalNotice {...args} />;
export const _default = Template.bind({});
_default.args = {
  children: 'Typical error message',
  isDismissible: true,
  status: 'error',
  onRemove: action('onRemove')
};
_default.parameters = {
  ..._default.parameters,
  docs: {
    ..._default.parameters?.docs,
    source: {
      originalSource: "args => <GlobalNotice {...args} />",
      ..._default.parameters?.docs?.source
    }
  }
};`,locationsMap:{default:{startLoc:{col:17,line:19},endLoc:{col:51,line:19},startBody:{col:17,line:19},endBody:{col:51,line:19}}}}},title:"Packages/VideoPress/GlobalNotice",component:I,argTypes:{status:{control:{type:"select"},options:["success","info","warning","error"]}}},j=b=>(0,T.jsx)(I,{...b});j.displayName="Template";const v=j.bind({});v.args={children:"Typical error message",isDismissible:!0,status:"error",onRemove:(0,t.aD)("onRemove")},v.parameters={...v.parameters,docs:{...(h=v.parameters)==null?void 0:h.docs,source:{originalSource:"args => <GlobalNotice {...args} />",...(z=(f=v.parameters)==null?void 0:f.docs)==null?void 0:z.source}}};const R=["_default"]},"../connection/components/use-connection/index.jsx":(a,l,e)=>{"use strict";e.d(l,{Z:()=>u});var t=e("../api/index.jsx"),c=e("../../../node_modules/.pnpm/@wordpress+data@9.2.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-dispatch/use-dispatch.js"),i=e("../../../node_modules/.pnpm/@wordpress+data@9.2.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-select/index.js"),d=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),n=e("../connection/state/store.jsx");const r=window!=null&&window.JP_CONNECTION_INITIAL_STATE?window.JP_CONNECTION_INITIAL_STATE:{},u=function(){let{registrationNonce:E=r.registrationNonce,apiRoot:p=r.apiRoot,apiNonce:g=r.apiNonce,redirectUri:m,autoTrigger:S,from:W,skipUserConnection:w}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{registerSite:C,connectUser:P,refreshConnectedPlugins:y}=(0,c.Z)(n.t),T=(0,i.Z)(f=>f(n.t).getRegistrationError()),{siteIsRegistering:N,userIsConnecting:x,userConnectionData:I,connectedPlugins:M,connectionErrors:k,isRegistered:B,isUserConnected:L,hasConnectedOwner:j,isOfflineMode:v}=(0,i.Z)(f=>({siteIsRegistering:f(n.t).getSiteIsRegistering(),userIsConnecting:f(n.t).getUserIsConnecting(),userConnectionData:f(n.t).getUserConnectionData(),connectedPlugins:f(n.t).getConnectedPlugins(),connectionErrors:f(n.t).getConnectionErrors(),isOfflineMode:f(n.t).getIsOfflineMode(),...f(n.t).getConnectionStatus()})),R=()=>{if(w){if(m)return window.location=m,Promise.resolve(m)}else return P({from:W,redirectUri:m});return Promise.resolve()},h=f=>(f&&f.preventDefault(),B?R():C({registrationNonce:E,redirectUri:m}).then(()=>R()));return(0,d.useEffect)(()=>{t.ZP.setApiRoot(p),t.ZP.setApiNonce(g)},[p,g]),(0,d.useEffect)(()=>{S&&!N&&!x&&h()},[]),{handleRegisterSite:h,handleConnectUser:R,refreshConnectedPlugins:y,isRegistered:B,isUserConnected:L,siteIsRegistering:N,userIsConnecting:x,registrationError:T,userConnectionData:I,hasConnectedOwner:j,connectedPlugins:M,connectionErrors:k,isOfflineMode:v}}},"../connection/state/store.jsx":(a,l,e)=>{"use strict";e.d(l,{t:()=>U});var t=e("../api/index.jsx");const c="SET_CONNECTION_STATUS",i="SET_CONNECTION_STATUS_IS_FETCHING",d="FETCH_CONNECTION_STATUS",n="SET_SITE_IS_REGISTERING",r="SET_USER_IS_CONNECTING",u="SET_REGISTRATION_ERROR",E="CLEAR_REGISTRATION_ERROR",p="REGISTER_SITE",g="SET_AUTHORIZATION_URL",m="CONNECT_USER",S="DISCONNECT_USER_SUCCESS",W="FETCH_AUTHORIZATION_URL",w="SET_CONNECTED_PLUGINS",C="REFRESH_CONNECTED_PLUGINS",P="SET_CONNECTION_ERRORS",y="SET_IS_OFFLINE_MODE",T=s=>({type:c,connectionStatus:s}),N=s=>({type:i,isFetching:s}),x=()=>({type:d}),I=s=>({type:n,isRegistering:s}),M=s=>({type:r,isConnecting:s}),k=()=>({type:S}),B=s=>({type:u,registrationError:s}),L=()=>({type:E}),j=s=>({type:g,authorizationUrl:s}),v=s=>({type:W,redirectUri:s}),R=s=>({type:w,connectedPlugins:s}),h=s=>({type:P,connectionErrors:s}),f=s=>({type:y,isOfflineMode:s});function z(){let{from:s,redirectFunc:o,redirectUri:_}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function*(){yield M(!0),yield{type:m,from:s,redirectFunc:o,redirectUri:_}}()}function b(s){let{registrationNonce:o,redirectUri:_}=s;return function*(){yield L(),yield I(!0);try{const O=yield{type:p,registrationNonce:o,redirectUri:_};return yield T({isRegistered:!0}),yield j(O.authorizeUrl),yield I(!1),Promise.resolve(O)}catch(O){return yield B(O),yield I(!1),Promise.reject(O)}}()}const D={setConnectionStatus:T,setConnectionStatusIsFetching:N,fetchConnectionStatus:x,fetchAuthorizationUrl:v,setSiteIsRegistering:I,setUserIsConnecting:M,setRegistrationError:B,clearRegistrationError:L,setAuthorizationUrl:j,registerSite:b,connectUser:z,disconnectUserSuccess:k,setConnectedPlugins:R,refreshConnectedPlugins:()=>async s=>{let{dispatch:o}=s;return await new Promise(_=>t.ZP.fetchConnectedPlugins().then(O=>{o(R(O)),_(O)}))},setConnectionErrors:h,setIsOfflineMode:f};var K=e("../../../node_modules/.pnpm/@wordpress+data@9.2.0_react@18.2.0/node_modules/@wordpress/data/build-module/factory.js");const U="jetpack-connection",H=s=>{let{registrationNonce:o,redirectUri:_}=s;return t.ZP.registerSite(o,_)},Y=(0,K.R)(s=>{let{resolveSelect:o}=s;return function(){let{from:_,redirectFunc:O,redirectUri:F}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise((X,ye)=>{o(U).getAuthorizationUrl(F).then(Q=>{const Te=O||(Re=>window.location.assign(Re)),J=new URL(Q);_&&J.searchParams.set("from",encodeURIComponent(_));const q=J.toString();Te(q),X(q)}).catch(Q=>{ye(Q)})})}}),ee={FETCH_AUTHORIZATION_URL:s=>{let{redirectUri:o}=s;return t.ZP.fetchAuthorizationUrl(o)},REGISTER_SITE:H,CONNECT_USER:Y};var V=e("../../../node_modules/.pnpm/@wordpress+data@9.2.0_react@18.2.0/node_modules/@wordpress/data/build-module/index.js");const se=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;switch(o.type){case c:return{...s,...o.connectionStatus};case S:return{...s,isUserConnected:!1}}return s},ne=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;switch(o.type){case w:return o.connectedPlugins}return s},te=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case i:return o.isFetching}return s},oe=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case n:return o.isRegistering}return s},re=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case r:return o.isConnecting}return s},ie=(s,o)=>{switch(o.type){case E:return!1;case u:return o.registrationError;default:return s}},de=(s,o)=>{switch(o.type){case g:return o.authorizationUrl;default:return s}},ae=(s,o)=>{switch(o.type){default:return s}},le=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;switch(o.type){case P:return o.connectionErrors}return s},ce=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case y:return o.isConnecting}return s},ue=(0,V.UY)({connectionStatus:se,connectionStatusIsFetching:te,siteIsRegistering:oe,userIsConnecting:re,registrationError:ie,authorizationUrl:de,userConnectionData:ae,connectedPlugins:ne,connectionErrors:le,isOfflineMode:ce}),me={...{getAuthorizationUrl:{isFulfilled:function(s){const o=!!s.authorizationUrl;for(var _=arguments.length,O=new Array(_>1?_-1:0),F=1;F<_;F++)O[F-1]=arguments[F];const X=(0,V.Ys)(U).hasFinishedResolution("getAuthorizationUrl",O);return o&&!X&&(0,V.WI)(U).finishResolution("getAuthorizationUrl",O),o},*fulfill(s){const o=yield D.fetchAuthorizationUrl(s);yield D.setAuthorizationUrl(o.authorizeUrl)}}}},_e={...{getConnectionStatus:s=>s.connectionStatus||{},getConnectionStatusIsFetching:()=>!1,getSiteIsRegistering:s=>s.siteIsRegistering||!1,getUserIsConnecting:s=>s.userIsConnecting||!1,getRegistrationError:s=>s.registrationError||!1,getAuthorizationUrl:s=>s.authorizationUrl||!1,getUserConnectionData:s=>s.userConnectionData||!1,getConnectedPlugins:s=>s.connectedPlugins||[],getConnectionErrors:s=>s.connectionErrors||[],getIsOfflineMode:s=>s.isOfflineMode||!1,getWpcomUser:s=>{var o,_;return(_=(o=s==null?void 0:s.userConnectionData)==null?void 0:o.currentUser)==null?void 0:_.wpcomUser},getBlogId:s=>{var o,_;return(_=(o=s==null?void 0:s.userConnectionData)==null?void 0:o.currentUser)==null?void 0:_.blogId}}};var pe=e("../../../node_modules/.pnpm/@babel+runtime@7.21.5/node_modules/@babel/runtime/helpers/defineProperty.js"),ge=e.n(pe),fe=e("../../../node_modules/.pnpm/@wordpress+data@9.2.0_react@18.2.0/node_modules/@wordpress/data/build-module/redux-store/index.js");class Z{static mayBeInit(o,_){Z.store===null&&(Z.store=(0,fe.Z)(o,_),(0,V.z2)(Z.store))}}ge()(Z,"store",null);const Ee=Z,$=window.JP_CONNECTION_INITIAL_STATE;$||console.error("Jetpack Connection package: Initial state is missing. Check documentation to see how to use the Connection composer package to set up the initial state."),Ee.mayBeInit(U,{__experimentalUseThunks:!0,reducer:ue,actions:D,selectors:_e,resolvers:me,controls:ee,initialState:$||{}})},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/admin/components/global-notice/styles.module.scss":(a,l,e)=>{"use strict";e.d(l,{Z:()=>r});var t=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),c=e.n(t),i=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),d=e.n(i),n=d()(c());n.push([a.id,".O4U2IigRCTI0aU8BhBRn{margin:0;font-size:16px}.O4U2IigRCTI0aU8BhBRn.is-error{background-color:var(--jp-red-0)}.O4U2IigRCTI0aU8BhBRn .components-notice__content{display:flex;align-items:center;margin:0;padding:12px 4px}.O4U2IigRCTI0aU8BhBRn .components-notice__content>svg{fill:var(--jp-red-60)}.O4U2IigRCTI0aU8BhBRn .is-link{color:var(--jp-black);font-size:16px;font-weight:600}.O4U2IigRCTI0aU8BhBRn .components-notice__dismiss{align-self:center}.O4U2IigRCTI0aU8BhBRn.p3PMX1cbVKnzwQByPs8r{color:var(--jp-yellow-40)}.O4U2IigRCTI0aU8BhBRn.p3PMX1cbVKnzwQByPs8r .MWYzw6ab74IUviPtFAyo{fill:var(--jp-yellow-40)}.O4U2IigRCTI0aU8BhBRn.SG0xptj_jnXuWDvY2RTG{color:var(--jp-blue-40)}.O4U2IigRCTI0aU8BhBRn.SG0xptj_jnXuWDvY2RTG .MWYzw6ab74IUviPtFAyo{fill:var(--jp-blue-40)}.O4U2IigRCTI0aU8BhBRn.Y8HEO3rLiVzm8xR41_yH{color:var(--jp-green)}.O4U2IigRCTI0aU8BhBRn.Y8HEO3rLiVzm8xR41_yH .MWYzw6ab74IUviPtFAyo{fill:var(--jp-green)}.O4U2IigRCTI0aU8BhBRn .kpYmL80bVc4zklSKLsBq{margin-left:8px}",""]),n.locals={notice:"O4U2IigRCTI0aU8BhBRn","is-warning":"p3PMX1cbVKnzwQByPs8r",icon:"MWYzw6ab74IUviPtFAyo","is-info":"SG0xptj_jnXuWDvY2RTG","is-success":"Y8HEO3rLiVzm8xR41_yH",message:"kpYmL80bVc4zklSKLsBq"};const r=n}}]);})();
