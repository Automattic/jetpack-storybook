"use strict";(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[8133],{"../../../node_modules/.pnpm/@wordpress+api-fetch@6.27.0/node_modules/@wordpress/api-fetch/build-module/index.js":(R,_,c)=>{c.d(_,{Z:()=>A});var f=c("../../../node_modules/.pnpm/@wordpress+i18n@4.30.0/node_modules/@wordpress/i18n/build-module/index.js");function y(e){const r=(t,s)=>{const{headers:n={}}=t;for(const a in n)if(a.toLowerCase()==="x-wp-nonce"&&n[a]===r.nonce)return s(t);return s({...t,headers:{...n,"X-WP-Nonce":r.nonce}})};return r.nonce=e,r}const h=y,d=(e,r)=>{let t=e.path,s,n;return typeof e.namespace=="string"&&typeof e.endpoint=="string"&&(s=e.namespace.replace(/^\/|\/$/g,""),n=e.endpoint.replace(/^\//,""),n?t=s+"/"+n:t=s),delete e.namespace,delete e.endpoint,r({...e,path:t})},o=e=>(r,t)=>d(r,s=>{let n=s.url,a=s.path,u;return typeof a=="string"&&(u=e,e.indexOf("?")!==-1&&(a=a.replace("?","&")),a=a.replace(/^\//,""),typeof u=="string"&&u.indexOf("?")!==-1&&(a=a.replace("?","&")),n=u+a),t({...s,url:n})});function b(e){const r=e.split("?"),t=r[1],s=r[0];return t?s+"?"+t.split("&").map(n=>n.split("=")).map(n=>n.map(decodeURIComponent)).sort((n,a)=>n[0].localeCompare(a[0])).map(n=>n.map(encodeURIComponent)).map(n=>n.join("=")).join("&"):s}var E=c("../../../node_modules/.pnpm/@wordpress+url@3.31.0/node_modules/@wordpress/url/build-module/get-query-args.js"),m=c("../../../node_modules/.pnpm/@wordpress+url@3.31.0/node_modules/@wordpress/url/build-module/add-query-args.js");function l(e){const r=Object.fromEntries(Object.entries(e).map(t=>{let[s,n]=t;return[b(s),n]}));return(t,s)=>{const{parse:n=!0}=t;let a=t.path;if(!a&&t.url){const{rest_route:P,...O}=(0,E.w)(t.url);typeof P=="string"&&(a=(0,m.f)(P,O))}if(typeof a!="string")return s(t);const u=t.method||"GET",p=b(a);if(u==="GET"&&r[p]){const P=r[p];return delete r[p],M(P,!!n)}else if(u==="OPTIONS"&&r[u]&&r[u][p]){const P=r[u][p];return delete r[u][p],M(P,!!n)}return s(t)}}function M(e,r){return Promise.resolve(r?e.body:new window.Response(JSON.stringify(e.body),{status:200,statusText:"OK",headers:e.headers}))}const S=l,q=(e,r)=>{let{path:t,url:s,...n}=e;return{...n,url:s&&(0,m.f)(s,r),path:t&&(0,m.f)(t,r)}},U=e=>e.json?e.json():Promise.reject(e),L=e=>{if(!e)return{};const r=e.match(/<([^>]+)>; rel="next"/);return r?{next:r[1]}:{}},v=e=>{const{next:r}=L(e.headers.get("link"));return r},H=e=>{const r=!!e.path&&e.path.indexOf("per_page=-1")!==-1,t=!!e.url&&e.url.indexOf("per_page=-1")!==-1;return r||t},x=async(e,r)=>{if(e.parse===!1||!H(e))return r(e);const t=await A({...q(e,{per_page:100}),parse:!1}),s=await U(t);if(!Array.isArray(s))return s;let n=v(t);if(!n)return s;let a=[].concat(s);for(;n;){const u=await A({...e,path:void 0,url:n,parse:!1}),p=await U(u);a=a.concat(p),n=v(u)}return a},F=new Set(["PATCH","PUT","DELETE"]),Q="GET",J=(e,r)=>{const{method:t=Q}=e;return F.has(t.toUpperCase())&&(e={...e,headers:{...e.headers,"X-HTTP-Method-Override":t,"Content-Type":"application/json"},method:"POST"}),r(e)};function $(e,r){return(0,E.w)(e)[r]}function k(e,r){return $(e,r)!==void 0}const z=(e,r)=>(typeof e.url=="string"&&!k(e.url,"_locale")&&(e.url=(0,m.f)(e.url,{_locale:"user"})),typeof e.path=="string"&&!k(e.path,"_locale")&&(e.path=(0,m.f)(e.path,{_locale:"user"})),r(e)),K=function(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?e.status===204?null:e.json?e.json():Promise.reject(e):e},V=e=>{const r={code:"invalid_json",message:(0,f.__)("The response is not a valid JSON response.")};if(!e||!e.json)throw r;return e.json().catch(()=>{throw r})},C=function(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Promise.resolve(K(e,r)).catch(t=>j(t,r))};function j(e){if(!(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0))throw e;return V(e).then(t=>{const s={code:"unknown_error",message:(0,f.__)("An unknown error occurred.")};throw t||s})}function B(e){const r=!!e.method&&e.method==="POST";return(!!e.path&&e.path.indexOf("/wp/v2/media")!==-1||!!e.url&&e.url.indexOf("/wp/v2/media")!==-1)&&r}const G=(e,r)=>{if(!B(e))return r(e);let t=0;const s=5,n=a=>(t++,r({path:`/wp/v2/media/${a}/post-process`,method:"POST",data:{action:"create-image-subsizes"},parse:!1}).catch(()=>t<s?n(a):(r({path:`/wp/v2/media/${a}?force=true`,method:"DELETE"}),Promise.reject())));return r({...e,parse:!1}).catch(a=>{const u=a.headers.get("x-wp-upload-attachment-id");return a.status>=500&&a.status<600&&u?n(u).catch(()=>e.parse!==!1?Promise.reject({code:"post_process",message:(0,f.__)("Media upload failed. If this is a photo or a large image, please scale it down and try again.")}):Promise.reject(a)):j(a,e.parse)}).then(a=>C(a,e.parse))},W={Accept:"application/json, */*;q=0.1"},X={credentials:"include"},N=[z,d,J,x];function Y(e){N.unshift(e)}const I=e=>{if(e.status>=200&&e.status<300)return e;throw e};let D=e=>{const{url:r,path:t,data:s,parse:n=!0,...a}=e;let{body:u,headers:p}=e;return p={...W,...p},s&&(u=JSON.stringify(s),p["Content-Type"]="application/json"),window.fetch(r||t||window.location.href,{...X,...a,body:u,headers:p}).then(O=>Promise.resolve(O).then(I).catch(T=>j(T,n)).then(T=>C(T,n)),O=>{throw O&&O.name==="AbortError"?O:{code:"fetch_error",message:(0,f.__)("You are probably offline.")}})};function Z(e){D=e}function w(e){return N.reduceRight((t,s)=>n=>s(n,t),D)(e).catch(t=>t.code!=="rest_cookie_invalid_nonce"?Promise.reject(t):window.fetch(w.nonceEndpoint).then(I).then(s=>s.text()).then(s=>(w.nonceMiddleware.nonce=s,w(e))))}w.use=Y,w.setFetchHandler=Z,w.createNonceMiddleware=h,w.createPreloadingMiddleware=S,w.createRootURLMiddleware=o,w.fetchAllMiddleware=x,w.mediaUploadMiddleware=G;const A=w},"../../../node_modules/.pnpm/@wordpress+url@3.31.0/node_modules/@wordpress/url/build-module/add-query-args.js":(R,_,c)=>{c.d(_,{f:()=>h});var f=c("../../../node_modules/.pnpm/@wordpress+url@3.31.0/node_modules/@wordpress/url/build-module/get-query-args.js"),y=c("../../../node_modules/.pnpm/@wordpress+url@3.31.0/node_modules/@wordpress/url/build-module/build-query-string.js");function h(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",d=arguments.length>1?arguments[1]:void 0;if(!d||!Object.keys(d).length)return g;let i=g;const o=g.indexOf("?");return o!==-1&&(d=Object.assign((0,f.w)(g),d),i=i.substr(0,o)),i+"?"+(0,y.I)(d)}},"../../../node_modules/.pnpm/@wordpress+url@3.31.0/node_modules/@wordpress/url/build-module/build-query-string.js":(R,_,c)=>{c.d(_,{I:()=>f});function f(y){let h="";const g=Object.entries(y);let d;for(;d=g.shift();){let[i,o]=d;if(Array.isArray(o)||o&&o.constructor===Object){const E=Object.entries(o).reverse();for(const[m,l]of E)g.unshift([`${i}[${m}]`,l])}else o!==void 0&&(o===null&&(o=""),h+="&"+[i,o].map(encodeURIComponent).join("="))}return h.substr(1)}},"../../../node_modules/.pnpm/@wordpress+url@3.31.0/node_modules/@wordpress/url/build-module/get-query-args.js":(R,_,c)=>{c.d(_,{w:()=>g});function f(d){try{return decodeURIComponent(d)}catch(i){return d}}var y=c("../../../node_modules/.pnpm/@wordpress+url@3.31.0/node_modules/@wordpress/url/build-module/get-query-string.js");function h(d,i,o){const b=i.length,E=b-1;for(let m=0;m<b;m++){let l=i[m];!l&&Array.isArray(d)&&(l=d.length.toString()),l=["__proto__","constructor","prototype"].includes(l)?l.toUpperCase():l;const M=!isNaN(Number(i[m+1]));d[l]=m===E?o:d[l]||(M?[]:{}),Array.isArray(d[l])&&!M&&(d[l]={...d[l]}),d=d[l]}}function g(d){return((0,y.W)(d)||"").replace(/\+/g,"%20").split("&").reduce((i,o)=>{const[b,E=""]=o.split("=").filter(Boolean).map(f);if(b){const m=b.replace(/\]/g,"").split("[");h(i,m,E)}return i},Object.create(null))}},"../../../node_modules/.pnpm/@wordpress+url@3.31.0/node_modules/@wordpress/url/build-module/get-query-string.js":(R,_,c)=>{c.d(_,{W:()=>f});function f(y){let h;try{h=new URL(y,"http://example.com").search.substring(1)}catch(g){}if(h)return h}}}]);})();
