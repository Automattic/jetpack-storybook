(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[5348],{"../../../node_modules/.pnpm/@wordpress+compose@6.18.0_react@18.2.0/node_modules/@wordpress/compose/build-module/utils/throttle/index.js":(Dn,Ll,Ft)=>{"use strict";Ft.d(Ll,{P:()=>ge});var fl=Ft("../../../node_modules/.pnpm/@wordpress+compose@6.18.0_react@18.2.0/node_modules/@wordpress/compose/build-module/utils/debounce/index.js");const ge=(Kt,Yt,be)=>{let dt=!0,Q=!0;return be&&(dt="leading"in be?!!be.leading:dt,Q="trailing"in be?!!be.trailing:Q),(0,fl.D)(Kt,Yt,{leading:dt,trailing:Q,maxWait:Yt})}},"../../../node_modules/.pnpm/uplot-react@1.1.4_react@18.2.0_uplot@1.6.24/node_modules/uplot-react/uplot-react.js":(Dn,Ll,Ft)=>{(function(ge,Kt){Dn.exports=Kt(Ft("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),Ft("../../../node_modules/.pnpm/uplot@1.6.24/node_modules/uplot/dist/uPlot.esm.js"))})(self,(fl,ge)=>(()=>{"use strict";var Kt={"./common/index.ts":(Q,Pe,Ze)=>{Ze.r(Pe),Ze.d(Pe,{dataMatch:()=>Cl,optionsUpdateState:()=>ut});var cl=function(Ae,he){var me={};for(var ve in Ae)Object.prototype.hasOwnProperty.call(Ae,ve)&&he.indexOf(ve)<0&&(me[ve]=Ae[ve]);if(Ae!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $e=0,ve=Object.getOwnPropertySymbols(Ae);$e<ve.length;$e++)he.indexOf(ve[$e])<0&&Object.prototype.propertyIsEnumerable.call(Ae,ve[$e])&&(me[ve[$e]]=Ae[ve[$e]]);return me};Object.is||Object.defineProperty(Object,"is",{value:function(he,me){return he===me&&(he!==0||1/he===1/me)||he!==he&&me!==me}});var ut=function(he,me){var ve=he.width,$e=he.height,Mt=cl(he,["width","height"]),Vt=me.width,Jt=me.height,qt=cl(me,["width","height"]),Pt="keep";if(($e!==Jt||ve!==Vt)&&(Pt="update"),Object.keys(Mt).length!==Object.keys(qt).length)return"create";for(var He=0,gt=Object.keys(Mt);He<gt.length;He++){var ft=gt[He];if(!Object.is(Mt[ft],qt[ft])){Pt="create";break}}return Pt},Cl=function(he,me){return he.length!==me.length?!1:he.every(function(ve,$e){var Mt=me[$e];return ve.length!==Mt.length?!1:ve.every(function(Vt,Jt){return Vt===Mt[Jt]})})}},react:Q=>{Q.exports=fl},uplot:Q=>{Q.exports=ge}},Yt={};function be(Q){var Pe=Yt[Q];if(Pe!==void 0)return Pe.exports;var Ze=Yt[Q]={exports:{}};return Kt[Q](Ze,Ze.exports,be),Ze.exports}be.n=Q=>{var Pe=Q&&Q.__esModule?()=>Q.default:()=>Q;return be.d(Pe,{a:Pe}),Pe},be.d=(Q,Pe)=>{for(var Ze in Pe)be.o(Pe,Ze)&&!be.o(Q,Ze)&&Object.defineProperty(Q,Ze,{enumerable:!0,get:Pe[Ze]})},be.o=(Q,Pe)=>Object.prototype.hasOwnProperty.call(Q,Pe),be.r=Q=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})};var dt={};return(()=>{/*!*******************************!*\
  !*** ./react/uplot-react.tsx ***!
  \*******************************/be.r(dt),be.d(dt,{default:()=>Cl});var Q=be("react"),Pe=be.n(Q),Ze=be("uplot"),cl=be.n(Ze),ut=be("./common/index.ts");function Cl(Ae){var he=Ae.options,me=Ae.data,ve=Ae.target,$e=Ae.onDelete,Mt=$e===void 0?function(){}:$e,Vt=Ae.onCreate,Jt=Vt===void 0?function(){}:Vt,qt=Ae.resetScales,Pt=qt===void 0?!0:qt,He=(0,Q.useRef)(null),gt=(0,Q.useRef)(null);function ft(je){je&&(Mt(je),je.destroy(),He.current=null)}function Et(){var je=new(cl())(he,me,ve||gt.current);He.current=je,Jt(je)}(0,Q.useEffect)(function(){return Et(),function(){ft(He.current)}},[]);var wt=(0,Q.useRef)({options:he,data:me,target:ve}).current;return(0,Q.useEffect)(function(){if(wt.options!==he){var je=(0,ut.optionsUpdateState)(wt.options,he);!He.current||je==="create"?(ft(He.current),Et()):je==="update"&&He.current.setSize({width:he.width,height:he.height})}return wt.data!==me&&(He.current?(0,ut.dataMatch)(wt.data,me)||(Pt?He.current.setData(me,!0):(He.current.setData(me,!1),He.current.redraw())):Et()),wt.target!==ve&&(ft(He.current),Et()),function(){wt.options=he,wt.data=me,wt.target=ve}},[he,me,ve,Pt]),ve?null:Pe().createElement("div",{ref:gt})}})(),dt=dt.default,dt})())},"../../../node_modules/.pnpm/uplot@1.6.24/node_modules/uplot/dist/uPlot.esm.js":(Dn,Ll,Ft)=>{"use strict";Ft.r(Ll),Ft.d(Ll,{default:()=>Ye});const fl=!0,ge="u-",Kt="uplot",Yt=ge+"hz",be=ge+"vt",dt=ge+"title",Q=ge+"wrap",Pe=ge+"under",Ze=ge+"over",cl=ge+"axis",ut=ge+"off",Cl=ge+"select",Ae=ge+"cursor-x",he=ge+"cursor-y",me=ge+"cursor-pt",ve=ge+"legend",$e=ge+"live",Mt=ge+"inline",Vt=ge+"thead",Jt=ge+"series",qt=ge+"marker",Pt=ge+"label",He=ge+"value",gt="width",ft="height",Et="top",wt="bottom",je="left",Tn="right",Pn="#000",yo=Pn+"0",bo="mousemove",Mo="mousedown",An="mouseup",Eo="mouseenter",ko="mouseleave",xo="dblclick",us="resize",fs="scroll",Do="change",Ql="dppxchange",Ln="--",al=typeof window!="undefined",Cn=al?document:null,pl=al?window:null,cs=al?navigator:null;let le,Xl;function Rn(){let e=devicePixelRatio;le!=e&&(le=e,Xl&&Fn(Do,Xl,Rn),Xl=matchMedia(`(min-resolution: ${le-.001}dppx) and (max-resolution: ${le+.001}dppx)`),Nt(Do,Xl,Rn),pl.dispatchEvent(new CustomEvent(Ql)))}function it(e,l){if(l!=null){let i=e.classList;!i.contains(l)&&i.add(l)}}function On(e,l){let i=e.classList;i.contains(l)&&i.remove(l)}function ye(e,l,i){e.style[l]=i+"px"}function At(e,l,i,o){let s=Cn.createElement(e);return l!=null&&it(s,l),i!=null&&i.insertBefore(s,o),s}function ct(e,l){return At("div",e,l)}const To=new WeakMap;function hl(e,l,i,o,s){let a="translate("+l+"px,"+i+"px)",c=To.get(e);a!=c&&(e.style.transform=a,To.set(e,a),l<0||i<0||l>o||i>s?it(e,ut):On(e,ut))}const Po=new WeakMap;function as(e,l,i){let o=l+i,s=Po.get(e);o!=s&&(Po.set(e,o),e.style.background=l,e.style.borderColor=i)}const Ao=new WeakMap;function ps(e,l,i,o){let s=l+""+i,a=Ao.get(e);s!=a&&(Ao.set(e,s),e.style.height=i+"px",e.style.width=l+"px",e.style.marginLeft=o?-l/2+"px":0,e.style.marginTop=o?-i/2+"px":0)}const zn={passive:!0},Lo={...zn,capture:!0};function Nt(e,l,i,o){l.addEventListener(e,i,o?Lo:zn)}function Fn(e,l,i,o){l.removeEventListener(e,i,o?Lo:zn)}al&&Rn();function Ht(e,l,i,o){let s;i=i||0,o=o||l.length-1;let a=o<=2147483647;for(;o-i>1;)s=a?i+o>>1:at((i+o)/2),l[s]<e?i=s:o=s;return e-l[i]<=l[o]-e?i:o}function ml(e,l,i,o){for(let s=o==1?l:i;s>=l&&s<=i;s+=o)if(e[s]!=null)return s;return-1}function hs(e,l,i,o){let s=Z,a=-Z;if(o==1)s=e[l],a=e[i];else if(o==-1)s=e[i],a=e[l];else for(let c=l;c<=i;c++)e[c]!=null&&(s=Qe(s,e[c]),a=Le(a,e[c]));return[s,a]}function ms(e,l,i){let o=Z,s=-Z;for(let a=l;a<=i;a++)e[a]>0&&(o=Qe(o,e[a]),s=Le(s,e[a]));return[o==Z?1:o,s==-Z?10:s]}function en(e,l,i,o){let s=Oo(e),a=Oo(l),c=i==10?Lt:zo;e==l&&(s==-1?(e*=i,l/=i):(e/=i,l*=i));let g=s==1?at:nn,d=a==1?nn:at,m=g(c(Ke(e))),_=d(c(Ke(l))),S=dl(i,m),p=dl(i,_);return i==10&&(m<0&&(S=ae(S,-m)),_<0&&(p=ae(p,-_))),o||i==2?(e=S*s,l=p*a):(e=Go(e,S),l=wl(l,p)),[e,l]}function Vn(e,l,i,o){let s=en(e,l,i,o);return e==0&&(s[0]=0),l==0&&(s[1]=0),s}const Nn=.1,Co={mode:3,pad:Nn},Rl={pad:0,soft:null,mode:0},ds={min:Rl,max:Rl};function tn(e,l,i,o){return sn(i)?Ro(e,l,i):(Rl.pad=i,Rl.soft=o?0:null,Rl.mode=o?3:0,Ro(e,l,ds))}function ie(e,l){return e==null?l:e}function gs(e,l,i){for(l=ie(l,0),i=ie(i,e.length-1);l<=i;){if(e[l]!=null)return!0;l++}return!1}function Ro(e,l,i){let o=i.min,s=i.max,a=ie(o.pad,0),c=ie(s.pad,0),g=ie(o.hard,-Z),d=ie(s.hard,Z),m=ie(o.soft,Z),_=ie(s.soft,-Z),S=ie(o.mode,0),p=ie(s.mode,0),T=l-e,C=Lt(T),x=Le(Ke(e),Ke(l)),R=Lt(x),q=Ke(R-C);(T<1e-9||q>10)&&(T=0,(e==0||l==0)&&(T=1e-9,S==2&&m!=Z&&(a=0),p==2&&_!=-Z&&(c=0)));let O=T||x||1e3,M=Lt(O),A=dl(10,at(M)),k=O*(T==0?e==0?.1:1:a),N=ae(Go(e-k,A/10),9),D=e>=m&&(S==1||S==3&&N<=m||S==2&&N>=m)?m:Z,I=Le(g,N<D&&e>=D?D:Qe(D,N)),G=O*(T==0?l==0?.1:1:c),F=ae(wl(l+G,A/10),9),b=l<=_&&(p==1||p==3&&F>=_||p==2&&F<=_)?_:-Z,V=Qe(d,F>b&&l<=b?b:Le(b,F));return I==V&&I==0&&(V=100),[I,V]}const ws=new Intl.NumberFormat(al?cs.language:"en-US"),Hn=e=>ws.format(e),st=Math,ln=st.PI,Ke=st.abs,at=st.floor,We=st.round,nn=st.ceil,Qe=st.min,Le=st.max,dl=st.pow,Oo=st.sign,Lt=st.log10,zo=st.log2,_s=(e,l=1)=>st.sinh(e)*l,Wn=(e,l=1)=>st.asinh(e/l),Z=1/0;function Fo(e){return(Lt((e^e>>31)-(e>>31))|0)+1}function Vo(e,l,i){return Qe(Le(e,l),i)}function $(e){return typeof e=="function"?e:()=>e}const Ss=()=>{},vs=e=>e,No=(e,l)=>l,ys=e=>null,Ho=e=>!0,Wo=(e,l)=>e==l,gl=e=>ae(e,14);function Zt(e,l){return gl(ae(gl(e/l))*l)}function wl(e,l){return gl(nn(gl(e/l))*l)}function Go(e,l){return gl(at(gl(e/l))*l)}function ae(e,l=0){if(Ms(e))return e;let i=10**l,o=e*i*(1+Number.EPSILON);return We(o)/i}const on=new Map;function bs(e){return((""+e).split(".")[1]||"").length}function Ol(e,l,i,o){let s=[],a=o.map(bs);for(let c=l;c<i;c++){let g=Ke(c),d=ae(dl(e,c),g);for(let m=0;m<o.length;m++){let _=o[m]*d,S=(_>=0&&c>=0?0:g)+(c>=a[m]?0:a[m]),p=ae(_,S);s.push(p),on.set(p,S)}}return s}const zl={},Io=[],_l=[null,null],$t=Array.isArray,Ms=Number.isInteger,Es=e=>e===void 0;function Uo(e){return typeof e=="string"}function sn(e){let l=!1;if(e!=null){let i=e.constructor;l=i==null||i==Object}return l}function Bo(e){return e!=null&&typeof e=="object"}const ks=Object.getPrototypeOf(Uint8Array);function Qt(e,l=sn){let i;if($t(e)){let o=e.find(s=>s!=null);if($t(o)||l(o)){i=Array(e.length);for(let s=0;s<e.length;s++)i[s]=Qt(e[s],l)}else i=e.slice()}else if(e instanceof ks)i=e.slice();else if(l(e)){i={};for(let o in e)i[o]=Qt(e[o],l)}else i=e;return i}function xe(e){let l=arguments;for(let i=1;i<l.length;i++){let o=l[i];for(let s in o)sn(e[s])?xe(e[s],Qt(o[s])):e[s]=Qt(o[s])}return e}const xs=0,Ds=1,Ts=2;function Ps(e,l,i){for(let o=0,s,a=-1;o<l.length;o++){let c=l[o];if(c>a){for(s=c-1;s>=0&&e[s]==null;)e[s--]=null;for(s=c+1;s<i&&e[s]==null;)e[a=s++]=null}}}function As(e,l){let i=new Set;for(let c=0;c<e.length;c++){let d=e[c][0],m=d.length;for(let _=0;_<m;_++)i.add(d[_])}let o=[Array.from(i).sort((c,g)=>c-g)],s=o[0].length,a=new Map;for(let c=0;c<s;c++)a.set(o[0][c],c);for(let c=0;c<e.length;c++){let g=e[c],d=g[0];for(let m=1;m<g.length;m++){let _=g[m],S=Array(s).fill(void 0),p=l?l[c][m]:Ds,T=[];for(let C=0;C<_.length;C++){let x=_[C],R=a.get(d[C]);x===null?p!=xs&&(S[R]=x,p==Ts&&T.push(R)):S[R]=x}Ps(S,T,s),o.push(S)}}return o}const Ls=typeof queueMicrotask=="undefined"?e=>Promise.resolve().then(e):queueMicrotask,jo=["January","February","March","April","May","June","July","August","September","October","November","December"],Ko=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Yo(e){return e.slice(0,3)}const Cs=Ko.map(Yo),Rs=jo.map(Yo),Os={MMMM:jo,MMM:Rs,WWWW:Ko,WWW:Cs};function Fl(e){return(e<10?"0":"")+e}function zs(e){return(e<10?"00":e<100?"0":"")+e}const Fs={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,l)=>l.MMMM[e.getMonth()],MMM:(e,l)=>l.MMM[e.getMonth()],MM:e=>Fl(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>Fl(e.getDate()),D:e=>e.getDate(),WWWW:(e,l)=>l.WWWW[e.getDay()],WWW:(e,l)=>l.WWW[e.getDay()],HH:e=>Fl(e.getHours()),H:e=>e.getHours(),h:e=>{let l=e.getHours();return l==0?12:l>12?l-12:l},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>Fl(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>Fl(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>zs(e.getMilliseconds())};function Gn(e,l){l=l||Os;let i=[],o=/\{([a-z]+)\}|[^{]+/gi,s;for(;s=o.exec(e);)i.push(s[0][0]=="{"?Fs[s[1]]:s[0]);return a=>{let c="";for(let g=0;g<i.length;g++)c+=typeof i[g]=="string"?i[g]:i[g](a,l);return c}}const Vs=new Intl.DateTimeFormat().resolvedOptions().timeZone;function Ns(e,l){let i;return l=="UTC"||l=="Etc/UTC"?i=new Date(+e+e.getTimezoneOffset()*6e4):l==Vs?i=e:(i=new Date(e.toLocaleString("en-US",{timeZone:l})),i.setMilliseconds(e.getMilliseconds())),i}const Jo=e=>e%1==0,rn=[1,2,2.5,5],Hs=Ol(10,-16,0,rn),qo=Ol(10,0,16,rn),Ws=qo.filter(Jo),Gs=Hs.concat(qo),In=`
`,Zo="{YYYY}",$o=In+Zo,Qo="{M}/{D}",Vl=In+Qo,un=Vl+"/{YY}",Xo="{aa}",Sl="{h}:{mm}"+Xo,ei=In+Sl,ti=":{ss}",se=null;function li(e){let l=e*1e3,i=l*60,o=i*60,s=o*24,a=s*30,c=s*365,d=(e==1?Ol(10,0,3,rn).filter(Jo):Ol(10,-3,0,rn)).concat([l,l*5,l*10,l*15,l*30,i,i*5,i*10,i*15,i*30,o,o*2,o*3,o*4,o*6,o*8,o*12,s,s*2,s*3,s*4,s*5,s*6,s*7,s*8,s*9,s*10,s*15,a,a*2,a*3,a*4,a*6,c,c*2,c*5,c*10,c*25,c*50,c*100]);const m=[[c,Zo,se,se,se,se,se,se,1],[s*28,"{MMM}",$o,se,se,se,se,se,1],[s,Qo,$o,se,se,se,se,se,1],[o,"{h}"+Xo,un,se,Vl,se,se,se,1],[i,Sl,un,se,Vl,se,se,se,1],[l,ti,un+" "+Sl,se,Vl+" "+Sl,se,ei,se,1],[e,ti+".{fff}",un+" "+Sl,se,Vl+" "+Sl,se,ei,se,1]];function _(S){return(p,T,C,x,R,q)=>{let O=[],M=R>=c,A=R>=a&&R<c,k=S(C),N=ae(k*e,3),D=Un(k.getFullYear(),M?0:k.getMonth(),A||M?1:k.getDate()),I=ae(D*e,3);if(A||M){let G=A?R/a:0,F=M?R/c:0,b=N==I?N:ae(Un(D.getFullYear()+F,D.getMonth()+G,1)*e,3),V=new Date(We(b/e)),X=V.getFullYear(),ee=V.getMonth();for(let B=0;b<=x;B++){let pe=Un(X+F*B,ee+G*B,1),U=pe-S(ae(pe*e,3));b=ae((+pe+U)*e,3),b<=x&&O.push(b)}}else{let G=R>=s?s:R,F=at(C)-at(N),b=I+F+wl(N-I,G);O.push(b);let V=S(b),X=V.getHours()+V.getMinutes()/i+V.getSeconds()/o,ee=R/o,B=p.axes[T]._space,pe=q/B;for(;b=ae(b+R,e==1?0:3),!(b>x);)if(ee>1){let U=at(ae(X+ee,6))%24,te=S(b).getHours()-U;te>1&&(te=-1),b-=te*o,X=(X+ee)%24;let re=O[O.length-1];ae((b-re)/R,3)*pe>=.7&&O.push(b)}else O.push(b)}return O}}return[d,m,_]}const[Is,Us,Bs]=li(1),[js,Ks,Ys]=li(.001);Ol(2,-53,53,[1]);function ni(e,l){return e.map(i=>i.map((o,s)=>s==0||s==8||o==null?o:l(s==1||i[8]==0?o:i[1]+o)))}function oi(e,l){return(i,o,s,a,c)=>{let g=l.find(C=>c>=C[0])||l[l.length-1],d,m,_,S,p,T;return o.map(C=>{let x=e(C),R=x.getFullYear(),q=x.getMonth(),O=x.getDate(),M=x.getHours(),A=x.getMinutes(),k=x.getSeconds(),N=R!=d&&g[2]||q!=m&&g[3]||O!=_&&g[4]||M!=S&&g[5]||A!=p&&g[6]||k!=T&&g[7]||g[1];return d=R,m=q,_=O,S=M,p=A,T=k,N(x)})}}function Js(e,l){let i=Gn(l);return(o,s,a,c,g)=>s.map(d=>i(e(d)))}function Un(e,l,i){return new Date(e,l,i)}function ii(e,l){return l(e)}const qs="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function si(e,l){return(i,o,s,a)=>a==null?Ln:l(e(o))}function Zs(e,l){let i=e.series[l];return i.width?i.stroke(e,l):i.points.width?i.points.stroke(e,l):null}function $s(e,l){return e.series[l].fill(e,l)}const Qs={show:!0,live:!0,isolate:!1,mount:Ss,markers:{show:!0,width:2,stroke:Zs,fill:$s,dash:"solid"},idx:null,idxs:null,values:[]};function Xs(e,l){let i=e.cursor.points,o=ct(),s=i.size(e,l);ye(o,gt,s),ye(o,ft,s);let a=s/-2;ye(o,"marginLeft",a),ye(o,"marginTop",a);let c=i.width(e,l,s);return c&&ye(o,"borderWidth",c),o}function er(e,l){let i=e.series[l].points;return i._fill||i._stroke}function tr(e,l){let i=e.series[l].points;return i._stroke||i._fill}function lr(e,l){return e.series[l].points.size}function nr(e,l,i){return i}const Bn=[0,0];function or(e,l,i){return Bn[0]=l,Bn[1]=i,Bn}function fn(e,l,i){return o=>{o.button==0&&i(o)}}function jn(e,l,i){return i}const ir={show:!0,x:!0,y:!0,lock:!1,move:or,points:{show:Xs,size:lr,width:0,stroke:tr,fill:er},bind:{mousedown:fn,mouseup:fn,click:fn,dblclick:fn,mousemove:jn,mouseleave:jn,mouseenter:jn},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,l)=>{l.stopPropagation(),l.stopImmediatePropagation()},_x:!1,_y:!1},focus:{prox:-1,bias:0},left:-10,top:-10,idx:null,dataIdx:nr,idxs:null},ri={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},Kn=xe({},ri,{filter:No}),ui=xe({},Kn,{size:10}),fi=xe({},ri,{show:!1}),Yn='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',ci="bold "+Yn,sr=1.5,ai={show:!0,scale:"x",stroke:Pn,space:50,gap:5,size:50,labelGap:0,labelSize:30,labelFont:ci,side:2,grid:Kn,ticks:ui,border:fi,font:Yn,rotate:0},rr="Value",ur="Time",pi={show:!0,scale:"x",auto:!1,sorted:1,min:Z,max:-Z,idxs:[]};function fr(e,l,i,o,s){return l.map(a=>a==null?"":Hn(a))}function cr(e,l,i,o,s,a,c){let g=[],d=on.get(s)||0;i=c?i:ae(wl(i,s),d);for(let m=i;m<=o;m=ae(m+s,d))g.push(Object.is(m,-0)?0:m);return g}function Jn(e,l,i,o,s,a,c){const g=[],d=e.scales[e.axes[l].scale].log,m=d==10?Lt:zo,_=at(m(i));s=dl(d,_),d==10&&_<0&&(s=ae(s,-_));let S=i;do g.push(S),S=S+s,d==10&&(S=ae(S,on.get(s))),S>=s*d&&(s=S);while(S<=o);return g}function ar(e,l,i,o,s,a,c){let d=e.scales[e.axes[l].scale].asinh,m=o>d?Jn(e,l,Le(d,i),o,s):[d],_=o>=0&&i<=0?[0]:[];return(i<-d?Jn(e,l,Le(d,-o),-i,s):[d]).reverse().map(p=>-p).concat(_,m)}const pr=/./,hr=/[12357]/,mr=/[125]/,dr=/1/;function gr(e,l,i,o,s){let a=e.axes[i],c=a.scale,g=e.scales[c];if(g.distr==3&&g.log==2)return l;let d=e.valToPos,m=a._space,_=d(10,c),S=d(9,c)-_>=m?pr:d(7,c)-_>=m?hr:d(5,c)-_>=m?mr:dr;return l.map(p=>g.distr==4&&p==0||S.test(p)?p:null)}function wr(e,l,i,o){return o==null?Ln:l==null?"":Hn(l)}const hi={show:!0,scale:"y",stroke:Pn,space:30,gap:5,size:50,labelGap:0,labelSize:30,labelFont:ci,side:3,grid:Kn,ticks:ui,border:fi,font:Yn,rotate:0};function _r(e,l){let i=3+(e||1)*2;return ae(i*l,3)}function Sr(e,l){let{scale:i,idxs:o}=e.series[0],s=e._data[0],a=e.valToPos(s[o[0]],i,!0),c=e.valToPos(s[o[1]],i,!0),g=Ke(c-a),d=e.series[l],m=g/(d.points.space*le);return o[1]-o[0]<=m}const mi={scale:null,auto:!0,sorted:0,min:Z,max:-Z},di=(e,l,i,o,s)=>s,gi={show:!0,auto:!0,sorted:0,gaps:di,alpha:1,facets:[xe({},mi,{scale:"x"}),xe({},mi,{scale:"y"})]},wi={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:di,alpha:1,points:{show:Sr,filter:null},values:null,min:Z,max:-Z,idxs:[],path:null,clip:null};function vr(e,l,i,o,s){return i/10}const _i={time:fl,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},yr=xe({},_i,{time:!1,ori:1}),Si={};function vi(e,l){let i=Si[e];return i||(i={key:e,plots:[],sub(o){i.plots.push(o)},unsub(o){i.plots=i.plots.filter(s=>s!=o)},pub(o,s,a,c,g,d,m){for(let _=0;_<i.plots.length;_++)i.plots[_]!=s&&i.plots[_].pub(o,s,a,c,g,d,m)}},e!=null&&(Si[e]=i)),i}const Xt=1,cn=2;function el(e,l,i){const o=e.mode,s=e.series[l],a=o==2?e._data[l]:e._data,c=e.scales,g=e.bbox;let d=a[0],m=o==2?a[1]:a[l],_=o==2?c[s.facets[0].scale]:c[e.series[0].scale],S=o==2?c[s.facets[1].scale]:c[s.scale],p=g.left,T=g.top,C=g.width,x=g.height,R=e.valToPosH,q=e.valToPosV;return _.ori==0?i(s,d,m,_,S,R,q,p,T,C,x,hn,vl,dn,Mi,ki):i(s,d,m,_,S,q,R,T,p,x,C,mn,yl,Zn,Ei,xi)}function an(e,l){let i=0,o=0,s=ie(e.bands,Io);for(let a=0;a<s.length;a++){let c=s[a];c.series[0]==l?i=c.dir:c.series[1]==l&&(c.dir==1?o|=1:o|=2)}return[i,o==1?-1:o==2?1:o==3?2:0]}function br(e,l,i,o,s){let a=e.mode,c=e.series[l],g=a==2?c.facets[1].scale:c.scale,d=e.scales[g];return s==-1?d.min:s==1?d.max:d.distr==3?d.dir==1?d.min:d.max:0}function Ct(e,l,i,o,s,a){return el(e,l,(c,g,d,m,_,S,p,T,C,x,R)=>{let q=c.pxRound;const O=m.dir*(m.ori==0?1:-1),M=m.ori==0?vl:yl;let A,k;O==1?(A=i,k=o):(A=o,k=i);let N=q(S(g[A],m,x,T)),D=q(p(d[A],_,R,C)),I=q(S(g[k],m,x,T)),G=q(p(a==1?_.max:_.min,_,R,C)),F=new Path2D(s);return M(F,I,G),M(F,N,G),M(F,N,D),F})}function pn(e,l,i,o,s,a){let c=null;if(e.length>0){c=new Path2D;const g=l==0?dn:Zn;let d=i;for(let _=0;_<e.length;_++){let S=e[_];if(S[1]>S[0]){let p=S[0]-d;p>0&&g(c,d,o,p,o+a),d=S[1]}}let m=i+s-d;m>0&&g(c,d,o,m,o+a)}return c}function Mr(e,l,i){let o=e[e.length-1];o&&o[0]==l?o[1]=i:e.push([l,i])}function qn(e,l,i,o,s,a,c){let g=[],d=e.length;for(let m=s==1?i:o;m>=i&&m<=o;m+=s)if(l[m]===null){let S=m,p=m;if(s==1)for(;++m<=o&&l[m]===null;)p=m;else for(;--m>=i&&l[m]===null;)p=m;let T=a(e[S]),C=p==S?T:a(e[p]),x=S-s;T=c<=0&&x>=0&&x<d?a(e[x]):T;let q=p+s;C=c>=0&&q>=0&&q<d?a(e[q]):C,C>=T&&g.push([T,C])}return g}function yi(e){return e==0?vs:e==1?We:l=>Zt(l,e)}function bi(e){let l=e==0?hn:mn,i=e==0?(s,a,c,g,d,m)=>{s.arcTo(a,c,g,d,m)}:(s,a,c,g,d,m)=>{s.arcTo(c,a,d,g,m)},o=e==0?(s,a,c,g,d)=>{s.rect(a,c,g,d)}:(s,a,c,g,d)=>{s.rect(c,a,d,g)};return(s,a,c,g,d,m=0,_=0)=>{m==0&&_==0?o(s,a,c,g,d):(m=Qe(m,g/2,d/2),_=Qe(_,g/2,d/2),l(s,a+m,c),i(s,a+g,c,a+g,c+d,m),i(s,a+g,c+d,a,c+d,_),i(s,a,c+d,a,c,_),i(s,a,c,a+g,c,m),s.closePath())}}const hn=(e,l,i)=>{e.moveTo(l,i)},mn=(e,l,i)=>{e.moveTo(i,l)},vl=(e,l,i)=>{e.lineTo(l,i)},yl=(e,l,i)=>{e.lineTo(i,l)},dn=bi(0),Zn=bi(1),Mi=(e,l,i,o,s,a)=>{e.arc(l,i,o,s,a)},Ei=(e,l,i,o,s,a)=>{e.arc(i,l,o,s,a)},ki=(e,l,i,o,s,a,c)=>{e.bezierCurveTo(l,i,o,s,a,c)},xi=(e,l,i,o,s,a,c)=>{e.bezierCurveTo(i,l,s,o,c,a)};function Di(e){return(l,i,o,s,a)=>el(l,i,(c,g,d,m,_,S,p,T,C,x,R)=>{let{pxRound:q,points:O}=c,M,A;m.ori==0?(M=hn,A=Mi):(M=mn,A=Ei);const k=ae(O.width*le,3);let N=(O.size-O.width)/2*le,D=ae(N*2,3),I=new Path2D,G=new Path2D,{left:F,top:b,width:V,height:X}=l.bbox;dn(G,F-D,b-D,V+D*2,X+D*2);const ee=B=>{if(d[B]!=null){let pe=q(S(g[B],m,x,T)),U=q(p(d[B],_,R,C));M(I,pe+N,U),A(I,pe,U,N,0,ln*2)}};if(a)a.forEach(ee);else for(let B=o;B<=s;B++)ee(B);return{stroke:k>0?I:null,fill:I,clip:G,flags:Xt|cn}})}function Ti(e){return(l,i,o,s,a,c)=>{o!=s&&(a!=o&&c!=o&&e(l,i,o),a!=s&&c!=s&&e(l,i,s),e(l,i,c))}}const Er=Ti(vl),kr=Ti(yl);function Pi(e){const l=ie(e==null?void 0:e.alignGaps,0);return(i,o,s,a)=>el(i,o,(c,g,d,m,_,S,p,T,C,x,R)=>{let q=c.pxRound,O=z=>q(S(z,m,x,T)),M=z=>q(p(z,_,R,C)),A,k;m.ori==0?(A=vl,k=Er):(A=yl,k=kr);const N=m.dir*(m.ori==0?1:-1),D={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:Xt},I=D.stroke;let G=Z,F=-Z,b,V,X,ee=O(g[N==1?s:a]),B=ml(d,s,a,1*N),pe=ml(d,s,a,-1*N),U=O(g[B]),pt=O(g[pe]),Ge=!1;for(let z=N==1?s:a;z>=s&&z<=a;z+=N){let we=O(g[z]),H=d[z];we==ee?H!=null?(V=M(H),G==Z&&(A(I,we,V),b=V),G=Qe(V,G),F=Le(V,F)):H===null&&(Ge=!0):(G!=Z&&(k(I,ee,G,F,b,V),X=ee),H!=null?(V=M(H),A(I,we,V),G=F=b=V):(G=Z,F=-Z,H===null&&(Ge=!0)),ee=we)}G!=Z&&G!=F&&X!=ee&&k(I,ee,G,F,b,V);let[te,re]=an(i,o);if(c.fill!=null||te!=0){let z=D.fill=new Path2D(I),we=c.fillTo(i,o,c.min,c.max,te),H=M(we);A(z,pt,H),A(z,U,H)}if(!c.spanGaps){let z=[];Ge&&z.push(...qn(g,d,s,a,N,O,l)),D.gaps=z=c.gaps(i,o,s,a,z),D.clip=pn(z,m.ori,T,C,x,R)}return re!=0&&(D.band=re==2?[Ct(i,o,s,a,I,-1),Ct(i,o,s,a,I,1)]:Ct(i,o,s,a,I,re)),D})}function xr(e){const l=ie(e.align,1),i=ie(e.ascDesc,!1),o=ie(e.alignGaps,0),s=ie(e.extend,!1);return(a,c,g,d)=>el(a,c,(m,_,S,p,T,C,x,R,q,O,M)=>{let A=m.pxRound,{left:k,width:N}=a.bbox,D=te=>A(C(te,p,O,R)),I=te=>A(x(te,T,M,q)),G=p.ori==0?vl:yl;const F={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:Xt},b=F.stroke,V=p.dir*(p.ori==0?1:-1);g=ml(S,g,d,1),d=ml(S,g,d,-1);let X=I(S[V==1?g:d]),ee=D(_[V==1?g:d]),B=ee,pe=ee;s&&l==-1&&(pe=k,G(b,pe,X)),G(b,ee,X);for(let te=V==1?g:d;te>=g&&te<=d;te+=V){let re=S[te];if(re==null)continue;let z=D(_[te]),we=I(re);l==1?G(b,z,X):G(b,B,we),G(b,z,we),X=we,B=z}let U=B;s&&l==1&&(U=k+N,G(b,U,X));let[pt,Ge]=an(a,c);if(m.fill!=null||pt!=0){let te=F.fill=new Path2D(b),re=m.fillTo(a,c,m.min,m.max,pt),z=I(re);G(te,U,z),G(te,pe,z)}if(!m.spanGaps){let te=[];te.push(...qn(_,S,g,d,V,D,o));let re=m.width*le/2,z=i||l==1?re:-re,we=i||l==-1?-re:re;te.forEach(H=>{H[0]+=z,H[1]+=we}),F.gaps=te=m.gaps(a,c,g,d,te),F.clip=pn(te,p.ori,R,q,O,M)}return Ge!=0&&(F.band=Ge==2?[Ct(a,c,g,d,b,-1),Ct(a,c,g,d,b,1)]:Ct(a,c,g,d,b,Ge)),F})}function Dr(e){e=e||zl;const l=ie(e.size,[.6,Z,1]),i=e.align||0,o=(e.gap||0)*le;let s=e.radius;s=s==null?[0,0]:typeof s=="number"?[s,0]:s;const a=$(s),c=1-l[0],g=ie(l[1],Z)*le,d=ie(l[2],1)*le,m=ie(e.disp,zl),_=ie(e.each,T=>{}),{fill:S,stroke:p}=m;return(T,C,x,R)=>el(T,C,(q,O,M,A,k,N,D,I,G,F,b)=>{let V=q.pxRound,X,ee;A.ori==0?[X,ee]=a(T,C):[ee,X]=a(T,C);const B=A.dir*(A.ori==0?1:-1),pe=k.dir*(k.ori==1?1:-1);let U=A.ori==0?dn:Zn,pt=A.ori==0?_:(K,Me,Je,Ce,Xe,Re,St)=>{_(K,Me,Je,Xe,Ce,St,Re)},[Ge,te]=an(T,C),re=k.distr==3?Ge==1?k.max:k.min:0,z=D(re,k,b,G),we,H,ue=V(q.width*le),_t=!1,Wt=null,Rt=null,ht=null,Gt=null;S!=null&&(ue==0||p!=null)&&(_t=!0,Wt=S.values(T,C,x,R),Rt=new Map,new Set(Wt).forEach(K=>{K!=null&&Rt.set(K,new Path2D)}),ue>0&&(ht=p.values(T,C,x,R),Gt=new Map,new Set(ht).forEach(K=>{K!=null&&Gt.set(K,new Path2D)})));let{x0:Nl,size:bl}=m;if(Nl!=null&&bl!=null){O=Nl.values(T,C,x,R),Nl.unit==2&&(O=O.map(Me=>T.posToVal(I+Me*F,A.key,!0)));let K=bl.values(T,C,x,R);bl.unit==2?H=K[0]*F:H=N(K[0],A,F,I)-N(0,A,F,I),H=V(H-ue),we=B==1?-ue/2:H+ue/2}else{let K=F;if(O.length>1){let Je=null;for(let Ce=0,Xe=1/0;Ce<O.length;Ce++)if(M[Ce]!==void 0){if(Je!=null){let Re=Ke(O[Ce]-O[Je]);Re<Xe&&(Xe=Re,K=Ke(N(O[Ce],A,F,I)-N(O[Je],A,F,I)))}Je=Ce}}let Me=K*c;H=V(Qe(g,Le(d,K-Me))-ue-o),we=(i==0?H/2:i==B?0:H)-i*B*o/2}const tl={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:Xt|cn};let Hl;te!=0&&(tl.band=new Path2D,Hl=V(D(te==1?k.max:k.min,k,b,G)));const Ot=_t?null:new Path2D,kt=tl.band;let{y0:Wl,y1:ll}=m,It=null;Wl!=null&&ll!=null&&(M=ll.values(T,C,x,R),It=Wl.values(T,C,x,R));let ne=X*H,oe=ee*H;for(let K=B==1?x:R;K>=x&&K<=R;K+=B){let Me=M[K];if(Me===void 0)continue;let Je=A.distr!=2||m!=null?O[K]:K,Ce=N(Je,A,F,I),Xe=D(ie(Me,re),k,b,G);It!=null&&Me!=null&&(z=D(It[K],k,b,G));let Re=V(Ce-we),St=V(Le(Xe,z)),et=V(Qe(Xe,z)),rt=St-et;if(Me!=null){let xt=Me<0?oe:ne,nl=Me<0?ne:oe;_t?(ue>0&&ht[K]!=null&&U(Gt.get(ht[K]),Re,et+at(ue/2),H,Le(0,rt-ue),xt,nl),Wt[K]!=null&&U(Rt.get(Wt[K]),Re,et+at(ue/2),H,Le(0,rt-ue),xt,nl)):U(Ot,Re,et+at(ue/2),H,Le(0,rt-ue),xt,nl),pt(T,C,K,Re-ue/2,et,H+ue,rt)}te!=0&&(pe*te==1?(St=et,et=Hl):(et=St,St=Hl),rt=St-et,U(kt,Re-ue/2,et,H+ue,Le(0,rt),0,0))}return ue>0&&(tl.stroke=_t?Gt:Ot),tl.fill=_t?Rt:Ot,tl})}function Tr(e,l){const i=ie(l==null?void 0:l.alignGaps,0);return(o,s,a,c)=>el(o,s,(g,d,m,_,S,p,T,C,x,R,q)=>{let O=g.pxRound,M=U=>O(p(U,_,R,C)),A=U=>O(T(U,S,q,x)),k,N,D;_.ori==0?(k=hn,D=vl,N=ki):(k=mn,D=yl,N=xi);const I=_.dir*(_.ori==0?1:-1);a=ml(m,a,c,1),c=ml(m,a,c,-1);let G=M(d[I==1?a:c]),F=G,b=[],V=[];for(let U=I==1?a:c;U>=a&&U<=c;U+=I)if(m[U]!=null){let Ge=d[U],te=M(Ge);b.push(F=te),V.push(A(m[U]))}const X={stroke:e(b,V,k,D,N,O),fill:null,clip:null,band:null,gaps:null,flags:Xt},ee=X.stroke;let[B,pe]=an(o,s);if(g.fill!=null||B!=0){let U=X.fill=new Path2D(ee),pt=g.fillTo(o,s,g.min,g.max,B),Ge=A(pt);D(U,F,Ge),D(U,G,Ge)}if(!g.spanGaps){let U=[];U.push(...qn(d,m,a,c,I,M,i)),X.gaps=U=g.gaps(o,s,a,c,U),X.clip=pn(U,_.ori,C,x,R,q)}return pe!=0&&(X.band=pe==2?[Ct(o,s,a,c,ee,-1),Ct(o,s,a,c,ee,1)]:Ct(o,s,a,c,ee,pe)),X})}function Pr(e){return Tr(Ar,e)}function Ar(e,l,i,o,s,a){const c=e.length;if(c<2)return null;const g=new Path2D;if(i(g,e[0],l[0]),c==2)o(g,e[1],l[1]);else{let d=Array(c),m=Array(c-1),_=Array(c-1),S=Array(c-1);for(let p=0;p<c-1;p++)_[p]=l[p+1]-l[p],S[p]=e[p+1]-e[p],m[p]=_[p]/S[p];d[0]=m[0];for(let p=1;p<c-1;p++)m[p]===0||m[p-1]===0||m[p-1]>0!=m[p]>0?d[p]=0:(d[p]=3*(S[p-1]+S[p])/((2*S[p]+S[p-1])/m[p-1]+(S[p]+2*S[p-1])/m[p]),isFinite(d[p])||(d[p]=0));d[c-1]=m[c-2];for(let p=0;p<c-1;p++)s(g,e[p]+S[p]/3,l[p]+d[p]*S[p]/3,e[p+1]-S[p]/3,l[p+1]-d[p+1]*S[p]/3,e[p+1],l[p+1])}return g}const $n=new Set;function Ai(){for(let e of $n)e.syncRect(!0)}al&&(Nt(us,pl,Ai),Nt(fs,pl,Ai,!0),Nt(Ql,pl,()=>{Ye.pxRatio=le}));const Lr=Pi(),Cr=Di();function Li(e,l,i,o){return(o?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map((a,c)=>Qn(a,c,l,i))}function Rr(e,l){return e.map((i,o)=>o==0?null:xe({},l,i))}function Qn(e,l,i,o){return xe({},l==0?i:o,e)}function Ci(e,l,i){return l==null?_l:[l,i]}const Or=Ci;function zr(e,l,i){return l==null?_l:tn(l,i,Nn,!0)}function Ri(e,l,i,o){return l==null?_l:en(l,i,e.scales[o].log,!1)}const Fr=Ri;function Oi(e,l,i,o){return l==null?_l:Vn(l,i,e.scales[o].log,!1)}const Vr=Oi;function Nr(e,l,i,o,s){let a=Le(Fo(e),Fo(l)),c=l-e,g=Ht(s/o*c,i);do{let d=i[g],m=o*d/c;if(m>=s&&a+(d<5?on.get(d):0)<=17)return[d,m]}while(++g<i.length);return[0,0]}function zi(e){let l,i;return e=e.replace(/(\d+)px/,(o,s)=>(l=We((i=+s)*le))+"px"),[e,l,i]}function Hr(e){e.show&&[e.font,e.labelFont].forEach(l=>{let i=ae(l[2]*le,1);l[0]=l[0].replace(/[0-9.]+px/,i+"px"),l[1]=i})}function Ye(e,l,i){const o={mode:ie(e.mode,1)},s=o.mode;function a(t,n){return((n.distr==3?Lt(t>0?t:n.clamp(o,t,n.min,n.max,n.key)):n.distr==4?Wn(t,n.asinh):t)-n._min)/(n._max-n._min)}function c(t,n,r,u){let f=a(t,n);return u+r*(n.dir==-1?1-f:f)}function g(t,n,r,u){let f=a(t,n);return u+r*(n.dir==-1?f:1-f)}function d(t,n,r,u){return n.ori==0?c(t,n,r,u):g(t,n,r,u)}o.valToPosH=c,o.valToPosV=g;let m=!1;o.status=0;const _=o.root=ct(Kt);if(e.id!=null&&(_.id=e.id),it(_,e.class),e.title){let t=ct(dt,_);t.textContent=e.title}const S=At("canvas"),p=o.ctx=S.getContext("2d"),T=ct(Q,_);Nt("click",T,t=>{(_e!=El||Se!=kl)&&Ie.click(o,t)},!0);const C=o.under=ct(Pe,T);T.appendChild(S);const x=o.over=ct(Ze,T);e=Qt(e);const R=+ie(e.pxAlign,1),q=yi(R);(e.plugins||[]).forEach(t=>{t.opts&&(e=t.opts(o,e)||e)});const O=e.ms||.001,M=o.series=s==1?Li(e.series||[],pi,wi,!1):Rr(e.series||[null],gi),A=o.axes=Li(e.axes||[],ai,hi,!0),k=o.scales={},N=o.bands=e.bands||[];N.forEach(t=>{t.fill=$(t.fill||null),t.dir=ie(t.dir,-1)});const D=s==2?M[1].facets[0].scale:M[0].scale,I={axes:lu,series:$r},G=(e.drawOrder||["axes","series"]).map(t=>I[t]);function F(t){let n=k[t];if(n==null){let r=(e.scales||zl)[t]||zl;if(r.from!=null)F(r.from),k[t]=xe({},k[r.from],r,{key:t});else{n=k[t]=xe({},t==D?_i:yr,r),n.key=t;let u=n.time,f=n.range,h=$t(f);if((t!=D||s==2&&!u)&&(h&&(f[0]==null||f[1]==null)&&(f={min:f[0]==null?Co:{mode:1,hard:f[0],soft:f[0]},max:f[1]==null?Co:{mode:1,hard:f[1],soft:f[1]}},h=!1),!h&&sn(f))){let w=f;f=(y,E,L)=>E==null?_l:tn(E,L,w)}n.range=$(f||(u?Or:t==D?n.distr==3?Fr:n.distr==4?Vr:Ci:n.distr==3?Ri:n.distr==4?Oi:zr)),n.auto=$(h?!1:n.auto),n.clamp=$(n.clamp||vr),n._min=n._max=null}}}F("x"),F("y"),s==1&&M.forEach(t=>{F(t.scale)}),A.forEach(t=>{F(t.scale)});for(let t in e.scales)F(t);const b=k[D],V=b.distr;let X,ee;b.ori==0?(it(_,Yt),X=c,ee=g):(it(_,be),X=g,ee=c);const B={};for(let t in k){let n=k[t];(n.min!=null||n.max!=null)&&(B[t]={min:n.min,max:n.max},n.min=n.max=null)}const pe=e.tzDate||(t=>new Date(We(t/O))),U=e.fmtDate||Gn,pt=O==1?Bs(pe):Ys(pe),Ge=oi(pe,ni(O==1?Us:Ks,U)),te=si(pe,ii(qs,U)),re=[],z=o.legend=xe({},Qs,e.legend),we=z.show,H=z.markers;z.idxs=re,H.width=$(H.width),H.dash=$(H.dash),H.stroke=$(H.stroke),H.fill=$(H.fill);let ue,_t=[],Wt=[],Rt,ht=!1,Gt={};if(z.live){const t=M[1]?M[1].values:null;ht=t!=null,Rt=ht?t(o,1,0):{_:0};for(let n in Rt)Gt[n]=Ln}if(we)if(ue=At("table",ve,_),z.mount(o,ue),ht){let t=At("tr",Vt,ue);At("th",null,t);for(var Nl in Rt)At("th",Pt,t).textContent=Nl}else it(ue,Mt),z.live&&it(ue,$e);const bl={show:!0},tl={show:!1};function Hl(t,n){if(n==0&&(ht||!z.live||s==2))return _l;let r=[],u=At("tr",Jt,ue,ue.childNodes[n]);it(u,t.class),t.show||it(u,ut);let f=At("th",null,u);if(H.show){let y=ct(qt,f);if(n>0){let E=H.width(o,n);E&&(y.style.border=E+"px "+H.dash(o,n)+" "+H.stroke(o,n)),y.style.background=H.fill(o,n)}}let h=ct(Pt,f);h.textContent=t.label,n>0&&(H.show||(h.style.color=t.width>0?H.stroke(o,n):H.fill(o,n)),kt("click",f,y=>{if(W._lock)return;let E=M.indexOf(t);if((y.ctrlKey||y.metaKey)!=z.isolate){let L=M.some((v,P)=>P>0&&P!=E&&v.show);M.forEach((v,P)=>{P>0&&Dt(P,L?P==E?bl:tl:bl,!0,Be.setSeries)})}else Dt(E,{show:!t.show},!0,Be.setSeries)}),Gl&&kt(Eo,f,y=>{W._lock||Dt(M.indexOf(t),Dl,!0,Be.setSeries)}));for(var w in Rt){let y=At("td",He,u);y.textContent="--",r.push(y)}return[u,r]}const Ot=new Map;function kt(t,n,r){const u=Ot.get(n)||{},f=W.bind[t](o,n,r);f&&(Nt(t,n,u[t]=f),Ot.set(n,u))}function Wl(t,n,r){const u=Ot.get(n)||{};for(let f in u)(t==null||f==t)&&(Fn(f,n,u[f]),delete u[f]);t==null&&Ot.delete(n)}let ll=0,It=0,ne=0,oe=0,K=0,Me=0,Je=0,Ce=0,Xe=0,Re=0;o.bbox={};let St=!1,et=!1,rt=!1,xt=!1,nl=!1,mt=!1;function Xn(t,n,r){(r||t!=o.width||n!=o.height)&&Fi(t,n),Bl(!1),rt=!0,et=!0,W.left>=0&&(xt=mt=!0),sl()}function Fi(t,n){o.width=ll=ne=t,o.height=It=oe=n,K=Me=0,Ur(),Br();let r=o.bbox;Je=r.left=Zt(K*le,.5),Ce=r.top=Zt(Me*le,.5),Xe=r.width=Zt(ne*le,.5),Re=r.height=Zt(oe*le,.5)}const Wr=3;function Gr(){let t=!1,n=0;for(;!t;){n++;let r=eu(n),u=tu(n);t=n==Wr||r&&u,t||(Fi(o.width,o.height),et=!0)}}function Ir({width:t,height:n}){Xn(t,n)}o.setSize=Ir;function Ur(){let t=!1,n=!1,r=!1,u=!1;A.forEach((f,h)=>{if(f.show&&f._show){let{side:w,_size:y}=f,E=w%2,L=f.label!=null?f.labelSize:0,v=y+L;v>0&&(E?(ne-=v,w==3?(K+=v,u=!0):r=!0):(oe-=v,w==0?(Me+=v,t=!0):n=!0))}}),il[0]=t,il[1]=r,il[2]=n,il[3]=u,ne-=Ut[1]+Ut[3],K+=Ut[3],oe-=Ut[2]+Ut[0],Me+=Ut[0]}function Br(){let t=K+ne,n=Me+oe,r=K,u=Me;function f(h,w){switch(h){case 1:return t+=w,t-w;case 2:return n+=w,n-w;case 3:return r-=w,r+w;case 0:return u-=w,u+w}}A.forEach((h,w)=>{if(h.show&&h._show){let y=h.side;h._pos=f(y,h._size),h.label!=null&&(h._lpos=f(y,h.labelSize))}})}const W=o.cursor=xe({},ir,{drag:{y:s==2}},e.cursor);{W.idxs=re,W._lock=!1;let t=W.points;t.show=$(t.show),t.size=$(t.size),t.stroke=$(t.stroke),t.width=$(t.width),t.fill=$(t.fill)}const ol=o.focus=xe({},e.focus||{alpha:.3},W.focus);ol.bias!=0&&(ol.prox=1e5);const Gl=ol.prox>=0;let lt=[null];function jr(t,n){if(n>0){let r=W.points.show(o,n);if(r)return it(r,me),it(r,t.class),hl(r,-10,-10,ne,oe),x.insertBefore(r,lt[n]),r}}function Vi(t,n){if(s==1||n>0){let r=s==1&&k[t.scale].time,u=t.value;t.value=r?Uo(u)?si(pe,ii(u,U)):u||te:u||wr,t.label=t.label||(r?ur:rr)}if(n>0){t.width=t.width==null?1:t.width,t.paths=t.paths||Lr||ys,t.fillTo=$(t.fillTo||br),t.pxAlign=+ie(t.pxAlign,R),t.pxRound=yi(t.pxAlign),t.stroke=$(t.stroke||null),t.fill=$(t.fill||null),t._stroke=t._fill=t._paths=t._focus=null;let r=_r(Le(1,t.width),1),u=t.points=xe({},{size:r,width:Le(1,r*.2),stroke:t.stroke,space:r*2,paths:Cr,_stroke:null,_fill:null},t.points);u.show=$(u.show),u.filter=$(u.filter),u.fill=$(u.fill),u.stroke=$(u.stroke),u.paths=$(u.paths),u.pxAlign=t.pxAlign}if(we){let r=Hl(t,n);_t.splice(n,0,r[0]),Wt.splice(n,0,r[1]),z.values.push(null)}if(W.show){re.splice(n,0,null);let r=jr(t,n);r&&lt.splice(n,0,r)}Ue("addSeries",n)}function Kr(t,n){n=n==null?M.length:n,t=s==1?Qn(t,n,pi,wi):Qn(t,n,null,gi),M.splice(n,0,t),Vi(M[n],n)}o.addSeries=Kr;function Yr(t){if(M.splice(t,1),we){z.values.splice(t,1),Wt.splice(t,1);let n=_t.splice(t,1)[0];Wl(null,n.firstChild),n.remove()}W.show&&(re.splice(t,1),lt.length>1&&lt.splice(t,1)[0].remove()),Ue("delSeries",t)}o.delSeries=Yr;const il=[!1,!1,!1,!1];function Jr(t,n){if(t._show=t.show,t.show){let r=t.side%2,u=k[t.scale];u==null&&(t.scale=r?M[1].scale:D,u=k[t.scale]);let f=u.time;t.size=$(t.size),t.space=$(t.space),t.rotate=$(t.rotate),t.incrs=$(t.incrs||(u.distr==2?Ws:f?O==1?Is:js:Gs)),t.splits=$(t.splits||(f&&u.distr==1?pt:u.distr==3?Jn:u.distr==4?ar:cr)),t.stroke=$(t.stroke),t.grid.stroke=$(t.grid.stroke),t.ticks.stroke=$(t.ticks.stroke),t.border.stroke=$(t.border.stroke);let h=t.values;t.values=$t(h)&&!$t(h[0])?$(h):f?$t(h)?oi(pe,ni(h,U)):Uo(h)?Js(pe,h):h||Ge:h||fr,t.filter=$(t.filter||(u.distr>=3&&u.log==10?gr:No)),t.font=zi(t.font),t.labelFont=zi(t.labelFont),t._size=t.size(o,null,n,0),t._space=t._rotate=t._incrs=t._found=t._splits=t._values=null,t._size>0&&(il[n]=!0,t._el=ct(cl,T))}}function Il(t,n,r,u){let[f,h,w,y]=r,E=n%2,L=0;return E==0&&(y||h)&&(L=n==0&&!f||n==2&&!w?We(ai.size/3):0),E==1&&(f||w)&&(L=n==1&&!h||n==3&&!y?We(hi.size/2):0),L}const Ni=o.padding=(e.padding||[Il,Il,Il,Il]).map(t=>$(ie(t,Il))),Ut=o._padding=Ni.map((t,n)=>t(o,n,il,0));let Oe,ze=null,Fe=null;const gn=s==1?M[0].idxs:null;let vt=null,wn=!1;function Hi(t,n){if(l=t==null?[]:Qt(t,Bo),s==2){Oe=0;for(let r=1;r<M.length;r++)Oe+=l[r][0].length;o.data=l=t}else if(l[0]==null&&(l[0]=[]),o.data=l.slice(),vt=l[0],Oe=vt.length,V==2){l[0]=Array(Oe);for(let r=0;r<Oe;r++)l[0][r]=r}if(o._data=l,Bl(!0),Ue("setData"),V==2&&(rt=!0),n!==!1){let r=b;r.auto(o,wn)?eo():xl(D,r.min,r.max),xt=W.left>=0,mt=!0,sl()}}o.setData=Hi;function eo(){wn=!0;let t,n;s==1&&(Oe>0?(ze=gn[0]=0,Fe=gn[1]=Oe-1,t=l[0][ze],n=l[0][Fe],V==2?(t=ze,n=Fe):Oe==1&&(V==3?[t,n]=en(t,t,b.log,!1):V==4?[t,n]=Vn(t,t,b.log,!1):b.time?n=t+We(86400/O):[t,n]=tn(t,n,Nn,!0))):(ze=gn[0]=t=null,Fe=gn[1]=n=null)),xl(D,t,n)}let _n,Ml,to,lo,no,oo,io,so,ro,Ul;function Wi(t,n,r,u,f,h){t!=null||(t=yo),r!=null||(r=Io),u!=null||(u="butt"),f!=null||(f=yo),h!=null||(h="round"),t!=_n&&(p.strokeStyle=_n=t),f!=Ml&&(p.fillStyle=Ml=f),n!=to&&(p.lineWidth=to=n),h!=no&&(p.lineJoin=no=h),u!=oo&&(p.lineCap=oo=u),r!=lo&&p.setLineDash(lo=r)}function Gi(t,n,r,u){n!=Ml&&(p.fillStyle=Ml=n),t!=io&&(p.font=io=t),r!=so&&(p.textAlign=so=r),u!=ro&&(p.textBaseline=ro=u)}function uo(t,n,r,u,f=0){if(u.length>0&&t.auto(o,wn)&&(n==null||n.min==null)){let h=ie(ze,0),w=ie(Fe,u.length-1),y=r.min==null?t.distr==3?ms(u,h,w):hs(u,h,w,f):[r.min,r.max];t.min=Qe(t.min,r.min=y[0]),t.max=Le(t.max,r.max=y[1])}}function qr(){let t=Qt(k,Bo);for(let u in t){let f=t[u],h=B[u];if(h!=null&&h.min!=null)xe(f,h),u==D&&Bl(!0);else if(u!=D||s==2)if(Oe==0&&f.from==null){let w=f.range(o,null,null,u);f.min=w[0],f.max=w[1]}else f.min=Z,f.max=-Z}if(Oe>0){M.forEach((u,f)=>{if(s==1){let h=u.scale,w=t[h],y=B[h];if(f==0){let E=w.range(o,w.min,w.max,h);w.min=E[0],w.max=E[1],ze=Ht(w.min,l[0]),Fe=Ht(w.max,l[0]),Fe-ze>1&&(l[0][ze]<w.min&&ze++,l[0][Fe]>w.max&&Fe--),u.min=vt[ze],u.max=vt[Fe]}else u.show&&u.auto&&uo(w,y,u,l[f],u.sorted);u.idxs[0]=ze,u.idxs[1]=Fe}else if(f>0&&u.show&&u.auto){let[h,w]=u.facets,y=h.scale,E=w.scale,[L,v]=l[f];uo(t[y],B[y],h,L,h.sorted),uo(t[E],B[E],w,v,w.sorted),u.min=w.min,u.max=w.max}});for(let u in t){let f=t[u],h=B[u];if(f.from==null&&(h==null||h.min==null)){let w=f.range(o,f.min==Z?null:f.min,f.max==-Z?null:f.max,u);f.min=w[0],f.max=w[1]}}}for(let u in t){let f=t[u];if(f.from!=null){let h=t[f.from];if(h.min==null)f.min=f.max=null;else{let w=f.range(o,h.min,h.max,u);f.min=w[0],f.max=w[1]}}}let n={},r=!1;for(let u in t){let f=t[u],h=k[u];if(h.min!=f.min||h.max!=f.max){h.min=f.min,h.max=f.max;let w=h.distr;h._min=w==3?Lt(h.min):w==4?Wn(h.min,h.asinh):h.min,h._max=w==3?Lt(h.max):w==4?Wn(h.max,h.asinh):h.max,n[u]=r=!0}}if(r){M.forEach((u,f)=>{s==2?f>0&&n.y&&(u._paths=null):n[u.scale]&&(u._paths=null)});for(let u in n)rt=!0,Ue("setScale",u);W.show&&W.left>=0&&(xt=mt=!0)}for(let u in B)B[u]=null}function Zr(t){let n=Vo(ze-1,0,Oe-1),r=Vo(Fe+1,0,Oe-1);for(;t[n]==null&&n>0;)n--;for(;t[r]==null&&r<Oe-1;)r++;return[n,r]}function $r(){Oe>0&&(M.forEach((t,n)=>{if(n>0&&t.show&&t._paths==null){let r=s==2?[0,l[n][0].length-1]:Zr(l[n]);t._paths=t.paths(o,n,r[0],r[1])}}),M.forEach((t,n)=>{if(n>0&&t.show){Ul!=t.alpha&&(p.globalAlpha=Ul=t.alpha),Ii(n,!1),t._paths&&Ui(n,!1);{Ii(n,!0);let r=t._paths?t._paths.gaps:null,u=t.points.show(o,n,ze,Fe,r),f=t.points.filter(o,n,u,r);(u||f)&&(t.points._paths=t.points.paths(o,n,ze,Fe,f),Ui(n,!0))}Ul!=1&&(p.globalAlpha=Ul=1),Ue("drawSeries",n)}}))}function Ii(t,n){let r=n?M[t].points:M[t];r._stroke=r.stroke(o,t),r._fill=r.fill(o,t)}function Ui(t,n){let r=n?M[t].points:M[t],u=r._stroke,f=r._fill,{stroke:h,fill:w,clip:y,flags:E}=r._paths,L=null,v=ae(r.width*le,3),P=v%2/2;n&&f==null&&(f=v>0?"#fff":u);let j=r.pxAlign==1;if(j&&p.translate(P,P),!n){let Ee=Je,Y=Ce,fe=Xe,J=Re,ce=v*le/2;r.min==0&&(J+=ce),r.max==0&&(Y-=ce,J+=ce),L=new Path2D,L.rect(Ee,Y,fe,J)}n?fo(u,v,r.dash,r.cap,f,h,w,E,y):Qr(t,u,v,r.dash,r.cap,f,h,w,E,L,y),j&&p.translate(-P,-P)}function Qr(t,n,r,u,f,h,w,y,E,L,v){let P=!1;N.forEach((j,Ee)=>{if(j.series[0]==t){let Y=M[j.series[1]],fe=l[j.series[1]],J=(Y._paths||zl).band;$t(J)&&(J=j.dir==1?J[0]:J[1]);let ce,De=null;Y.show&&J&&gs(fe,ze,Fe)?(De=j.fill(o,Ee)||h,ce=Y._paths.clip):J=null,fo(n,r,u,f,De,w,y,E,L,v,ce,J),P=!0}}),P||fo(n,r,u,f,h,w,y,E,L,v)}const Bi=Xt|cn;function fo(t,n,r,u,f,h,w,y,E,L,v,P){Wi(t,n,r,u,f),(E||L||P)&&(p.save(),E&&p.clip(E),L&&p.clip(L)),P?(y&Bi)==Bi?(p.clip(P),v&&p.clip(v),vn(f,w),Sn(t,h,n)):y&cn?(vn(f,w),p.clip(P),Sn(t,h,n)):y&Xt&&(p.save(),p.clip(P),v&&p.clip(v),vn(f,w),p.restore(),Sn(t,h,n)):(vn(f,w),Sn(t,h,n)),(E||L||P)&&p.restore()}function Sn(t,n,r){r>0&&(n instanceof Map?n.forEach((u,f)=>{p.strokeStyle=_n=f,p.stroke(u)}):n!=null&&t&&p.stroke(n))}function vn(t,n){n instanceof Map?n.forEach((r,u)=>{p.fillStyle=Ml=u,p.fill(r)}):n!=null&&t&&p.fill(n)}function Xr(t,n,r,u){let f=A[t],h;if(u<=0)h=[0,0];else{let w=f._space=f.space(o,t,n,r,u),y=f._incrs=f.incrs(o,t,n,r,u,w);h=Nr(n,r,y,u,w)}return f._found=h}function co(t,n,r,u,f,h,w,y,E,L){let v=w%2/2;R==1&&p.translate(v,v),Wi(y,w,E,L,y),p.beginPath();let P,j,Ee,Y,fe=f+(u==0||u==3?-h:h);r==0?(j=f,Y=fe):(P=f,Ee=fe);for(let J=0;J<t.length;J++)n[J]!=null&&(r==0?P=Ee=t[J]:j=Y=t[J],p.moveTo(P,j),p.lineTo(Ee,Y));p.stroke(),R==1&&p.translate(-v,-v)}function eu(t){let n=!0;return A.forEach((r,u)=>{if(!r.show)return;let f=k[r.scale];if(f.min==null){r._show&&(n=!1,r._show=!1,Bl(!1));return}else r._show||(n=!1,r._show=!0,Bl(!1));let h=r.side,w=h%2,{min:y,max:E}=f,[L,v]=Xr(u,y,E,w==0?ne:oe);if(v==0)return;let P=f.distr==2,j=r._splits=r.splits(o,u,y,E,L,v,P),Ee=f.distr==2?j.map(ce=>vt[ce]):j,Y=f.distr==2?vt[j[1]]-vt[j[0]]:L,fe=r._values=r.values(o,r.filter(o,Ee,u,v,Y),u,v,Y);r._rotate=h==2?r.rotate(o,fe,u,v):0;let J=r._size;r._size=nn(r.size(o,fe,u,t)),J!=null&&r._size!=J&&(n=!1)}),n}function tu(t){let n=!0;return Ni.forEach((r,u)=>{let f=r(o,u,il,t);f!=Ut[u]&&(n=!1),Ut[u]=f}),n}function lu(){for(let t=0;t<A.length;t++){let n=A[t];if(!n.show||!n._show)continue;let r=n.side,u=r%2,f,h,w=n.stroke(o,t),y=r==0||r==3?-1:1;if(n.label){let bt=n.labelGap*y,zt=We((n._lpos+bt)*le);Gi(n.labelFont[0],w,"center",r==2?Et:wt),p.save(),u==1?(f=h=0,p.translate(zt,We(Ce+Re/2)),p.rotate((r==3?-ln:ln)/2)):(f=We(Je+Xe/2),h=zt),p.fillText(n.label,f,h),p.restore()}let[E,L]=n._found;if(L==0)continue;let v=k[n.scale],P=u==0?Xe:Re,j=u==0?Je:Ce,Ee=We(n.gap*le),Y=n._splits,fe=v.distr==2?Y.map(bt=>vt[bt]):Y,J=v.distr==2?vt[Y[1]]-vt[Y[0]]:E,ce=n.ticks,De=n.border,ot=ce.show?We(ce.size*le):0,de=n._rotate*-ln/180,Te=q(n._pos*le),qe=(ot+Ee)*y,ke=Te+qe;h=u==0?ke:0,f=u==1?ke:0;let tt=n.font[0],yt=n.align==1?je:n.align==2?Tn:de>0?je:de<0?Tn:u==0?"center":r==3?Tn:je,jt=de||u==1?"middle":r==2?Et:wt;Gi(tt,w,yt,jt);let os=n.font[1]*sr,xn=Y.map(bt=>q(d(bt,v,P,j))),is=n._values;for(let bt=0;bt<is.length;bt++){let zt=is[bt];if(zt!=null){u==0?f=xn[bt]:h=xn[bt],zt=""+zt;let ss=zt.indexOf(`
`)==-1?[zt]:zt.split(/\n/gm);for(let $l=0;$l<ss.length;$l++){let rs=ss[$l];de?(p.save(),p.translate(f,h+$l*os),p.rotate(de),p.fillText(rs,0,0),p.restore()):p.fillText(rs,f,h+$l*os)}}}ce.show&&co(xn,ce.filter(o,fe,t,L,J),u,r,Te,ot,ae(ce.width*le,3),ce.stroke(o,t),ce.dash,ce.cap);let Al=n.grid;Al.show&&co(xn,Al.filter(o,fe,t,L,J),u,u==0?2:1,u==0?Ce:Je,u==0?Re:Xe,ae(Al.width*le,3),Al.stroke(o,t),Al.dash,Al.cap),De.show&&co([Te],[1],u==0?1:0,u==0?1:2,u==1?Ce:Je,u==1?Re:Xe,ae(De.width*le,3),De.stroke(o,t),De.dash,De.cap)}Ue("drawAxes")}function Bl(t){M.forEach((n,r)=>{r>0&&(n._paths=null,t&&(s==1?(n.min=null,n.max=null):n.facets.forEach(u=>{u.min=null,u.max=null})))})}let ao=!1;function sl(){ao||(Ls(nu),ao=!0)}function nu(){St&&(qr(),St=!1),rt&&(Gr(),rt=!1),et&&(ye(C,je,K),ye(C,Et,Me),ye(C,gt,ne),ye(C,ft,oe),ye(x,je,K),ye(x,Et,Me),ye(x,gt,ne),ye(x,ft,oe),ye(T,gt,ll),ye(T,ft,It),S.width=We(ll*le),S.height=We(It*le),A.forEach(({_el:t,_show:n,_size:r,_pos:u,side:f})=>{if(t!=null)if(n){let h=f===3||f===0?r:0,w=f%2==1;ye(t,w?"left":"top",u-h),ye(t,w?"width":"height",r),ye(t,w?"top":"left",w?Me:K),ye(t,w?"height":"width",w?oe:ne),On(t,ut)}else it(t,ut)}),_n=Ml=to=no=oo=io=so=ro=lo=null,Ul=1,En(!0),Ue("setSize"),et=!1),ll>0&&It>0&&(p.clearRect(0,0,S.width,S.height),Ue("drawClear"),G.forEach(t=>t()),Ue("draw")),nt.show&&nl&&(Mn(nt),nl=!1),W.show&&xt&&(ul(null,!0,!1),xt=!1),z.show&&z.live&&mt&&(go(),mt=!1),m||(m=!0,o.status=1,Ue("ready")),wn=!1,ao=!1}o.redraw=(t,n)=>{rt=n||!1,t!==!1?xl(D,b.min,b.max):sl()};function po(t,n){let r=k[t];if(r.from==null){if(Oe==0){let u=r.range(o,n.min,n.max,t);n.min=u[0],n.max=u[1]}if(n.min>n.max){let u=n.min;n.min=n.max,n.max=u}if(Oe>1&&n.min!=null&&n.max!=null&&n.max-n.min<1e-16)return;t==D&&r.distr==2&&Oe>0&&(n.min=Ht(n.min,l[0]),n.max=Ht(n.max,l[0]),n.min==n.max&&n.max++),B[t]=n,St=!0,sl()}}o.setScale=po;let ho,mo,yn,bn,ji,Ki,El,kl,Yi,Ji,_e,Se,Bt=!1;const Ie=W.drag;let Ve=Ie.x,Ne=Ie.y;W.show&&(W.x&&(ho=ct(Ae,x)),W.y&&(mo=ct(he,x)),b.ori==0?(yn=ho,bn=mo):(yn=mo,bn=ho),_e=W.left,Se=W.top);const nt=o.select=xe({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),jl=nt.show?ct(Cl,nt.over?x:C):null;function Mn(t,n){if(nt.show){for(let r in t)nt[r]=t[r],r in Qi&&ye(jl,r,t[r]);n!==!1&&Ue("setSelect")}}o.setSelect=Mn;function ou(t,n){let r=M[t],u=we?_t[t]:null;r.show?u&&On(u,ut):(u&&it(u,ut),lt.length>1&&hl(lt[t],-10,-10,ne,oe))}function xl(t,n,r){po(t,{min:n,max:r})}function Dt(t,n,r,u){n.focus!=null&&fu(t),n.show!=null&&M.forEach((f,h)=>{h>0&&(t==h||t==null)&&(f.show=n.show,ou(h,n.show),xl(s==2?f.facets[1].scale:f.scale,null,null),sl())}),r!==!1&&Ue("setSeries",t,n),u&&Zl("setSeries",o,t,n)}o.setSeries=Dt;function iu(t,n){xe(N[t],n)}function su(t,n){t.fill=$(t.fill||null),t.dir=ie(t.dir,-1),n=n==null?N.length:n,N.splice(n,0,t)}function ru(t){t==null?N.length=0:N.splice(t,1)}o.addBand=su,o.setBand=iu,o.delBand=ru;function uu(t,n){M[t].alpha=n,W.show&&lt[t]&&(lt[t].style.opacity=n),we&&_t[t]&&(_t[t].style.opacity=n)}let rl,Kl,Yl;const Dl={focus:!0};function fu(t){if(t!=Yl){let n=t==null,r=ol.alpha!=1;M.forEach((u,f)=>{let h=n||f==0||f==t;u._focus=n?null:h,r&&uu(f,h?1:ol.alpha)}),Yl=t,r&&sl()}}we&&Gl&&Nt(ko,ue,t=>{W._lock||Yl!=null&&Dt(null,Dl,!0,Be.setSeries)});function Tt(t,n,r){let u=k[n];r&&(t=t/le-(u.ori==1?Me:K));let f=ne;u.ori==1&&(f=oe,t=f-t),u.dir==-1&&(t=f-t);let h=u._min,w=u._max,y=t/f,E=h+(w-h)*y,L=u.distr;return L==3?dl(10,E):L==4?_s(E,u.asinh):E}function cu(t,n){let r=Tt(t,D,n);return Ht(r,l[0],ze,Fe)}o.valToIdx=t=>Ht(t,l[0]),o.posToIdx=cu,o.posToVal=Tt,o.valToPos=(t,n,r)=>k[n].ori==0?c(t,k[n],r?Xe:ne,r?Je:0):g(t,k[n],r?Re:oe,r?Ce:0);function au(t){t(o),sl()}o.batch=au,o.setCursor=(t,n,r)=>{_e=t.left,Se=t.top,ul(null,n,r)};function qi(t,n){ye(jl,je,nt.left=t),ye(jl,gt,nt.width=n)}function Zi(t,n){ye(jl,Et,nt.top=t),ye(jl,ft,nt.height=n)}let Jl=b.ori==0?qi:Zi,ql=b.ori==1?qi:Zi;function pu(){if(we&&z.live)for(let t=s==2?1:0;t<M.length;t++){if(t==0&&ht)continue;let n=z.values[t],r=0;for(let u in n)Wt[t][r++].firstChild.nodeValue=n[u]}}function go(t,n){t!=null&&(t.idxs?t.idxs.forEach((r,u)=>{re[u]=r}):Es(t.idx)||re.fill(t.idx),z.idx=re[0]);for(let r=0;r<M.length;r++)(r>0||s==1&&!ht)&&hu(r,re[r]);we&&z.live&&pu(),mt=!1,n!==!1&&Ue("setLegend")}o.setLegend=go;function hu(t,n){var h;let r=M[t],u=t==0&&V==2?vt:l[t],f;ht?f=(h=r.values(o,t,n))!=null?h:Gt:(f=r.value(o,n==null?null:u[n],t,n),f=f==null?Gt:{_:f}),z.values[t]=f}function ul(t,n,r){Yi=_e,Ji=Se,[_e,Se]=W.move(o,_e,Se),W.show&&(yn&&hl(yn,We(_e),0,ne,oe),bn&&hl(bn,0,We(Se),ne,oe));let u,f=ze>Fe;rl=Z;let h=b.ori==0?ne:oe,w=b.ori==1?ne:oe;if(_e<0||Oe==0||f){u=null;for(let y=0;y<M.length;y++)y>0&&lt.length>1&&hl(lt[y],-10,-10,ne,oe);Gl&&Dt(null,Dl,!0,t==null&&Be.setSeries),z.live&&(re.fill(u),mt=!0)}else{let y,E,L;s==1&&(y=b.ori==0?_e:Se,E=Tt(y,D),u=Ht(E,l[0],ze,Fe),L=X(l[0][u],b,h,0));for(let v=s==2?1:0;v<M.length;v++){let P=M[v],j=re[v],Ee=s==1?l[v][j]:l[v][1][j],Y=W.dataIdx(o,v,u,E),fe=s==1?l[v][Y]:l[v][1][Y];mt=mt||fe!=Ee||Y!=j,re[v]=Y;let J=wl(Y==u?L:X(s==1?l[0][Y]:l[v][0][Y],b,h,0),1);if(v>0&&P.show){let ce=fe==null?-10:wl(ee(fe,s==1?k[P.scale]:k[P.facets[1].scale],w,0),1);if(Gl&&ce>=0&&s==1){let de=Ke(ce-Se),Te=ol.bias;if(Te!=0){let qe=b.ori==1?_e:Se,ke=Tt(qe,P.scale),tt=fe>=0?1:-1,yt=ke>=0?1:-1;yt==tt&&de<rl&&(yt==1?Te==1?fe>=ke:fe<=ke:Te==1?fe<=ke:fe>=ke)&&(rl=de,Kl=v)}else de<rl&&(rl=de,Kl=v)}let De,ot;if(b.ori==0?(De=J,ot=ce):(De=ce,ot=J),mt&&lt.length>1){as(lt[v],W.points.fill(o,v),W.points.stroke(o,v));let de,Te,qe,ke,tt=!0,yt=W.points.bbox;if(yt!=null){tt=!1;let jt=yt(o,v);qe=jt.left,ke=jt.top,de=jt.width,Te=jt.height}else qe=De,ke=ot,de=Te=W.points.size(o,v);ps(lt[v],de,Te,tt),hl(lt[v],qe,ke,ne,oe)}}}}if(W.idx=u,W.left=_e,W.top=Se,mt&&(z.idx=u,go()),nt.show&&Bt)if(t!=null){let[y,E]=Be.scales,[L,v]=Be.match,[P,j]=t.cursor.sync.scales,Ee=t.cursor.drag;if(Ve=Ee._x,Ne=Ee._y,Ve||Ne){let{left:Y,top:fe,width:J,height:ce}=t.select,De=t.scales[y].ori,ot=t.posToVal,de,Te,qe,ke,tt,yt=y!=null&&L(y,P),jt=E!=null&&v(E,j);yt&&Ve?(De==0?(de=Y,Te=J):(de=fe,Te=ce),qe=k[y],ke=X(ot(de,P),qe,h,0),tt=X(ot(de+Te,P),qe,h,0),Jl(Qe(ke,tt),Ke(tt-ke))):Jl(0,h),jt&&Ne?(De==1?(de=Y,Te=J):(de=fe,Te=ce),qe=k[E],ke=ee(ot(de,j),qe,w,0),tt=ee(ot(de+Te,j),qe,w,0),ql(Qe(ke,tt),Ke(tt-ke))):ql(0,w)}else _o()}else{let y=Ke(Yi-ji),E=Ke(Ji-Ki);if(b.ori==1){let j=y;y=E,E=j}Ve=Ie.x&&y>=Ie.dist,Ne=Ie.y&&E>=Ie.dist;let L=Ie.uni;L!=null?Ve&&Ne&&(Ve=y>=L,Ne=E>=L,!Ve&&!Ne&&(E>y?Ne=!0:Ve=!0)):Ie.x&&Ie.y&&(Ve||Ne)&&(Ve=Ne=!0);let v,P;Ve&&(b.ori==0?(v=El,P=_e):(v=kl,P=Se),Jl(Qe(v,P),Ke(P-v)),Ne||ql(0,w)),Ne&&(b.ori==1?(v=El,P=_e):(v=kl,P=Se),ql(Qe(v,P),Ke(P-v)),Ve||Jl(0,h)),!Ve&&!Ne&&(Jl(0,0),ql(0,0))}if(Ie._x=Ve,Ie._y=Ne,t==null){if(r){if(ns!=null){let[y,E]=Be.scales;Be.values[0]=y!=null?Tt(b.ori==0?_e:Se,y):null,Be.values[1]=E!=null?Tt(b.ori==1?_e:Se,E):null}Zl(bo,o,_e,Se,ne,oe,u)}if(Gl){let y=r&&Be.setSeries,E=ol.prox;Yl==null?rl<=E&&Dt(Kl,Dl,!0,y):rl>E?Dt(null,Dl,!0,y):Kl!=Yl&&Dt(Kl,Dl,!0,y)}}n!==!1&&Ue("setCursor")}let Tl=null;function En(t){t===!0?Tl=null:(Tl=x.getBoundingClientRect(),Ue("syncRect",Tl))}function $i(t,n,r,u,f,h,w){W._lock||Bt&&t!=null&&t.movementX==0&&t.movementY==0||(wo(t,n,r,u,f,h,w,!1,t!=null),t!=null?ul(null,!0,!0):ul(n,!0,!1))}function wo(t,n,r,u,f,h,w,y,E){if(Tl==null&&En(!1),t!=null)r=t.clientX-Tl.left,u=t.clientY-Tl.top;else{if(r<0||u<0){_e=-10,Se=-10;return}let[L,v]=Be.scales,P=n.cursor.sync,[j,Ee]=P.values,[Y,fe]=P.scales,[J,ce]=Be.match,De=n.axes[0].side%2==1,ot=b.ori==0?ne:oe,de=b.ori==1?ne:oe,Te=De?h:f,qe=De?f:h,ke=De?u:r,tt=De?r:u;if(Y!=null?r=J(L,Y)?d(j,k[L],ot,0):-10:r=ot*(ke/Te),fe!=null?u=ce(v,fe)?d(Ee,k[v],de,0):-10:u=de*(tt/qe),b.ori==1){let yt=r;r=u,u=yt}}E&&((r<=1||r>=ne-1)&&(r=Zt(r,ne)),(u<=1||u>=oe-1)&&(u=Zt(u,oe))),y?(ji=r,Ki=u,[El,kl]=W.move(o,r,u)):(_e=r,Se=u)}const Qi={width:0,height:0,left:0,top:0};function _o(){Mn(Qi,!1)}function Xi(t,n,r,u,f,h,w){Bt=!0,Ve=Ne=Ie._x=Ie._y=!1,wo(t,n,r,u,f,h,w,!0,!1),t!=null&&(kt(An,Cn,es),Zl(Mo,o,El,kl,ne,oe,null))}function es(t,n,r,u,f,h,w){Bt=Ie._x=Ie._y=!1,wo(t,n,r,u,f,h,w,!1,!0);let{left:y,top:E,width:L,height:v}=nt,P=L>0||v>0;if(P&&Mn(nt),Ie.setScale&&P){let j=y,Ee=L,Y=E,fe=v;if(b.ori==1&&(j=E,Ee=v,Y=y,fe=L),Ve&&xl(D,Tt(j,D),Tt(j+Ee,D)),Ne)for(let J in k){let ce=k[J];J!=D&&ce.from==null&&ce.min!=Z&&xl(J,Tt(Y+fe,J),Tt(Y,J))}_o()}else W.lock&&(W._lock=!W._lock,W._lock||ul(null,!0,!1));t!=null&&(Wl(An,Cn),Zl(An,o,_e,Se,ne,oe,null))}function mu(t,n,r,u,f,h,w){if(!W._lock){let y=Bt;if(Bt){let E=!0,L=!0,v=10,P,j;b.ori==0?(P=Ve,j=Ne):(P=Ne,j=Ve),P&&j&&(E=_e<=v||_e>=ne-v,L=Se<=v||Se>=oe-v),P&&E&&(_e=_e<El?0:ne),j&&L&&(Se=Se<kl?0:oe),ul(null,!0,!0),Bt=!1}_e=-10,Se=-10,ul(null,!0,!0),y&&(Bt=y)}}function ts(t,n,r,u,f,h,w){eo(),_o(),t!=null&&Zl(xo,o,_e,Se,ne,oe,null)}function ls(){A.forEach(Hr),Xn(o.width,o.height,!0)}Nt(Ql,pl,ls);const Pl={};Pl.mousedown=Xi,Pl.mousemove=$i,Pl.mouseup=es,Pl.dblclick=ts,Pl.setSeries=(t,n,r,u)=>{Dt(r,u,!0,!1)},W.show&&(kt(Mo,x,Xi),kt(bo,x,$i),kt(Eo,x,En),kt(ko,x,mu),kt(xo,x,ts),$n.add(o),o.syncRect=En);const kn=o.hooks=e.hooks||{};function Ue(t,n,r){t in kn&&kn[t].forEach(u=>{u.call(null,o,n,r)})}(e.plugins||[]).forEach(t=>{for(let n in t.hooks)kn[n]=(kn[n]||[]).concat(t.hooks[n])});const Be=xe({key:null,setSeries:!1,filters:{pub:Ho,sub:Ho},scales:[D,M[1]?M[1].scale:null],match:[Wo,Wo],values:[null,null]},W.sync);W.sync=Be;const ns=Be.key,So=vi(ns);function Zl(t,n,r,u,f,h,w){Be.filters.pub(t,n,r,u,f,h,w)&&So.pub(t,n,r,u,f,h,w)}So.sub(o);function du(t,n,r,u,f,h,w){Be.filters.sub(t,n,r,u,f,h,w)&&Pl[t](null,n,r,u,f,h,w)}o.pub=du;function gu(){So.unsub(o),$n.delete(o),Ot.clear(),Fn(Ql,pl,ls),_.remove(),ue==null||ue.remove(),Ue("destroy")}o.destroy=gu;function vo(){Ue("init",e,l),Hi(l||e.data,!1),B[D]?po(D,B[D]):eo(),nl=nt.show,xt=mt=!0,Xn(e.width,e.height)}return M.forEach(Vi),A.forEach(Jr),i?i instanceof HTMLElement?(i.appendChild(_),vo()):i(o,vo):vo(),o}Ye.assign=xe,Ye.fmtNum=Hn,Ye.rangeNum=tn,Ye.rangeLog=en,Ye.rangeAsinh=Vn,Ye.orient=el,Ye.pxRatio=le,Ye.join=As,Ye.fmtDate=Gn,Ye.tzDate=Ns,Ye.sync=vi;{Ye.addGap=Mr,Ye.clipGaps=pn;let e=Ye.paths={points:Di};e.linear=Pi,e.stepped=xr,e.bars=Dr,e.spline=Pr}}}]);})();
