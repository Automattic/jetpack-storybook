"use strict";(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[9430],{"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/stories/index.stories.tsx":(ne,N,e)=>{var M,B,G,ae,k,u;e.r(N),e.d(N,{VideoHoverPreviewControlStory:()=>_,__namedExportsOrder:()=>p,_default:()=>Q,default:()=>F});var h=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),j=e("../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx"),I=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js"),K=`import React, { useState } from 'react';
import PosterPanel, { VideoHoverPreviewControl } from '..';

export default {
	title: 'Packages/VideoPress/Block Editor/Poster Panel',
	component: PosterPanel,
	argTypes: {},
};

const DefaultTemplate = args => {
	const [ attributes, setAttributes ] = React.useState( {
		poster: args.poster,
		videoRatio: args.videoRatio,
		guid: args.guid,
	} );

	const setAttributesHandler = newAttributes => {
		setAttributes( { ...attributes, ...newAttributes } );
	};

	return (
		<PosterPanel
			attributes={ attributes }
			setAttributes={ setAttributesHandler }
			isGeneratingPoster={ false }
		/>
	);
};

export const _default = DefaultTemplate.bind( {} );
_default.args = {
	poster: 'https://jetpackme.files.wordpress.com/2018/04/cropped-jetpack-favicon-2018.png',
	videoRatio: 60,
	guid: 'ezoR6kzb',
};

const VideoHoverPreviewControlTemplate = args => {
	const [ previewOnHover, setPreviewOnHover ] = useState( true );
	const [ , setPreviewAt ] = useState( args.previewAtTime );
	const [ , setLoopDuraton ] = useState( args.loopDuration );
	const setPreviewAtHandler = newPreviewAt => {
		setPreviewAt( newPreviewAt );
		console.log( { newPreviewAt } ); // eslint-disable-line no-console
	};

	return (
		<VideoHoverPreviewControl
			{ ...args }
			previewOnHover={ previewOnHover }
			onPreviewAtTimeChange={ setPreviewAtHandler }
			onLoopDurationChange={ setLoopDuraton }
			onPreviewOnHoverChange={ setPreviewOnHover }
		/>
	);
};

export const VideoHoverPreviewControlStory = VideoHoverPreviewControlTemplate.bind( {} );
VideoHoverPreviewControlStory.args = {
	previewAtTime: 0,
	loopDuration: 2300,
	videoDuration: 80000, // 80 seconds
};

VideoHoverPreviewControlStory.storyName = 'VideoHoverPreviewControl';
`,x={_default:{startLoc:{col:24,line:8},endLoc:{col:1,line:21},startBody:{col:24,line:8},endBody:{col:1,line:21}},VideoHoverPreviewControlStory:{startLoc:{col:41,line:28},endLoc:{col:1,line:40},startBody:{col:41,line:28},endBody:{col:1,line:40}}};const F={parameters:{storySource:{source:`import React, { useState } from 'react';
import PosterPanel, { VideoHoverPreviewControl } from '..';
export default {
  title: 'Packages/VideoPress/Block Editor/Poster Panel',
  component: PosterPanel,
  argTypes: {}
};
const DefaultTemplate = args => {
  const [attributes, setAttributes] = React.useState({
    poster: args.poster,
    videoRatio: args.videoRatio,
    guid: args.guid
  });
  const setAttributesHandler = newAttributes => {
    setAttributes({
      ...attributes,
      ...newAttributes
    });
  };
  return <PosterPanel attributes={attributes} setAttributes={setAttributesHandler} isGeneratingPoster={false} />;
};
export const _default = DefaultTemplate.bind({});
_default.args = {
  poster: 'https://jetpackme.files.wordpress.com/2018/04/cropped-jetpack-favicon-2018.png',
  videoRatio: 60,
  guid: 'ezoR6kzb'
};
const VideoHoverPreviewControlTemplate = args => {
  const [previewOnHover, setPreviewOnHover] = useState(true);
  const [, setPreviewAt] = useState(args.previewAtTime);
  const [, setLoopDuraton] = useState(args.loopDuration);
  const setPreviewAtHandler = newPreviewAt => {
    setPreviewAt(newPreviewAt);
    console.log({
      newPreviewAt
    }); 
  };

  return <VideoHoverPreviewControl {...args} previewOnHover={previewOnHover} onPreviewAtTimeChange={setPreviewAtHandler} onLoopDurationChange={setLoopDuraton} onPreviewOnHoverChange={setPreviewOnHover} />;
};
export const VideoHoverPreviewControlStory = VideoHoverPreviewControlTemplate.bind({});
VideoHoverPreviewControlStory.args = {
  previewAtTime: 0,
  loopDuration: 2300,
  videoDuration: 80000 // 80 seconds
};

VideoHoverPreviewControlStory.storyName = 'VideoHoverPreviewControl';
_default.parameters = {
  ..._default.parameters,
  docs: {
    ..._default.parameters?.docs,
    source: {
      originalSource: "args => {\\n  const [attributes, setAttributes] = React.useState({\\n    poster: args.poster,\\n    videoRatio: args.videoRatio,\\n    guid: args.guid\\n  });\\n  const setAttributesHandler = newAttributes => {\\n    setAttributes({\\n      ...attributes,\\n      ...newAttributes\\n    });\\n  };\\n  return <PosterPanel attributes={attributes} setAttributes={setAttributesHandler} isGeneratingPoster={false} />;\\n}",
      ..._default.parameters?.docs?.source
    }
  }
};
VideoHoverPreviewControlStory.parameters = {
  ...VideoHoverPreviewControlStory.parameters,
  docs: {
    ...VideoHoverPreviewControlStory.parameters?.docs,
    source: {
      originalSource: "args => {\\n  const [previewOnHover, setPreviewOnHover] = useState(true);\\n  const [, setPreviewAt] = useState(args.previewAtTime);\\n  const [, setLoopDuraton] = useState(args.loopDuration);\\n  const setPreviewAtHandler = newPreviewAt => {\\n    setPreviewAt(newPreviewAt);\\n    console.log({\\n      newPreviewAt\\n    }); // eslint-disable-line no-console\\n  };\\n\\n  return <VideoHoverPreviewControl {...args} previewOnHover={previewOnHover} onPreviewAtTimeChange={setPreviewAtHandler} onLoopDurationChange={setLoopDuraton} onPreviewOnHoverChange={setPreviewOnHover} />;\\n}",
      ...VideoHoverPreviewControlStory.parameters?.docs?.source
    }
  }
};`,locationsMap:{default:{startLoc:{col:24,line:8},endLoc:{col:1,line:21},startBody:{col:24,line:8},endBody:{col:1,line:21}},"video-hover-preview-control-story":{startLoc:{col:41,line:28},endLoc:{col:1,line:40},startBody:{col:41,line:28},endBody:{col:1,line:40}}}}},title:"Packages/VideoPress/Block Editor/Poster Panel",component:j.ZP,argTypes:{}},X=O=>{const[W,V]=h.useState({poster:O.poster,videoRatio:O.videoRatio,guid:O.guid}),$=se=>{V({...W,...se})};return(0,I.jsx)(j.ZP,{attributes:W,setAttributes:$,isGeneratingPoster:!1})};X.displayName="DefaultTemplate";const Q=X.bind({});Q.args={poster:"https://jetpackme.files.wordpress.com/2018/04/cropped-jetpack-favicon-2018.png",videoRatio:60,guid:"ezoR6kzb"};const c=O=>{const[W,V]=(0,h.useState)(!0),[,$]=(0,h.useState)(O.previewAtTime),[,se]=(0,h.useState)(O.loopDuration),he=de=>{$(de),console.log({newPreviewAt:de})};return(0,I.jsx)(j.wj,{...O,previewOnHover:W,onPreviewAtTimeChange:he,onLoopDurationChange:se,onPreviewOnHoverChange:V})};c.displayName="VideoHoverPreviewControlTemplate";const _=c.bind({});_.args={previewAtTime:0,loopDuration:2300,videoDuration:8e4},_.storyName="VideoHoverPreviewControl",Q.parameters={...Q.parameters,docs:{...(M=Q.parameters)==null?void 0:M.docs,source:{originalSource:`args => {
  const [attributes, setAttributes] = React.useState({
    poster: args.poster,
    videoRatio: args.videoRatio,
    guid: args.guid
  });
  const setAttributesHandler = newAttributes => {
    setAttributes({
      ...attributes,
      ...newAttributes
    });
  };
  return <PosterPanel attributes={attributes} setAttributes={setAttributesHandler} isGeneratingPoster={false} />;
}`,...(G=(B=Q.parameters)==null?void 0:B.docs)==null?void 0:G.source}}},_.parameters={..._.parameters,docs:{...(ae=_.parameters)==null?void 0:ae.docs,source:{originalSource:`args => {
  const [previewOnHover, setPreviewOnHover] = useState(true);
  const [, setPreviewAt] = useState(args.previewAtTime);
  const [, setLoopDuraton] = useState(args.loopDuration);
  const setPreviewAtHandler = newPreviewAt => {
    setPreviewAt(newPreviewAt);
    console.log({
      newPreviewAt
    }); // eslint-disable-line no-console
  };

  return <VideoHoverPreviewControl {...args} previewOnHover={previewOnHover} onPreviewAtTimeChange={setPreviewAtHandler} onLoopDurationChange={setLoopDuraton} onPreviewOnHoverChange={setPreviewOnHover} />;
}`,...(u=(k=_.parameters)==null?void 0:k.docs)==null?void 0:u.source}}};const p=["_default","VideoHoverPreviewControlStory"]},"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx":(ne,N,e)=>{var Ie;e.d(N,{wj:()=>ye,ZP:()=>Re});var h=e("../../../node_modules/.pnpm/@wordpress+block-editor@12.0.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/block-editor/build-module/index.js"),j=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/dropdown/index.js"),I=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/button/index.js"),K=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/navigable-container/menu.js"),x=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/menu-item/index.js"),F=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/spinner/index.js"),X=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/sandbox/index.js"),Q=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/notice/index.js"),c=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/toggle-control/index.js"),_=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/panel/body.js"),p=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),M=e("../../../node_modules/.pnpm/@wordpress+element@5.9.0/node_modules/@wordpress/element/build-module/create-interpolate-element.js"),B=e("../../../node_modules/.pnpm/@wordpress+i18n@4.32.0/node_modules/@wordpress/i18n/build-module/index.js"),G=e("../../../node_modules/.pnpm/@wordpress+icons@9.23.0/node_modules/@wordpress/icons/build-module/library/image.js"),ae=e("../../../node_modules/.pnpm/@wordpress+icons@9.23.0/node_modules/@wordpress/icons/build-module/library/link-off.js"),k=e("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),u=e.n(k),O=e("../../packages/videopress/src/client/components/timestamp-control/index.tsx"),W=e("../../packages/videopress/src/client/lib/url/index.ts");function V(n){const t=Math.floor(n/36e5);let s=n-t*36e5;const m=Math.floor(s/6e4);s=s-m*6e4;const d=Math.floor(s/1e3);return[t,m,d].map(r=>r<10?`0${r}`:r).join(":")}const $="videopress-chapters-auto-generated";function se(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3599999e3;const s=extractVideoChapters(n);if(s.length===0)return null;let m=`WEBVTT
`;m+=`
`,m+=`NOTE
`,m+=`${$}
`,m+=`This file was auto-generated based on Video description.
`,m+=`For more information, see https://jetpack.com/support/jetpack-videopress/jetpack-videopress-customizing-your-videos/#adding-subtitles-captions-or-chapters-within-a-video
`;let d=1;for(const[r,a]of s.entries()){const y=r===0?"000":"001",b=r<s.length-1?s[r+1].startAt:V(t);m+=`
${d++}
${a.startAt}.${y} --> ${b}.000
${a.title}
`}return m}function he(n,t){const s=se(n,t);return s?new File([s],"chapters.vtt",{type:"text/vtt"}):null}var de=e("../../../node_modules/.pnpm/@wordpress+core-data@6.9.0_react@18.2.0/node_modules/@wordpress/core-data/build-module/index.js"),je=e("../../../node_modules/.pnpm/@wordpress+data@9.2.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-select/index.js");const le={html:null,width:null,height:null,thumbnail_height:null,thumbnail_width:null,title:null,version:"1.0",type:"video",provider_name:"VideoPress",provider_url:"https://videopress.com"},xe=n=>(0,je.Z)(t=>n?{preview:t(de.h).getEmbedPreview(n)||le,isRequestingEmbedPreview:t(de.h).isRequestingEmbedPreview(n)||!1}:{preview:le,isRequestingEmbedPreview:!1},[n]);var pe=e("../../../node_modules/.pnpm/@wordpress+compose@6.9.0_react@18.2.0/node_modules/@wordpress/compose/build-module/hooks/use-previous/index.js"),ce=e("../../../node_modules/.pnpm/debug@4.3.4/node_modules/debug/src/browser.js"),ke=e.n(ce);const i=ke()("videopress:use-video-player"),v=n=>{var s;const t=(s=n==null?void 0:n.current)==null?void 0:s.querySelector("iframe.components-sandbox");return t==null?void 0:t.contentWindow},f=(n,t,s)=>{let{initialTimePosition:m,wrapperElement:d,previewOnHover:r}=s;const[a,y]=(0,p.useState)(!1),b=(0,p.useRef)("not-rendered");function P(E){const{data:te={},source:ie}=E,{event:oe}=(E==null?void 0:E.data)||{};if(oe==="videopress_loading_state"&&te.state==="loaded"&&(i("state: loaded"),b.current="loaded"),oe==="videopress_playing"&&b.current==="loaded"&&(b.current="first-play",i("state: first-play detected"),r&&(i("pause video"),ie.postMessage({event:"videopress_action_pause"},{targetOrigin:"*"}),typeof m!="undefined"&&(i("set position at time %o ",m),ie.postMessage({event:"videopress_action_set_currenttime",currentTime:m/1e3},{targetOrigin:"*"}))),y(!0),b.current="ready"),oe==="videopress_timeupdate"&&r){const we=te.currentTimeMs,Pe=r.atTime,R=r.atTime+r.duration;(we<Pe||we>R)&&ie.postMessage({event:"videopress_action_set_currenttime",currentTime:Pe/1e3},{targetOrigin:"*"})}}const w=!!r,D=(0,pe.Z)(w),ee=w&&!D,l=v(n);(0,p.useEffect)(()=>{const E=v(n);if(E&&!t)return i("player is ready to listen events"),E.addEventListener("message",P),()=>{E.removeEventListener("message",P)}},[n,t,ee,r]);const T=(0,p.useCallback)(()=>{!l||!a||l.postMessage({event:"videopress_action_play"},"*")},[n,a,l]),L=(0,p.useCallback)(()=>{!l||!a||l.postMessage({event:"videopress_action_pause"},"*")},[n,a,l]);return(0,p.useEffect)(()=>{if(!(!d||!w))return d.addEventListener("mouseenter",T),d.addEventListener("mouseleave",L),()=>{d.removeEventListener("mouseenter",T),d.removeEventListener("mouseleave",L)}},[w,d,a]),(0,p.useEffect)(()=>{!a||!r||l&&l.postMessage({event:"videopress_action_set_currenttime",currentTime:r.atTime/1e3},{targetOrigin:"*"})},[r==null?void 0:r.atTime,a,l]),(0,p.useEffect)(()=>{!a||!r||l&&l.postMessage({event:"videopress_action_set_currenttime",currentTime:(r.atTime+r.duration)/1e3},{targetOrigin:"*"})},[r==null?void 0:r.duration,a,l]),{playerIsReady:a,play:T,pause:L}},C=null,z=["image"];var A=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/toolbar/toolbar-button/index.js"),H=e("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),ue=e.n(H),me=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/style.scss"),J={};J.insert="head",J.singleton=!1;var q=ue()(me.Z,J);const U=me.Z.locals||{};var o=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const Y=B.__;function re(n){let{poster:t,className:s}=n;const m=(0,M.Z)(Y("No custom Poster image selected.<help>You can upload or select an image from your media library to override the default video image.</help>","jetpack-videopress-pkg"),{help:(0,o.jsx)("p",{className:"poster-panel-control__help"})}),d=(0,M.Z)(Y("You are currently overriding the default Poster image.<help>Remove it if you want to use the default image generated by VideoPress.</help>","jetpack-videopress-pkg"),{help:(0,o.jsx)("p",{className:"poster-panel-control__help"})});return(0,o.jsx)("div",{className:s,children:t?d:m})}re.displayName="VideoPosterCard";function Ce(n){let{attributes:t,setAttributes:s,clientId:m}=n;const{poster:d}=t,r=y=>{s({poster:y.url})},a=()=>{s({poster:""})};return(0,o.jsx)(j.Z,{contentClassName:"dropdown-content",renderToggle:y=>{let{isOpen:b,onToggle:P}=y;return(0,o.jsx)(A.Z,{label:Y("Poster image","jetpack-videopress-pkg"),showTooltip:!0,"aria-expanded":b,"aria-haspopup":"true",onClick:P,icon:G.Z})},renderContent:y=>{let{onClose:b}=y;const P=`video-block__poster-image-description-${m}`;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(K.Z,{className:"poster-image-block-control__wrapper",children:[(0,o.jsx)(h.VA,{children:(0,o.jsx)(h.R,{title:Y("Select Poster Image","jetpack-videopress-pkg"),onSelect:w=>{r(w),b()},allowedTypes:z,render:w=>{let{open:D}=w;return(0,o.jsxs)(x.Z,{icon:G.Z,onClick:D,"aria-describedby":P,children:[Y("Open Media Library","jetpack-videopress-pkg"),(0,o.jsx)("p",{id:P,hidden:!0,children:d?(0,B.gB)(Y("The current poster image url is %s","jetpack-videopress-pkg"),d):Y("There is no poster image currently selected","jetpack-videopress-pkg")})]})}})}),(0,o.jsx)(re,{poster:d,className:"current-media"}),!!d&&(0,o.jsx)(x.Z,{className:"poster-image-block-control__remove-button",variant:"tertiary",isDestructive:!0,onClick:()=>{a(),b()},icon:ae.Z,children:Y("Remove and use default","jetpack-videopress-pkg")})]})})}})}Ce.displayName="PosterImageBlockControl";try{re.displayName="VideoPosterCard",re.__docgenInfo={description:"Simple component that renders info about video poster.",displayName:"VideoPosterCard",props:{poster:{defaultValue:null,description:"",name:"poster",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/index.tsx#VideoPosterCard"]={docgenInfo:re.__docgenInfo,name:"VideoPosterCard",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/index.tsx#VideoPosterCard"})}catch(n){}try{posterimageblockcontrol.displayName="posterimageblockcontrol",posterimageblockcontrol.__docgenInfo={description:"Poster image control react component.",displayName:"posterimageblockcontrol",props:{attributes:{defaultValue:null,description:"Block Attributes object.",name:"attributes",required:!0,type:{name:"VideoBlockAttributes"}},setAttributes:{defaultValue:null,description:"",name:"setAttributes",required:!0,type:{name:"VideoBlockSetAttributesProps"}},clientId:{defaultValue:null,description:"",name:"clientId",required:!1,type:{name:"string"}},privateEnabledForSite:{defaultValue:null,description:"",name:"privateEnabledForSite",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/index.tsx#posterimageblockcontrol"]={docgenInfo:posterimageblockcontrol.__docgenInfo,name:"posterimageblockcontrol",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/index.tsx#posterimageblockcontrol"})}catch(n){}var ge=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/style.scss"),_e={};_e.insert="head",_e.singleton=!1;var Te=ue()(ge.Z,_e);const Z=ge.Z.locals||{},S=B.__,Se=3*1e3,Ee=10*1e3,Oe=5*1e3,Ve=()=>{var n,t;return!!((t=(n=window==null?void 0:window.Jetpack_Editor_Initial_State)==null?void 0:n.available_blocks)!=null&&t["v6-video-frame-poster"])},Ae=[];if(window.videopressAjax){const n=new Blob([`var videopressAjax = ${JSON.stringify({...window.videopressAjax,context:"sandbox"})};`],{type:"text/javascript"});Ae.push(URL.createObjectURL(n),window.videopressAjax.bridgeUrl)}(Ie=window==null?void 0:window.videoPressEditorState)!=null&&Ie.playerBridgeUrl&&Ae.push(window.videoPressEditorState.playerBridgeUrl);function fe(n){let{clientId:t,attributes:s,setAttributes:m}=n;const d=`video-block__poster-image-description-${t}`,{poster:r}=s,a=(0,p.useCallback)(l=>{m({poster:l.url,posterData:{...s.posterData,type:"media-library",id:l.id,url:l.url}})},[s]),y=S("Select Poster Image","jetpack-videopress-pkg"),b=S("Replace Poster Image","jetpack-videopress-pkg"),P=(0,p.useRef)(null),w=Number(s==null?void 0:s.videoRatio)/100||9/16,[D,ee]=(0,p.useState)(140);return(0,p.useEffect)(()=>{if(!r||!(P!=null&&P.current))return;const{current:l}=P,T=l==null?void 0:l.offsetWidth;T&&ee(T*w)},[r,P,w]),(0,o.jsx)(j.Z,{contentClassName:"poster-panel__dropdown",placement:"top left",renderToggle:l=>{let{isOpen:T,onToggle:L}=l;return(0,o.jsx)(I.ZP,{ref:P,style:{backgroundImage:r?`url(${r})`:void 0,height:D,minHeight:D},className:`poster-panel__button ${r?"has-poster":""}`,variant:"secondary",onClick:L,"aria-expanded":T,children:(0,o.jsx)("span",{children:r?b:y})})},renderContent:l=>{let{onClose:T}=l;return(0,o.jsx)(K.Z,{className:"block-editor-media-replace-flow__media-upload-menu",children:(0,o.jsx)(h.VA,{children:(0,o.jsx)(h.R,{title:S("Select Poster Image","jetpack-videopress-pkg"),onSelect:L=>{a(L),T()},allowedTypes:z,render:L=>{let{open:E}=L;return(0,o.jsxs)(x.Z,{icon:G.Z,onClick:E,"aria-describedby":d,children:[S("Open Media Library","jetpack-videopress-pkg"),(0,o.jsx)("p",{id:d,hidden:!0,children:r?(0,B.gB)(S("The current poster image url is %s","jetpack-videopress-pkg"),r):S("There is no poster image currently selected","jetpack-videopress-pkg")})]})}})})})}})}fe.displayName="PosterDropdown";const be=n=>{var s;const t=(s=n==null?void 0:n.current)==null?void 0:s.querySelector("iframe.components-sandbox");return t==null?void 0:t.contentWindow};function De(n){let{guid:t,isGeneratingPoster:s,atTime:m=.1,onVideoFrameSelect:d,duration:r}=n;const[a,y]=(0,p.useState)(m),b=(0,p.useRef)(null),P=(0,W.pg)(t,{autoplay:!0,muted:!0,controls:!1,loop:!1}),{preview:w={html:null},isRequestingEmbedPreview:D}=xe(P),{html:ee}=w,{playerIsReady:l,pause:T}=f(b,D,{initialTimePosition:m});(0,p.useEffect)(()=>{l&&T()},[l,T]);const L=(0,p.useCallback)(E=>{const te=be(b);te==null||te.postMessage({event:"videopress_action_set_currenttime",currentTime:E/1e3}),d(E)},[be,d]);return(0,o.jsxs)("div",{className:"poster-panel__frame-picker",children:[(0,o.jsxs)("div",{ref:b,className:u()("poster-panel__frame-picker__sandbox-wrapper",{"is-player-ready":l,"is-generating-poster":s}),children:[(!l||s)&&(0,o.jsx)(F.ZP,{}),(0,o.jsx)(X.Z,{html:ee,scripts:Ae})]}),s&&(0,o.jsx)(Q.Z,{status:"info",className:"poster-panel__notice",isDismissible:!1,children:S("Generating video poster image. It may take a few seconds.","jetpack-videopress-pkg")}),(0,o.jsx)(O.ZP,{label:S("Video frame","jetpack-videopress-pkg"),help:S("Select the frame you want to use as poster image","jetpack-videopress-pkg"),disabled:D||s,max:r,value:a,wait:250,fineAdjustment:50,onChange:y,onDebounceChange:L})]})}De.displayName="VideoFramePicker";function ye(n){let{previewOnHover:t=!1,previewAtTime:s=0,loopDuration:m=Oe,videoDuration:d,onPreviewOnHoverChange:r,onPreviewAtTimeChange:a,onLoopDurationChange:y}=n;const b=!d,P=Math.max(d-Se,0),[w,D]=(0,p.useState)(Math.min(Ee,d-s)),ee=(w/10|0)/100,l=(0,M.Z)((0,B.gB)(S("Video duration: <em>%s</em>.","jetpack-videopress-pkg"),V(d)),{em:(0,o.jsx)("em",{})}),T=(0,M.Z)((0,B.gB)(S("Minimum: <em>%1$ss</em>. Maximum: <em>%2$ss</em>.","jetpack-videopress-pkg"),Math.min(Se/1e3,ee),ee),{em:(0,o.jsx)("em",{})}),L=P===0,E=w<=Se,te=(0,p.useCallback)(ie=>{a(ie);const oe=Math.min(Ee,d-ie);D(oe),m>oe&&y(oe)},[a,d,m,y]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.Z,{className:"poster-panel__preview-toggle",label:S("Video preview on hover","jetpack-videopress-pkg"),checked:t,onChange:r,disabled:!t&&b}),t&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(O.ZP,{label:S("Starting point","jetpack-videopress-pkg"),max:P,fineAdjustment:50,value:s,onDebounceChange:te,wait:300,disabled:b||L,help:l}),(0,o.jsx)(O.ZP,{max:w,min:Se,fineAdjustment:50,label:S("Loop duration","jetpack-videopress-pkg"),value:m,onDebounceChange:y,wait:300,help:T,disabled:b||E,marksEvery:1e3})]})]})}function Re(n){var oe,we,Pe;let{attributes:t,setAttributes:s,isGeneratingPoster:m,videoBelongToSite:d}=n;const{poster:r,posterData:a}=t,y=t==null?void 0:t.duration,b=(a==null?void 0:a.type)==="video-frame",P=(a==null?void 0:a.previewOnHover)||!1,w=(we=(oe=a==null?void 0:a.previewAtTime)!=null?oe:a==null?void 0:a.atTime)!=null?we:0;let D=(Pe=a==null?void 0:a.previewLoopDuration)!=null?Pe:Oe;D>y-w&&(D=y-w);const ee=()=>{s({poster:"",posterData:{...t.posterData,url:""}})},l=(0,p.useCallback)(R=>{s({posterData:{...t.posterData,type:R?"video-frame":"media-library"},poster:R?"":t.posterData.url||""})},[t]),T=(0,p.useCallback)(R=>{let ve={...t.posterData,previewOnHover:R};R&&(ve={previewAtTime:w,previewLoopDuration:D,...ve}),s({posterData:ve,controls:R?!1:t.controls})},[t]),L=(0,p.useCallback)(R=>{s({posterData:{...t.posterData,previewAtTime:R}})},[t]),E=(0,p.useCallback)(R=>{let ve=w;w+R>y&&(ve=y-R),s({posterData:{...t.posterData,previewLoopDuration:R,previewAtTime:ve}})},[t]),te=R=>{s({posterData:{...t.posterData,type:"video-frame",atTime:R},poster:""})},ie=Ve()?S("Poster and preview","jetpack-videopress-pkg"):S("Poster","jetpack-videopress-pkg");return(0,o.jsxs)(_.ZP,{title:ie,className:"poster-panel",initialOpen:!1,children:[(0,o.jsx)(c.Z,{label:S("Pick from video frame","jetpack-videopress-pkg"),checked:b&&d,onChange:l,disabled:!d}),(0,o.jsx)("div",{className:u()("poster-panel__frame-wrapper",{"is-selected":b}),children:(0,o.jsx)(De,{isGeneratingPoster:m,guid:t==null?void 0:t.guid,atTime:a==null?void 0:a.atTime,duration:y,onVideoFrameSelect:te})}),(0,o.jsxs)("div",{className:u()("poster-panel__image-wrapper",{"is-selected":!b}),children:[(0,o.jsx)(fe,{attributes:t,setAttributes:s}),(0,o.jsx)(re,{poster:r,className:"poster-panel-card"}),r&&(0,o.jsx)(x.Z,{onClick:ee,icon:ae.Z,isDestructive:!0,variant:"tertiary",children:S("Remove and use default","jetpack-videopress-pkg")})]}),Ve()&&(0,o.jsx)(ye,{previewOnHover:P,previewAtTime:w,loopDuration:D,videoDuration:y,onPreviewOnHoverChange:T,onPreviewAtTimeChange:L,onLoopDurationChange:E})]})}Re.displayName="PosterPanel";try{fe.displayName="PosterDropdown",fe.__docgenInfo={description:"Sidebar Control component.",displayName:"PosterDropdown",props:{attributes:{defaultValue:null,description:"Block Attributes object.",name:"attributes",required:!0,type:{name:"VideoBlockAttributes"}},setAttributes:{defaultValue:null,description:"",name:"setAttributes",required:!0,type:{name:"VideoBlockSetAttributesProps"}},clientId:{defaultValue:null,description:"",name:"clientId",required:!1,type:{name:"string"}},privateEnabledForSite:{defaultValue:null,description:"",name:"privateEnabledForSite",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#PosterDropdown"]={docgenInfo:fe.__docgenInfo,name:"PosterDropdown",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#PosterDropdown"})}catch(n){}try{ye.displayName="VideoHoverPreviewControl",ye.__docgenInfo={description:"React component to select the video preview options when the user hovers the video",displayName:"VideoHoverPreviewControl",props:{previewOnHover:{defaultValue:{value:"false"},description:"",name:"previewOnHover",required:!1,type:{name:"boolean"}},previewAtTime:{defaultValue:{value:"0"},description:"",name:"previewAtTime",required:!1,type:{name:"number"}},loopDuration:{defaultValue:{value:"5 * 1000"},description:"",name:"loopDuration",required:!1,type:{name:"number"}},videoDuration:{defaultValue:null,description:"",name:"videoDuration",required:!0,type:{name:"number"}},onPreviewOnHoverChange:{defaultValue:null,description:"",name:"onPreviewOnHoverChange",required:!0,type:{name:"(previewOnHover: boolean) => void"}},onPreviewAtTimeChange:{defaultValue:null,description:"",name:"onPreviewAtTimeChange",required:!0,type:{name:"(timestamp: number) => void"}},onLoopDurationChange:{defaultValue:null,description:"",name:"onLoopDurationChange",required:!0,type:{name:"(duration: number) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#VideoHoverPreviewControl"]={docgenInfo:ye.__docgenInfo,name:"VideoHoverPreviewControl",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#VideoHoverPreviewControl"})}catch(n){}try{posterpanel.displayName="posterpanel",posterpanel.__docgenInfo={description:"Sidebar Control component.",displayName:"posterpanel",props:{attributes:{defaultValue:null,description:"Block Attributes object.",name:"attributes",required:!0,type:{name:"VideoBlockAttributes"}},setAttributes:{defaultValue:null,description:"",name:"setAttributes",required:!0,type:{name:"VideoBlockSetAttributesProps"}},clientId:{defaultValue:null,description:"",name:"clientId",required:!1,type:{name:"string"}},privateEnabledForSite:{defaultValue:null,description:"",name:"privateEnabledForSite",required:!1,type:{name:"boolean"}},isGeneratingPoster:{defaultValue:null,description:"",name:"isGeneratingPoster",required:!1,type:{name:"boolean"}},videoBelongToSite:{defaultValue:null,description:"",name:"videoBelongToSite",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#posterpanel"]={docgenInfo:posterpanel.__docgenInfo,name:"posterpanel",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#posterpanel"})}catch(n){}try{be.displayName="getIframeWindowFromRef",be.__docgenInfo={description:`Return the (content) Window object of the iframe,
given the iframe's ref.`,displayName:"getIframeWindowFromRef",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#getIframeWindowFromRef"]={docgenInfo:be.__docgenInfo,name:"getIframeWindowFromRef",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#getIframeWindowFromRef"})}catch(n){}},"../../packages/videopress/src/client/components/timestamp-control/index.tsx":(ne,N,e)=>{e.d(N,{ZP:()=>ke});var h=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/base-control/index.js"),j=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/base-control/hooks.js"),I=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/number-control/index.js"),K=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/text-control/index.js"),x=e("../../../node_modules/.pnpm/@wordpress+components@23.9.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/range-control/index.js"),F=e("../../../node_modules/.pnpm/@wordpress+compose@6.9.0_react@18.2.0/node_modules/@wordpress/compose/build-module/hooks/use-instance-id/index.js"),X=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),Q=e("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),c=e.n(Q);function _(i){const v=Math.floor(i/36e5),g=Math.floor(i/6e4)%60,f=Math.floor(i/1e3)%60,C=Math.floor(i/10)%100;return[v>0?v.toString().padStart(2,"0")+":":"",v>0||g>0?g.toString().padStart(2,"0")+":":"",f.toString().padStart(2,"0"),"."+C.toString().padStart(2,"0")].join("")}var p=e("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),M=e.n(p),B=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/components/timestamp-control/style.module.scss"),G={};G.insert="head",G.singleton=!1;var ae=M()(B.Z,G);const k=B.Z.locals||{};var u=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function O(i){const{help:v,id:g,...f}=i,C=(0,F.Z)(h.ZP,"wp-components-base-control",g),z=typeof v=="string"?"aria-describedby":"aria-details";return{baseControlProps:{id:C,help:v,...f},controlProps:{id:C,...v?{[z]:`${C}__help`}:{}}}}const W=j.u||O,V=i=>{if(I.Z)return(0,u.jsx)(I.Z,{...i});const v={...i};return["spinControls","isPressEnterToChange","isDragEnabled","isShiftStepEnabled","__unstableStateReducer"].forEach(g=>delete v[g]),(0,u.jsx)(K.Z,{...v})};V.displayName="NumberControl";const $=i=>{let{char:v=":"}=i;return(0,u.jsx)("span",{className:k["timestamp-control-divider"],children:v})};$.displayName="TimeDivider";const se="CHANGE",he="COMMIT",de="PRESS_DOWN",je="PRESS_UP",le=i=>(v,g)=>{const f={...v};return(g.type===he||g.type===je||g.type===de||g.type===se)&&f.value!==void 0&&(f.value=f.value.toString().padStart(i,"0")),f};function xe(i,v,g){i>g&&(i=g);const f=Number.isNaN(i),C=f||typeof v=="undefined"?0:Math.floor(i%1e3/+`1e${3-v}`);return{hh:f?0:Math.floor(i/(1e3*60*60)%24),mm:f?0:Math.floor(i/(1e3*60)%60),ss:f?0:Math.floor(i/1e3%60),decimal:C}}const pe=i=>{let{onChange:v,disabled:g,value:f,max:C,autoHideTimeInput:z=!0,decimalPlaces:A}=i;const H={value:xe(f,A,C)},ue=C>60*60*1e3,me=C>60*1e3,J=q=>U=>{if(typeof U=="string"&&!isNaN(parseInt(U,10))&&(U=parseInt(U,10)),q==="hh"&&U>99||(q==="mm"||q==="ss")&&U>59||q==="decimal"&&U>+`1e${A}`-1||typeof U=="string")return;H.value={...xe(f,A,C),[q]:U};const o=H.value.decimal?H.value.decimal*+`1e${3-A}`:0;v==null||v((H.value.hh*3600+H.value.mm*60+H.value.ss)*1e3+o)};return(0,u.jsxs)("div",{className:c()(k["timestamp-input-wrapper"],{[k["is-disabled"]]:g}),children:[(ue||!z)&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(V,{className:k["timestamp-control-input"],disabled:g,min:0,max:99,step:1,hideLabelFromVision:!0,spinControls:"none",placeholder:"00",isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,__unstableStateReducer:le(2),value:String(H.value.hh).padStart(2,"0"),onChange:J("hh")}),(0,u.jsx)($,{})]}),(me||!z)&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(V,{className:k["timestamp-control-input"],disabled:g,min:0,max:59,step:1,hideLabelFromVision:!0,spinControls:"none",placeholder:"00",isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,__unstableStateReducer:le(2),value:String(H.value.mm).padStart(2,"0"),onChange:J("mm")}),(0,u.jsx)($,{})]}),(0,u.jsx)(V,{className:k["timestamp-control-input"],disabled:g,min:0,max:59,step:1,hideLabelFromVision:!0,spinControls:"none",placeholder:"00",isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,__unstableStateReducer:le(2),value:String(H.value.ss).padStart(2,"0"),onChange:J("ss")}),A&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)($,{char:"."}),(0,u.jsx)(V,{className:k["timestamp-control-input"],style:{"--input-width":`${12*A}px`},disabled:g,min:0,max:Number("9".repeat(A)),step:1,hideLabelFromVision:!0,spinControls:"none",placeholder:"0".repeat(A),isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,__unstableStateReducer:le(A),value:String(H.value.decimal).padStart(A,"0"),onChange:J("decimal")})]})]})};pe.displayName="TimestampInput";const ce=i=>{const{disabled:v=!1,min:g=0,max:f=Number.MAX_SAFE_INTEGER,value:C,onChange:z,onDebounceChange:A,wait:H=1e3,fineAdjustment:ue=50,autoHideTimeInput:me=!0,decimalPlaces:J,marksEvery:q,renderTooltip:U}=i,o=(0,X.useRef)(),[Y,re]=(0,X.useState)(C);(0,X.useEffect)(()=>{re(C)},[C]);const{baseControlProps:Ce}=(W==null?void 0:W(i))||{},ge=(0,X.useCallback)(Z=>{clearTimeout(o==null?void 0:o.current),Z>f&&(Z=f),Z<g&&(Z=g),re(Z),z==null||z(Z),o.current=setTimeout(A==null?void 0:A.bind(null,Z),H)},[A,z,f,g,H]),_e=[];if(q)for(let Z=g;Z<=f;Z+=q)_e.push({value:Z,label:null});const Te=typeof U=="function"?U:Z=>_(Z);return(0,u.jsx)(h.ZP,{...Ce,children:(0,u.jsxs)("div",{className:k["timestamp-control__controls-wrapper"],children:[V&&(0,u.jsx)(pe,{disabled:v,max:f,value:Y,onChange:ge,autoHideTimeInput:me,decimalPlaces:J}),(0,u.jsx)(x.Z,{disabled:v,className:k["timestamp-range-control"],min:g,step:ue,initialPosition:Y,value:Y,max:f,withInputField:!1,onChange:ge,marks:q?_e:void 0,renderTooltipContent:Te,...U===!1?{showTooltip:!1}:{}})]})})};ce.displayName="TimestampControl";const ke=ce;try{pe.displayName="TimestampInput",pe.__docgenInfo={description:"",displayName:"TimestampInput",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},fineAdjustment:{defaultValue:null,description:"",name:"fineAdjustment",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(ms: number) => void"}},autoHideTimeInput:{defaultValue:{value:"true"},description:"",name:"autoHideTimeInput",required:!1,type:{name:"boolean"}},decimalPlaces:{defaultValue:null,description:"",name:"decimalPlaces",required:!1,type:{name:"enum",value:[{value:"1"},{value:"2"},{value:"3"}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/components/timestamp-control/index.tsx#TimestampInput"]={docgenInfo:pe.__docgenInfo,name:"TimestampInput",path:"../../packages/videopress/src/client/components/timestamp-control/index.tsx#TimestampInput"})}catch(i){}try{ce.displayName="TimestampControl",ce.__docgenInfo={description:"TimestampControl component",displayName:"TimestampControl",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},fineAdjustment:{defaultValue:null,description:"",name:"fineAdjustment",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(ms: number) => void"}},autoHideTimeInput:{defaultValue:{value:"true"},description:"",name:"autoHideTimeInput",required:!1,type:{name:"boolean"}},decimalPlaces:{defaultValue:null,description:"",name:"decimalPlaces",required:!1,type:{name:"enum",value:[{value:"1"},{value:"2"},{value:"3"}]}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},help:{defaultValue:null,description:"",name:"help",required:!1,type:{name:"ReactNode"}},wait:{defaultValue:null,description:"",name:"wait",required:!1,type:{name:"number"}},marksEvery:{defaultValue:null,description:"",name:"marksEvery",required:!1,type:{name:"number"}},renderTooltip:{defaultValue:null,description:"",name:"renderTooltip",required:!1,type:{name:"boolean"}},onDebounceChange:{defaultValue:null,description:"",name:"onDebounceChange",required:!1,type:{name:"(ms: number) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/components/timestamp-control/index.tsx#TimestampControl"]={docgenInfo:ce.__docgenInfo,name:"TimestampControl",path:"../../packages/videopress/src/client/components/timestamp-control/index.tsx#TimestampControl"})}catch(i){}try{timestampcontrol.displayName="timestampcontrol",timestampcontrol.__docgenInfo={description:"TimestampControl component",displayName:"timestampcontrol",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},fineAdjustment:{defaultValue:null,description:"",name:"fineAdjustment",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(ms: number) => void"}},autoHideTimeInput:{defaultValue:{value:"true"},description:"",name:"autoHideTimeInput",required:!1,type:{name:"boolean"}},decimalPlaces:{defaultValue:null,description:"",name:"decimalPlaces",required:!1,type:{name:"enum",value:[{value:"1"},{value:"2"},{value:"3"}]}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},help:{defaultValue:null,description:"",name:"help",required:!1,type:{name:"ReactNode"}},wait:{defaultValue:null,description:"",name:"wait",required:!1,type:{name:"number"}},marksEvery:{defaultValue:null,description:"",name:"marksEvery",required:!1,type:{name:"number"}},renderTooltip:{defaultValue:null,description:"",name:"renderTooltip",required:!1,type:{name:"boolean"}},onDebounceChange:{defaultValue:null,description:"",name:"onDebounceChange",required:!1,type:{name:"(ms: number) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/components/timestamp-control/index.tsx#timestampcontrol"]={docgenInfo:timestampcontrol.__docgenInfo,name:"timestampcontrol",path:"../../packages/videopress/src/client/components/timestamp-control/index.tsx#timestampcontrol"})}catch(i){}},"../../packages/videopress/src/client/lib/url/index.ts":(ne,N,e)=>{e.d(N,{Iz:()=>X,pg:()=>j});var h=e("../../../node_modules/.pnpm/@wordpress+url@3.33.0/node_modules/@wordpress/url/build-module/add-query-args.js");const j=(c,_)=>{let{autoplay:p,controls:M,loop:B,muted:G,playsinline:ae,poster:k,preload:u,seekbarColor:O,seekbarPlayedColor:W,seekbarLoadingColor:V,useAverageColor:$}=_;if(!c)return null;const se={resizeToParent:!0,cover:!0,...p&&{autoPlay:!0},...!M&&{controls:!1},...B&&{loop:!0},...G&&{muted:!0,persistVolume:!1},...ae&&{playsinline:!0},...k&&{posterUrl:k},...u!==""&&{preloadContent:u},...O!==""&&{sbc:O},...W!==""&&{sbpc:W},...V!==""&&{sblc:V},...$&&{useAverageColor:!0}};return(0,h.f)(`https://videopress.com/v/${c}`,se)},I=c=>{var p;if(!c||typeof c!="string")return null;const _=c.match(/^https?:\/\/(?<host>video(?:\.word|s\.files\.word)?press\.com)(?:\/v|\/embed)?\/(?<guid>[a-zA-Z\d]{8})/);return(p=_==null?void 0:_.groups)!=null&&p.guid?_.groups.guid:null};function K(c){const _=c.match(/^[a-zA-Z\d]{8}$/);return _?_[0]:!1}function x(c,_){if(K(c))return _?{url:j(c,_),guid:c}:{url:`https://videopress.com/v/${c}`,guid:c};const M=I(c);return M?{url:c,guid:M}:{}}const F=c=>c.replace(/\.[^/.]+$/,"");function X(c,_){return _?`https://video.wordpress.com/v/${c}`:`https://videopress.com/v/${c}`}function Q(c){return/^https?:\/\/(?:(?:v(?:ideo)?\.wordpress\.com|videopress\.com)\/(?:v|embed)|v\.wordpress\.com)\/([a-z\d]{8})(\/|\b)/i.test(c)}},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/style.scss":(ne,N,e)=>{e.d(N,{Z:()=>F});var h=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),j=e.n(h),I=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),K=e.n(I),x=K()(j());x.push([ne.id,".modal-open .dropdown-content{display:none}.current-media{border-top:1px solid #1e1e1e;margin-top:8px;margin-right:-8px;margin-left:-8px;padding:16px 16px 0}.poster-image-block-control__wrapper .poster-panel-control__help{margin-bottom:0}.poster-image-block-control__remove-button.poster-image-block-control__remove-button{padding-left:12px;padding-right:12px}",""]);const F=x},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/style.scss":(ne,N,e)=>{e.d(N,{Z:()=>F});var h=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),j=e.n(h),I=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),K=e.n(I),x=K()(j());x.push([ne.id,"body.modal-open .poster-panel__dropdown{display:none}.poster-panel .components-dropdown{width:100%;display:flex}.poster-panel .components-dropdown .poster-panel__button{width:100%;display:block;text-align:center;border-radius:2px;min-height:140px;max-height:512px;background-color:#fafafa;background-size:cover;background-position:center center}.poster-panel .components-dropdown .poster-panel__button.has-poster span{display:none}.poster-panel .components-dropdown .poster-panel__button:hover{background-image:none !important}.poster-panel .components-dropdown .poster-panel__button:hover span{display:inline}.poster-panel__notice{margin-left:0;margin-right:0;margin-bottom:16px}.poster-panel-control__help{font-size:12px;font-style:normal;color:#757575}.poster-panel-card{margin-top:24px;margin-right:-8px;margin-left:-8px;padding-left:16px;padding-right:16px}.poster-panel__frame-picker__sandbox-wrapper{margin-bottom:8px;position:relative;background-color:#fafafa}.poster-panel__frame-picker__sandbox-wrapper .components-spinner{margin:0;width:32px;height:32px;position:absolute;z-index:100;top:50%;left:50%;transform:translate(-50%, -50%)}.poster-panel__frame-picker__sandbox-wrapper .components-sandbox{opacity:.1;transition:opacity 300ms ease-in-out;transition-delay:50ms}.poster-panel__frame-picker__sandbox-wrapper:not(.is-player-ready){aspect-ratio:16/9}.poster-panel__frame-picker__sandbox-wrapper.is-player-ready .components-sandbox{opacity:1}.poster-panel__frame-picker__sandbox-wrapper.is-generating-poster .components-sandbox{opacity:.5}.poster-panel__image-wrapper,.poster-panel__frame-wrapper{opacity:0;display:none}.poster-panel__image-wrapper.is-selected,.poster-panel__frame-wrapper.is-selected{opacity:1;display:block}.poster-panel__preview-toggle{margin-top:24px}",""]);const F=x},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/components/timestamp-control/style.module.scss":(ne,N,e)=>{e.d(N,{Z:()=>F});var h=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),j=e.n(h),I=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),K=e.n(I),x=K()(j());x.push([ne.id,".zuO3RgAd20yV6c0cEjwU{--input-width: 24px;display:flex;align-items:center;gap:8px}.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H,.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H:last-child{margin-bottom:0;flex-grow:2}.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H .components-base-control__field,.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H:last-child .components-base-control__field{margin-bottom:0}.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H .components-range-control__wrapper,.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H:last-child .components-range-control__wrapper{margin-bottom:0}.zuO3RgAd20yV6c0cEjwU .components-range-control__marks{top:13px}.xiVP4KSb56I10368tN0v{display:flex;align-items:center;border-color:#949494;background-color:#fff;border-style:solid;justify-content:space-around;border-width:1px;padding:0px}.xiVP4KSb56I10368tN0v .J6r6Ls3WNV_CSbuzeLyr{padding:0 1px;margin-bottom:0}.xiVP4KSb56I10368tN0v .J6r6Ls3WNV_CSbuzeLyr input{max-width:var(--input-width)}.xiVP4KSb56I10368tN0v .J6r6Ls3WNV_CSbuzeLyr:last-child{margin-bottom:0}.xiVP4KSb56I10368tN0v .J6r6Ls3WNV_CSbuzeLyr .components-base-control__field{margin-bottom:0}.xiVP4KSb56I10368tN0v .J6r6Ls3WNV_CSbuzeLyr .components-base-control__field .components-text-control__input{border:none;text-align:center;padding:0}.xiVP4KSb56I10368tN0v .components-input-control:last-child{margin-bottom:0}.xiVP4KSb56I10368tN0v .components-input-control__input{padding-left:0 !important;padding-right:0 !important;text-align:center}.xiVP4KSb56I10368tN0v .components-input-control__input::-webkit-outer-spin-button,.xiVP4KSb56I10368tN0v .components-input-control__input::-webkit-inner-spin-button{-webkit-appearance:none}.xiVP4KSb56I10368tN0v .components-input-control__input[type=number]{-webkit-appearance:textfield;appearance:textfield;-moz-appearance:textfield}.xiVP4KSb56I10368tN0v .components-input-control__backdrop{border-style:none !important}.xiVP4KSb56I10368tN0v.XtdqGJfT1AOZ9KRjf1TZ{background-color:#f0f0f0}.xiVP4KSb56I10368tN0v.XtdqGJfT1AOZ9KRjf1TZ .PjODCu3uI7wWSXk4MiIH{color:#949494}.PjODCu3uI7wWSXk4MiIH{font-weight:900}",""]),x.locals={"timestamp-control__controls-wrapper":"zuO3RgAd20yV6c0cEjwU","timestamp-range-control":"m7UQ82mfQtaGf0Uxn62H","timestamp-input-wrapper":"xiVP4KSb56I10368tN0v","timestamp-control-input":"J6r6Ls3WNV_CSbuzeLyr","is-disabled":"XtdqGJfT1AOZ9KRjf1TZ","timestamp-control-divider":"PjODCu3uI7wWSXk4MiIH"};const F=x}}]);})();
