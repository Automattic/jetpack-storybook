"use strict";(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[6150],{"../analytics/index.jsx":(R,C,n)=>{n.d(C,{Z:()=>h});var f=n("../../../node_modules/.pnpm/debug@4.3.4/node_modules/debug/src/browser.js"),j=n.n(f);const i=j()("dops:analytics");let r,c;window._tkq=window._tkq||[],window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=+new Date;function s(e,t){let a="";if(typeof e=="object"){for(const o in e)a+="&x_"+encodeURIComponent(o)+"="+encodeURIComponent(e[o]);i("Bumping stats %o",e)}else a="&x_"+encodeURIComponent(e)+"="+encodeURIComponent(t),i('Bumping stat "%s" in group "%s"',t,e);return a}function p(e,t){let a="";if(typeof e=="object"){for(const o in e)a+="&"+encodeURIComponent(o)+"="+encodeURIComponent(e[o]);i("Built stats %o",e)}else a="&"+encodeURIComponent(e)+"="+encodeURIComponent(t),i('Built stat "%s" in group "%s"',t,e);return a}const d={initialize:function(e,t,a){d.setUser(e,t),d.setSuperProps(a),d.identifyUser()},setGoogleAnalyticsEnabled:function(e,t=null){this.googleAnalyticsEnabled=e,this.googleAnalyticsKey=t},setMcAnalyticsEnabled:function(e){this.mcAnalyticsEnabled=e},setUser:function(e,t){c={ID:e,username:t}},setSuperProps:function(e){r=e},assignSuperProps:function(e){r=Object.assign(r||{},e)},mc:{bumpStat:function(e,t){const a=s(e,t);d.mcAnalyticsEnabled&&(new Image().src=document.location.protocol+"//pixel.wp.com/g.gif?v=wpcom-no-pv"+a+"&t="+Math.random())},bumpStatWithPageView:function(e,t){const a=p(e,t);d.mcAnalyticsEnabled&&(new Image().src=document.location.protocol+"//pixel.wp.com/g.gif?v=wpcom"+a+"&t="+Math.random())}},pageView:{record:function(e,t){d.tracks.recordPageView(e),d.ga.recordPageView(e,t)}},purchase:{record:function(e,t,a,o,u,m,S){d.ga.recordPurchase(e,t,a,o,u,m,S)}},tracks:{recordEvent:function(e,t){if(t=t||{},e.indexOf("akismet_")!==0&&e.indexOf("jetpack_")!==0){i('- Event name must be prefixed by "akismet_" or "jetpack_"');return}r&&(i("- Super Props: %o",r),t=Object.assign(t,r)),i('Record event "%s" called with props %s',e,JSON.stringify(t)),window._tkq.push(["recordEvent",e,t])},recordJetpackClick:function(e){const t=typeof e=="object"?e:{target:e};d.tracks.recordEvent("jetpack_wpa_click",t)},recordPageView:function(e){d.tracks.recordEvent("akismet_page_view",{path:e})},setOptOut:function(e){i("Pushing setOptOut: %o",e),window._tkq.push(["setOptOut",e])}},ga:{initialized:!1,initialize:function(){let e={};d.ga.initialized||(c&&(e={userId:"u-"+c.ID}),window.ga("create",this.googleAnalyticsKey,"auto",e),d.ga.initialized=!0)},recordPageView:function(e,t){d.ga.initialize(),i("Recording Page View ~ [URL: "+e+"] [Title: "+t+"]"),this.googleAnalyticsEnabled&&(window.ga("set","page",e),window.ga("send",{hitType:"pageview",page:e,title:t}))},recordEvent:function(e,t,a,o){d.ga.initialize();let u="Recording Event ~ [Category: "+e+"] [Action: "+t+"]";typeof a!="undefined"&&(u+=" [Option Label: "+a+"]"),typeof o!="undefined"&&(u+=" [Option Value: "+o+"]"),i(u),this.googleAnalyticsEnabled&&window.ga("send","event",e,t,a,o)},recordPurchase:function(e,t,a,o,u,m,S){window.ga("require","ecommerce"),window.ga("ecommerce:addTransaction",{id:e,revenue:o,currency:S}),window.ga("ecommerce:addItem",{id:e,name:t,sku:a,price:u,quantity:m}),window.ga("ecommerce:send")}},identifyUser:function(){c&&window._tkq.push(["identifyUser",c.ID,c.username])},setProperties:function(e){window._tkq.push(["setProperties",e])},clearedIdentity:function(){window._tkq.push(["clearIdentity"])}},h=d},"../connection/components/use-connection/index.jsx":(R,C,n)=>{n.d(C,{Z:()=>p});var f=n("../api/index.jsx"),j=n("../../../node_modules/.pnpm/@wordpress+data@9.21.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-dispatch/use-dispatch.js"),i=n("../../../node_modules/.pnpm/@wordpress+data@9.21.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-select/index.js"),r=n("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),c=n("../connection/state/store.jsx");const s=window!=null&&window.JP_CONNECTION_INITIAL_STATE?window.JP_CONNECTION_INITIAL_STATE:{},p=({registrationNonce:d=s.registrationNonce,apiRoot:h=s.apiRoot,apiNonce:e=s.apiNonce,redirectUri:t,autoTrigger:a,from:o,skipUserConnection:u}={})=>{const{registerSite:m,connectUser:S,refreshConnectedPlugins:l}=(0,j.Z)(c.t),N=(0,i.Z)(k=>k(c.t).getRegistrationError()),{siteIsRegistering:v,userIsConnecting:y,userConnectionData:b,connectedPlugins:E,connectionErrors:x,isRegistered:I,isUserConnected:A,hasConnectedOwner:D,isOfflineMode:w}=(0,i.Z)(k=>({siteIsRegistering:k(c.t).getSiteIsRegistering(),userIsConnecting:k(c.t).getUserIsConnecting(),userConnectionData:k(c.t).getUserConnectionData(),connectedPlugins:k(c.t).getConnectedPlugins(),connectionErrors:k(c.t).getConnectionErrors(),isOfflineMode:k(c.t).getIsOfflineMode(),...k(c.t).getConnectionStatus()})),O=()=>{if(u){if(t)return window.location=t,Promise.resolve(t)}else return S({from:o,redirectUri:t});return Promise.resolve()},T=k=>(k&&k.preventDefault(),I?O():m({registrationNonce:d,redirectUri:t}).then(()=>O()));return(0,r.useEffect)(()=>{f.ZP.setApiRoot(h),f.ZP.setApiNonce(e)},[h,e]),(0,r.useEffect)(()=>{a&&!v&&!y&&T()},[]),{handleRegisterSite:T,handleConnectUser:O,refreshConnectedPlugins:l,isRegistered:I,isUserConnected:A,siteIsRegistering:v,userIsConnecting:y,registrationError:N,userConnectionData:b,hasConnectedOwner:D,connectedPlugins:E,connectionErrors:x,isOfflineMode:w}}},"../../packages/my-jetpack/_inc/components/card/index.jsx":(R,C,n)=>{n.d(C,{U:()=>u,Z:()=>S});var f=n("../components/components/text/index.tsx"),j=n("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),i=n.n(j),r=n("../../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js"),c=n.n(r),s=n("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),p=n("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),d=n.n(p),h=n("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[16].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/my-jetpack/_inc/components/card/style.module.scss"),e={};e.insert="head",e.singleton=!1;var t=d()(h.Z,e);const a=h.Z.locals||{};var o=n("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const u=l=>{const{children:N,className:v}=l,y=i()(a.container,v);return(0,o.jsx)("div",{className:y,children:N})};u.displayName="CardWrapper";const m=l=>{const{title:N,headerRightContent:v,className:y,children:b}=l;return(0,o.jsxs)(u,{className:y,children:[(0,o.jsxs)("div",{className:a.title,children:[(0,o.jsx)("div",{className:a.name,children:(0,o.jsx)(f.ZP,{variant:"title-medium",children:N})}),v]}),b]})};m.displayName="Card",m.propTypes={children:c().node,title:c().string.isRequired,className:c().string,headerRightContent:c().node};const S=m;u.__docgenInfo={description:"",methods:[],displayName:"CardWrapper"},m.__docgenInfo={description:"",methods:[],displayName:"Card",props:{children:{description:"",type:{name:"node"},required:!1},title:{description:"",type:{name:"string"},required:!0},className:{description:"",type:{name:"string"},required:!1},headerRightContent:{description:"",type:{name:"node"},required:!1}}}},"../../packages/my-jetpack/_inc/components/product-card/index.jsx":(R,C,n)=>{n.d(C,{bY:()=>N,ZP:()=>b});var f=n("../components/components/button/index.tsx"),j=n("../../../node_modules/.pnpm/@wordpress+i18n@4.51.0/node_modules/@wordpress/i18n/build-module/index.js"),i=n("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),r=n.n(i),c=n("../../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js"),s=n.n(c),p=n("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),d=n("../../packages/my-jetpack/_inc/hooks/use-analytics/index.js"),h=n("../../packages/my-jetpack/_inc/components/card/index.jsx"),e=n("../../packages/my-jetpack/_inc/components/product-card/action-button.jsx"),t=n("../components/components/text/index.tsx"),a=n("../../packages/my-jetpack/_inc/components/product-card/style.module.scss"),o=n("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const u=E=>{switch(E){case e.N.ACTIVE:case e.N.CAN_UPGRADE:return a.Z.active;case e.N.ABSENT_WITH_PLAN:return a.Z.warning;case e.N.INACTIVE:case e.N.NEEDS_PURCHASE:case e.N.NEEDS_PURCHASE_OR_FREE:return a.Z.inactive;case e.N.ERROR:return a.Z.inactive;default:return a.Z.inactive}},m=({status:E,isFetching:x,isInstallingStandalone:I,isDeactivatingStandalone:A})=>{const D=N[E],w=r()(a.Z.status,u(E),{[a.Z["is-fetching"]]:x||I||A});return(0,o.jsx)(t.ZP,{variant:"label",className:w,children:D})};m.displayName="Status";const S=m;m.__docgenInfo={description:"",methods:[],displayName:"Status"};const l=j.__,N={[e.N.ACTIVE]:l("Active","jetpack-my-jetpack"),[e.N.INACTIVE]:l("Inactive","jetpack-my-jetpack"),[e.N.MODULE_DISABLED]:l("Module disabled","jetpack-my-jetpack"),[e.N.NEEDS_PURCHASE]:l("Inactive","jetpack-my-jetpack"),[e.N.NEEDS_PURCHASE_OR_FREE]:l("Inactive","jetpack-my-jetpack"),[e.N.ABSENT]:l("Inactive","jetpack-my-jetpack"),[e.N.ABSENT_WITH_PLAN]:l("Needs Plugin","jetpack-my-jetpack"),[e.N.ERROR]:l("Needs connection","jetpack-my-jetpack"),[e.N.CAN_UPGRADE]:l("Active","jetpack-my-jetpack")},v=E=>{const{label:x,shouldShowButton:I}=E;return I()?(0,o.jsx)(f.Z,{...E,children:x}):!1};v.displayName="SecondaryButton",v.propTypes={href:s().string,size:s().oneOf(["normal","small"]),variant:s().oneOf(["primary","secondary","link","tertiary"]),weight:s().oneOf(["bold","regular"]),label:s().string,shouldShowButton:s().func,onClick:s().func,positionFirst:s().bool,isExternalLink:s().bool,icon:s().node,iconSize:s().number,disabled:s().bool,isLoading:s().bool,className:s().string},v.defaultProps={size:"small",variant:"secondary",weight:"regular",label:l("Learn more","jetpack-my-jetpack"),shouldShowButton:()=>!0,positionFirst:!1};const y=E=>{const{name:x,Description:I,status:A,onActivate:D,isFetching:w,isDataLoading:O,isInstallingStandalone:T,isDeactivatingStandalone:k,slug:_,additionalActions:W,primaryActionOverride:H,secondaryAction:P,children:F,onInstallStandalone:M,onActivateStandalone:L,onDeactivateStandalone:Z}=E,K=A===e.N.ERROR,B=A===e.N.ABSENT||A===e.N.ABSENT_WITH_PLAN,V=A===e.N.NEEDS_PURCHASE||A===e.N.NEEDS_PURCHASE_OR_FREE,G=r()({[a.Z.plugin_absent]:B,[a.Z["is-purchase-required"]]:V,[a.Z["is-link"]]:B,[a.Z["has-error"]]:K}),{recordEvent:g}=(0,d.Z)(),Q=(0,p.useCallback)(U=>{U.preventDefault(),g("jetpack_myjetpack_product_card_activate_click",{product:_}),D()},[_,D,g]),z=(0,p.useCallback)(()=>{g("jetpack_myjetpack_product_card_add_click",{product:_})},[_,g]),J=(0,p.useCallback)(()=>{g("jetpack_myjetpack_product_card_manage_click",{product:_})},[_,g]),X=(0,p.useCallback)(()=>{g("jetpack_myjetpack_product_card_fixconnection_click",{product:_})},[_,g]),Y=(0,p.useCallback)(()=>{g("jetpack_myjetpack_product_card_learnmore_click",{product:_})},[_,g]),q=(0,p.useCallback)(U=>{U.preventDefault(),g("jetpack_myjetpack_product_card_install_standalone_plugin_click",{product:_}),M()},[_,M,g]),$=(0,p.useCallback)(U=>{U.preventDefault(),g("jetpack_myjetpack_product_card_activate_standalone_plugin_click",{product:_}),L()},[_,L,g]),ee=(0,p.useCallback)(()=>{g("jetpack_myjetpack_product_card_deactivate_standalone_plugin_click",{product:_}),Z()},[_,Z,g]);return(0,o.jsxs)(h.Z,{title:x,className:r()(a.Z.container,G),headerRightContent:null,children:[(0,o.jsx)(I,{}),O?(0,o.jsx)("span",{className:a.Z.loading,children:l("Loading\u2026","jetpack-my-jetpack")}):F,(0,o.jsxs)("div",{className:a.Z.actions,children:[(0,o.jsxs)("div",{className:a.Z.buttons,children:[P&&(P==null?void 0:P.positionFirst)&&(0,o.jsx)(v,{...P}),(0,o.jsx)(e.Z,{...E,onActivate:Q,onFixConnection:X,onManage:J,onAdd:z,onInstall:q,onLearnMore:Y,className:a.Z.button,additionalActions:W,primaryActionOverride:H}),P&&!(P!=null&&P.positionFirst)&&(0,o.jsx)(v,{...P})]}),(0,o.jsx)(S,{status:A,isFetching:k,isInstallingStandalone:T,isDeactivatingStandalone:w})]})]})};y.displayName="ProductCard",y.propTypes={children:s().node,name:s().string.isRequired,Description:s().func.isRequired,admin:s().bool.isRequired,isFetching:s().bool,isInstallingStandalone:s().bool,isDeactivatingStandalone:s().bool,isManageDisabled:s().bool,onActivate:s().func,slug:s().string.isRequired,additionalActions:s().array,primaryActionOverride:s().object,secondaryAction:s().object,onInstallStandalone:s().func,onActivateStandalone:s().func,onDeactivateStandalone:s().func,status:s().oneOf([e.N.ACTIVE,e.N.INACTIVE,e.N.ERROR,e.N.ABSENT,e.N.ABSENT_WITH_PLAN,e.N.NEEDS_PURCHASE,e.N.NEEDS_PURCHASE_OR_FREE,e.N.CAN_UPGRADE]).isRequired},y.defaultProps={isFetching:!1,isInstallingStandalone:!1,isDeactivatingStandalone:!1,onActivate:()=>{}};const b=y;y.__docgenInfo={description:"",methods:[],displayName:"ProductCard",props:{isFetching:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},isInstallingStandalone:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},isDeactivatingStandalone:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},onActivate:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},children:{description:"",type:{name:"node"},required:!1},name:{description:"",type:{name:"string"},required:!0},Description:{description:"",type:{name:"func"},required:!0},admin:{description:"",type:{name:"bool"},required:!0},isManageDisabled:{description:"",type:{name:"bool"},required:!1},slug:{description:"",type:{name:"string"},required:!0},additionalActions:{description:"",type:{name:"array"},required:!1},primaryActionOverride:{description:"",type:{name:"object"},required:!1},secondaryAction:{description:"",type:{name:"object"},required:!1},onInstallStandalone:{description:"",type:{name:"func"},required:!1},onActivateStandalone:{description:"",type:{name:"func"},required:!1},onDeactivateStandalone:{description:"",type:{name:"func"},required:!1},status:{description:"",type:{name:"enum",value:[{value:"'active'",computed:!1},{value:"'inactive'",computed:!1},{value:"'error'",computed:!1},{value:"'plugin_absent'",computed:!1},{value:"'plugin_absent_with_plan'",computed:!1},{value:"'needs_purchase'",computed:!1},{value:"'needs_purchase_or_free'",computed:!1},{value:"'can_upgrade'",computed:!1}]},required:!0}}}},"../../packages/my-jetpack/_inc/hooks/use-analytics/index.js":(R,C,n)=>{n.d(C,{Z:()=>c});var f=n("../analytics/index.jsx"),j=n("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),i=n("../../packages/my-jetpack/_inc/hooks/use-my-jetpack-connection/index.js");const c=()=>{var E;const{isUserConnected:s,connectedPlugins:p,userConnectionData:d={}}=(0,i.Z)(),{login:h,ID:e}=((E=d.currentUser)==null?void 0:E.wpcomUser)||{};(0,j.useEffect)(()=>{s&&e&&h&&f.Z.initialize(e,h)},[e,s,h]);const t=Object.keys(p||{}).sort().join(",").replaceAll("jetpack-",""),{clearedIdentity:a,ga:o,mc:u,pageView:m,purchase:S,setGoogleAnalyticsEnabled:l,setMcAnalyticsEnabled:N,setProperties:v,tracks:y}=f.Z,b=(0,j.useCallback)((x,I)=>{var A;y.recordEvent(x,{...I,version:(A=window==null?void 0:window.myJetpackInitialState)==null?void 0:A.myJetpackVersion,referring_plugins:t})},[]);return{clearedIdentity:a,ga:o,mc:u,pageView:m,purchase:S,recordEvent:b,setGoogleAnalyticsEnabled:l,setMcAnalyticsEnabled:N,setProperties:v,tracks:y}}},"../../packages/my-jetpack/_inc/hooks/use-my-jetpack-connection/index.js":(R,C,n)=>{n.d(C,{Z:()=>j});var f=n("../connection/components/use-connection/index.jsx");function j(){const{apiRoot:i,apiNonce:r}=myJetpackRest,{topJetpackMenuItemUrl:c}=myJetpackInitialState,s=(0,f.Z)({apiRoot:i,apiNonce:r}),p=s.isRegistered;return{apiNonce:r,apiRoot:i,...s,isSiteConnected:p,topJetpackMenuItemUrl:c}}},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[16].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/my-jetpack/_inc/components/card/style.module.scss":(R,C,n)=>{n.d(C,{Z:()=>s});var f=n("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),j=n.n(f),i=n("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),r=n.n(i),c=r()(j());c.push([R.id,".pecv05IGfM82FIHp9Q4E{padding:calc(var(--spacing-base)*3);background:var(--jp-white);border:1px solid var(--jp-gray-5);border-radius:var(--jp-border-radius-rna);box-shadow:0 4px 12px 0px rgba(0,0,0,.06);height:100%;display:flex;flex-direction:column}.pecv05IGfM82FIHp9Q4E.jgcGPDlYaLnB6QcRWSWR{background:none;text-decoration:none;background-color:var(--jp-white-off);color:var(--jp-black-80)}.pecv05IGfM82FIHp9Q4E.jgcGPDlYaLnB6QcRWSWR:focus{box-shadow:0 0 0 1.5px var(--jp-black);background-color:var(--jp-white);outline:3px solid rgba(0,0,0,0)}.pecv05IGfM82FIHp9Q4E.Hv659vLLaZ8SaSWyxtAZ{box-shadow:0 0 0 1.5px var(--jp-red-60)}.i1rUritEO7pQO4fsj9PF{width:100%;display:flex;gap:var(--spacing-base);align-items:center;justify-content:space-between;margin-bottom:var(--spacing-base)}.i1rUritEO7pQO4fsj9PF h3{font-weight:700}.YP7299HZXBCUg1n1NUqU{display:flex;height:100%;gap:var(--spacing-base);align-items:center;flex-wrap:wrap-reverse}",""]),c.locals={container:"pecv05IGfM82FIHp9Q4E","is-link":"jgcGPDlYaLnB6QcRWSWR","has-error":"Hv659vLLaZ8SaSWyxtAZ",title:"i1rUritEO7pQO4fsj9PF",name:"YP7299HZXBCUg1n1NUqU"};const s=c}}]);})();
