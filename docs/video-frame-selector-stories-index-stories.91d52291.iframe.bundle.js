"use strict";(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[4610],{"../../packages/videopress/src/client/components/video-frame-selector/stories/index.stories.jsx":(x,i,e)=>{var _,f,g,v,w,m;e.r(i),e.d(i,{Default:()=>n,VideoPlayer:()=>p,__namedExportsOrder:()=>c,default:()=>t});var s=e("../../packages/videopress/src/client/components/video-frame-selector/index.jsx"),d=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js"),a=`import VideoFrameSelector, { VideoPlayer as VideoPlayerComponent } from '..';

export default {
	title: 'Packages/VideoPress/Video Frame Selector',
	component: VideoFrameSelector,
	parameters: {
		layout: 'centered',
	},
	decorators: [
		Story => (
			<div style={ { width: '100%', maxWidth: '600px' } }>
				<Story />
			</div>
		),
	],
};

const Template = args => <VideoFrameSelector { ...args } />;

export const Default = Template.bind( {} );
Default.args = {
	src: 'https://videos.files.wordpress.com/PnQvSqdF/videopress-upload-demo-7.mp4',
};

const VideoPlayerTemplate = args => <VideoPlayerComponent { ...args } />;

export const VideoPlayer = VideoPlayerTemplate.bind( {} );
VideoPlayer.args = {
	src: 'https://videos.files.wordpress.com/PnQvSqdF/videopress-upload-demo-7.mp4',
};
`,o={Default:{startLoc:{col:17,line:18},endLoc:{col:59,line:18},startBody:{col:17,line:18},endBody:{col:59,line:18}},VideoPlayer:{startLoc:{col:28,line:25},endLoc:{col:72,line:25},startBody:{col:28,line:25},endBody:{col:72,line:25}}};const t={title:"Packages/VideoPress/Video Frame Selector",component:s.Z,parameters:{storySource:{source:`import VideoFrameSelector, { VideoPlayer as VideoPlayerComponent } from '..';

export default {
	title: 'Packages/VideoPress/Video Frame Selector',
	component: VideoFrameSelector,
	parameters: {
		layout: 'centered',
	},
	decorators: [
		Story => (
			<div style={ { width: '100%', maxWidth: '600px' } }>
				<Story />
			</div>
		),
	],
};

const Template = args => <VideoFrameSelector { ...args } />;

export const Default = Template.bind( {} );
Default.args = {
	src: 'https://videos.files.wordpress.com/PnQvSqdF/videopress-upload-demo-7.mp4',
};

const VideoPlayerTemplate = args => <VideoPlayerComponent { ...args } />;

export const VideoPlayer = VideoPlayerTemplate.bind( {} );
VideoPlayer.args = {
	src: 'https://videos.files.wordpress.com/PnQvSqdF/videopress-upload-demo-7.mp4',
};
`,locationsMap:{default:{startLoc:{col:17,line:18},endLoc:{col:59,line:18},startBody:{col:17,line:18},endBody:{col:59,line:18}},"video-player":{startLoc:{col:28,line:25},endLoc:{col:72,line:25},startBody:{col:28,line:25},endBody:{col:72,line:25}}}},layout:"centered"},decorators:[u=>(0,d.jsx)("div",{style:{width:"100%",maxWidth:"600px"},children:(0,d.jsx)(u,{})})]},l=u=>(0,d.jsx)(s.Z,{...u});l.displayName="Template";const n=l.bind({});n.args={src:"https://videos.files.wordpress.com/PnQvSqdF/videopress-upload-demo-7.mp4"};const r=u=>(0,d.jsx)(s.Y,{...u});r.displayName="VideoPlayerTemplate";const p=r.bind({});p.args={src:"https://videos.files.wordpress.com/PnQvSqdF/videopress-upload-demo-7.mp4"},n.parameters={...n.parameters,docs:{...(_=n.parameters)==null?void 0:_.docs,source:{originalSource:"args => <VideoFrameSelector {...args} />",...(g=(f=n.parameters)==null?void 0:f.docs)==null?void 0:g.source}}},p.parameters={...p.parameters,docs:{...(v=p.parameters)==null?void 0:v.docs,source:{originalSource:"args => <VideoPlayerComponent {...args} />",...(m=(w=p.parameters)==null?void 0:w.docs)==null?void 0:m.source}}};const c=["Default","VideoPlayer"]},"../../../node_modules/.pnpm/@wordpress+components@25.14.0_@types+react@18.2.33_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/spinner/index.js":(x,i,e)=>{e.d(i,{ZP:()=>m});var s=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),d=e("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),a=e.n(d),o=e("../../../node_modules/.pnpm/@emotion+styled@11.11.0_@emotion+react@11.11.1_@types+react@18.2.33_react@18.2.0/node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),t=e("../../../node_modules/.pnpm/@emotion+react@11.11.1_@types+react@18.2.33_react@18.2.0/node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),l=e("../../../node_modules/.pnpm/@wordpress+components@25.14.0_@types+react@18.2.33_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/utils/config-values.js"),n=e("../../../node_modules/.pnpm/@wordpress+components@25.14.0_@types+react@18.2.33_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/utils/colors-values.js");function r(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const p=t.F4`
	from {
		transform: rotate(0deg);
	}
	to {
		transform: rotate(360deg);
	}
 `,c=(0,o.Z)("svg",{target:"ea4tfvq2"})("width:",l.Z.spinnerSize,"px;height:",l.Z.spinnerSize,"px;display:inline-block;margin:5px 11px 0;position:relative;color:",n.D.theme.accent,";overflow:visible;opacity:1;background-color:transparent;"),_={name:"9s4963",styles:"fill:transparent;stroke-width:1.5px"},f=(0,o.Z)("circle",{target:"ea4tfvq1"})(_,";stroke:",n.D.gray[300],";"),g=(0,o.Z)("path",{target:"ea4tfvq0"})(_,";stroke:currentColor;stroke-linecap:round;transform-origin:50% 50%;animation:1.4s linear infinite both ",p,";");function v({className:u,...h},L){return(0,s.createElement)(c,{className:a()("components-spinner",u),viewBox:"0 0 100 100",width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg",role:"presentation",focusable:"false",...h,ref:L},(0,s.createElement)(f,{cx:"50",cy:"50",r:"50",vectorEffect:"non-scaling-stroke"}),(0,s.createElement)(g,{d:"m 50 0 a 50 50 0 0 1 50 50",vectorEffect:"non-scaling-stroke"}))}const m=(0,s.forwardRef)(v)},"../../../node_modules/.pnpm/@wordpress+compose@6.25.0_react@18.2.0/node_modules/@wordpress/compose/build-module/hooks/use-merge-refs/index.js":(x,i,e)=>{e.d(i,{Z:()=>a});var s=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");function d(o,t){typeof o=="function"?o(t):o&&o.hasOwnProperty("current")&&(o.current=t)}function a(o){const t=(0,s.useRef)(),l=(0,s.useRef)(!1),n=(0,s.useRef)(!1),r=(0,s.useRef)([]),p=(0,s.useRef)(o);return p.current=o,(0,s.useLayoutEffect)(()=>{n.current===!1&&l.current===!0&&o.forEach((c,_)=>{const f=r.current[_];c!==f&&(d(f,null),d(c,t.current))}),r.current=o},o),(0,s.useLayoutEffect)(()=>{n.current=!1}),(0,s.useCallback)(c=>{d(t,c),n.current=!0,l.current=c!==null;const _=c?p.current:r.current;for(const f of _)d(f,c)},[])}},"../../../node_modules/.pnpm/@wordpress+icons@9.39.0_react@18.2.0/node_modules/@wordpress/icons/build-module/icon/index.js":(x,i,e)=>{e.d(i,{Z:()=>a});var s=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");function d({icon:o,size:t=24,...l},n){return(0,s.cloneElement)(o,{width:t,height:t,...l,ref:n})}const a=(0,s.forwardRef)(d)},"../../packages/videopress/src/client/components/video-frame-selector/index.jsx":(x,i,e)=>{e.d(i,{Y:()=>u,Z:()=>L});var s=e("../../../node_modules/.pnpm/@wordpress+components@25.14.0_@types+react@18.2.33_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/spinner/index.js"),d=e("../../../node_modules/.pnpm/@wordpress+components@25.14.0_@types+react@18.2.33_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/range-control/index.js"),a=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),o=e("../../../node_modules/.pnpm/@wordpress+icons@9.39.0_react@18.2.0/node_modules/@wordpress/icons/build-module/icon/index.js"),t=e("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),l=e.n(t),n=e("../../../node_modules/.pnpm/@wordpress+primitives@3.46.0/node_modules/@wordpress/primitives/build-module/svg/index.js"),r=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const c=(0,r.jsx)(n.Wj,{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)(n.y$,{d:"M4.75725 2.075C4.60279 1.97745 4.41041 1.97489 4.25365 2.06832C4.09689 2.16174 4 2.3367 4 2.52632V21.4737C4 21.6633 4.09689 21.8383 4.25365 21.9317C4.41041 22.0251 4.60279 22.0226 4.75725 21.925L19.7573 12.4513C19.9079 12.3562 20 12.1849 20 12C20 11.8151 19.9079 11.6438 19.7573 11.5487L4.75725 2.075Z",fill:"white"})});var _=e("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),f=e.n(_),g=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[16].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/components/video-frame-selector/style.module.scss"),v={};v.insert="head",v.singleton=!1;var w=f()(g.Z,v);const m=g.Z.locals||{},u=({src:E,setMaxDuration:P=null,currentTime:j})=>{const y=(0,a.useRef)(null),[C,T]=(0,a.useState)(!0);(0,a.useEffect)(()=>{y.current.src=E},[E]),(0,a.useEffect)(()=>{y.current&&Number.isFinite(j)&&(y.current.currentTime=j)},[j]);const S=O=>{const V=O.target.duration;if(P==null||P(V),y.current){const b=Number.isFinite(j)?j:V/2;y.current.currentTime=b}};return(0,r.jsxs)("div",{className:m["video-player-wrapper"],children:[C&&(0,r.jsx)("div",{className:m["video-player-spinner-wrapper"],children:(0,r.jsx)(s.ZP,{className:m.spinner})}),(0,r.jsx)("video",{onLoadedData:()=>T(!1),ref:y,muted:!0,className:m.video,onDurationChange:S})]})};u.displayName="VideoPlayer";const h=({src:E="",onVideoFrameSelected:P,className:j="",initialCurrentTime:y=null})=>{const[C,T]=(0,a.useState)(0),[S,O]=(0,a.useState)(Number.isFinite(y)?y:null),V=b=>{O(b),P==null||P(b*1e3)};return(0,r.jsxs)("div",{className:l()(m.container,j),children:[(0,r.jsx)(o.Z,{className:m["play-icon"],icon:c}),(0,r.jsx)(u,{src:E,setMaxDuration:T,currentTime:S}),(0,r.jsx)(d.Z,{className:m.range,min:0,step:.1,initialPosition:S,max:C,showTooltip:!1,withInputField:!1,onChange:V})]})};h.displayName="VideoFrameSelector";const L=h;u.__docgenInfo={description:"",methods:[],displayName:"VideoPlayer",props:{setMaxDuration:{defaultValue:{value:"null",computed:!1},required:!1}}},h.__docgenInfo={description:"",methods:[],displayName:"VideoFrameSelector",props:{src:{defaultValue:{value:"''",computed:!1},required:!1},className:{defaultValue:{value:"''",computed:!1},required:!1},initialCurrentTime:{defaultValue:{value:"null",computed:!1},required:!1}}}},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[16].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/components/video-frame-selector/style.module.scss":(x,i,e)=>{e.d(i,{Z:()=>l});var s=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),d=e.n(s),a=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),o=e.n(a),t=o()(d());t.push([x.id,".GJLYOrdLVqPm5uwnCSuS{position:relative;width:100%}.GJLYOrdLVqPm5uwnCSuS:hover .u2u7S4rs0SpVlOKEVTKn{opacity:0}.Iw8dJR9VDiZMtmOgQacs{position:relative}.MaP07CM4JAO8bHyiXbtJ{position:absolute;z-index:0;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center}.tfdjkG_pc3Gk9GOUKv6T{transform:scale(3)}.Qqrk3p9Mq6FY3pqrYRE_{width:100%;-o-object-fit:cover;object-fit:cover;aspect-ratio:16/9;z-index:1;position:relative}.u2u7S4rs0SpVlOKEVTKn{width:130px;height:130px;position:absolute;top:50%;left:50%;margin:-65px 0 0 -65px;opacity:1;transition:opacity .3s ease-out}.y7HVLKw1EgYCzrLXsbzG{margin-top:-19px}.y7HVLKw1EgYCzrLXsbzG .components-range-control__track{height:8px;border-radius:0;background-color:#272526;opacity:.7}.y7HVLKw1EgYCzrLXsbzG .components-range-control__slider{padding-bottom:0}.y7HVLKw1EgYCzrLXsbzG .components-base-control__field{margin-bottom:0}.y7HVLKw1EgYCzrLXsbzG .components-range-control__wrapper span:first-of-type{height:8px;border-radius:0;opacity:.8;background-color:#d9d9d9}.y7HVLKw1EgYCzrLXsbzG .components-range-control__wrapper span:last-of-type{display:none}",""]),t.locals={container:"GJLYOrdLVqPm5uwnCSuS","play-icon":"u2u7S4rs0SpVlOKEVTKn","video-player-wrapper":"Iw8dJR9VDiZMtmOgQacs","video-player-spinner-wrapper":"MaP07CM4JAO8bHyiXbtJ",spinner:"tfdjkG_pc3Gk9GOUKv6T",video:"Qqrk3p9Mq6FY3pqrYRE_",range:"y7HVLKw1EgYCzrLXsbzG"};const l=t}}]);})();
