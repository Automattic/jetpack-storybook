"use strict";(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[9430],{"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/stories/index.stories.tsx":(ne,L,e)=>{var Q,M,z,J,A,p;e.r(L),e.d(L,{VideoHoverPreviewControlStory:()=>k,__namedExportsOrder:()=>c,_default:()=>d,default:()=>G});var w=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),C=e("../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx"),I=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js"),U=`import React, { useState } from 'react';
import PosterPanel, { VideoHoverPreviewControl } from '..';

export default {
	title: 'Packages/VideoPress/Block Editor/Poster Panel',
	component: PosterPanel,
	argTypes: {},
};

const DefaultTemplate = args => {
	const [ attributes, setAttributes ] = React.useState( {
		poster: args.poster,
		videoRatio: args.videoRatio,
		guid: args.guid,
	} );

	const setAttributesHandler = newAttributes => {
		setAttributes( { ...attributes, ...newAttributes } );
	};

	return (
		<PosterPanel
			attributes={ attributes }
			setAttributes={ setAttributesHandler }
			isGeneratingPoster={ false }
		/>
	);
};

export const _default = DefaultTemplate.bind( {} );
_default.args = {
	poster: 'https://jetpackme.files.wordpress.com/2018/04/cropped-jetpack-favicon-2018.png',
	videoRatio: 60,
	guid: 'ezoR6kzb',
};

const VideoHoverPreviewControlTemplate = args => {
	const [ previewOnHover, setPreviewOnHover ] = useState( true );
	const [ , setPreviewAt ] = useState( args.previewAtTime );
	const [ , setLoopDuraton ] = useState( args.loopDuration );
	const setPreviewAtHandler = newPreviewAt => {
		setPreviewAt( newPreviewAt );
		console.log( { newPreviewAt } ); // eslint-disable-line no-console
	};

	return (
		<VideoHoverPreviewControl
			{ ...args }
			previewOnHover={ previewOnHover }
			onPreviewAtTimeChange={ setPreviewAtHandler }
			onLoopDurationChange={ setLoopDuraton }
			onPreviewOnHoverChange={ setPreviewOnHover }
		/>
	);
};

export const VideoHoverPreviewControlStory = VideoHoverPreviewControlTemplate.bind( {} );
VideoHoverPreviewControlStory.args = {
	previewAtTime: 0,
	loopDuration: 2300,
	videoDuration: 80000, // 80 seconds
};

VideoHoverPreviewControlStory.storyName = 'VideoHoverPreviewControl';
`,j={_default:{startLoc:{col:24,line:8},endLoc:{col:1,line:21},startBody:{col:24,line:8},endBody:{col:1,line:21}},VideoHoverPreviewControlStory:{startLoc:{col:41,line:28},endLoc:{col:1,line:40},startBody:{col:41,line:28},endBody:{col:1,line:40}}};const G={parameters:{storySource:{source:`import React, { useState } from 'react';
import PosterPanel, { VideoHoverPreviewControl } from '..';
export default {
  title: 'Packages/VideoPress/Block Editor/Poster Panel',
  component: PosterPanel,
  argTypes: {}
};
const DefaultTemplate = args => {
  const [attributes, setAttributes] = React.useState({
    poster: args.poster,
    videoRatio: args.videoRatio,
    guid: args.guid
  });
  const setAttributesHandler = newAttributes => {
    setAttributes({
      ...attributes,
      ...newAttributes
    });
  };
  return <PosterPanel attributes={attributes} setAttributes={setAttributesHandler} isGeneratingPoster={false} />;
};
export const _default = DefaultTemplate.bind({});
_default.args = {
  poster: 'https://jetpackme.files.wordpress.com/2018/04/cropped-jetpack-favicon-2018.png',
  videoRatio: 60,
  guid: 'ezoR6kzb'
};
const VideoHoverPreviewControlTemplate = args => {
  const [previewOnHover, setPreviewOnHover] = useState(true);
  const [, setPreviewAt] = useState(args.previewAtTime);
  const [, setLoopDuraton] = useState(args.loopDuration);
  const setPreviewAtHandler = newPreviewAt => {
    setPreviewAt(newPreviewAt);
    console.log({
      newPreviewAt
    }); 
  };

  return <VideoHoverPreviewControl {...args} previewOnHover={previewOnHover} onPreviewAtTimeChange={setPreviewAtHandler} onLoopDurationChange={setLoopDuraton} onPreviewOnHoverChange={setPreviewOnHover} />;
};
export const VideoHoverPreviewControlStory = VideoHoverPreviewControlTemplate.bind({});
VideoHoverPreviewControlStory.args = {
  previewAtTime: 0,
  loopDuration: 2300,
  videoDuration: 80000 // 80 seconds
};

VideoHoverPreviewControlStory.storyName = 'VideoHoverPreviewControl';
_default.parameters = {
  ..._default.parameters,
  docs: {
    ..._default.parameters?.docs,
    source: {
      originalSource: "args => {\\n  const [attributes, setAttributes] = React.useState({\\n    poster: args.poster,\\n    videoRatio: args.videoRatio,\\n    guid: args.guid\\n  });\\n  const setAttributesHandler = newAttributes => {\\n    setAttributes({\\n      ...attributes,\\n      ...newAttributes\\n    });\\n  };\\n  return <PosterPanel attributes={attributes} setAttributes={setAttributesHandler} isGeneratingPoster={false} />;\\n}",
      ..._default.parameters?.docs?.source
    }
  }
};
VideoHoverPreviewControlStory.parameters = {
  ...VideoHoverPreviewControlStory.parameters,
  docs: {
    ...VideoHoverPreviewControlStory.parameters?.docs,
    source: {
      originalSource: "args => {\\n  const [previewOnHover, setPreviewOnHover] = useState(true);\\n  const [, setPreviewAt] = useState(args.previewAtTime);\\n  const [, setLoopDuraton] = useState(args.loopDuration);\\n  const setPreviewAtHandler = newPreviewAt => {\\n    setPreviewAt(newPreviewAt);\\n    console.log({\\n      newPreviewAt\\n    }); // eslint-disable-line no-console\\n  };\\n\\n  return <VideoHoverPreviewControl {...args} previewOnHover={previewOnHover} onPreviewAtTimeChange={setPreviewAtHandler} onLoopDurationChange={setLoopDuraton} onPreviewOnHoverChange={setPreviewOnHover} />;\\n}",
      ...VideoHoverPreviewControlStory.parameters?.docs?.source
    }
  }
};`,locationsMap:{default:{startLoc:{col:24,line:8},endLoc:{col:1,line:21},startBody:{col:24,line:8},endBody:{col:1,line:21}},"video-hover-preview-control-story":{startLoc:{col:41,line:28},endLoc:{col:1,line:40},startBody:{col:41,line:28},endBody:{col:1,line:40}}}}},title:"Packages/VideoPress/Block Editor/Poster Panel",component:C.ZP,argTypes:{}},X=D=>{const[K,H]=w.useState({poster:D.poster,videoRatio:D.videoRatio,guid:D.guid}),$=de=>{H({...K,...de})};return(0,I.jsx)(C.ZP,{attributes:K,setAttributes:$,isGeneratingPoster:!1})};X.displayName="DefaultTemplate";const d=X.bind({});d.args={poster:"https://jetpackme.files.wordpress.com/2018/04/cropped-jetpack-favicon-2018.png",videoRatio:60,guid:"ezoR6kzb"};const y=D=>{const[K,H]=(0,w.useState)(!0),[,$]=(0,w.useState)(D.previewAtTime),[,de]=(0,w.useState)(D.loopDuration),Pe=le=>{$(le),console.log({newPreviewAt:le})};return(0,I.jsx)(C.wj,{...D,previewOnHover:K,onPreviewAtTimeChange:Pe,onLoopDurationChange:de,onPreviewOnHoverChange:H})};y.displayName="VideoHoverPreviewControlTemplate";const k=y.bind({});k.args={previewAtTime:0,loopDuration:2300,videoDuration:8e4},k.storyName="VideoHoverPreviewControl",d.parameters={...d.parameters,docs:{...(Q=d.parameters)==null?void 0:Q.docs,source:{originalSource:`args => {
  const [attributes, setAttributes] = React.useState({
    poster: args.poster,
    videoRatio: args.videoRatio,
    guid: args.guid
  });
  const setAttributesHandler = newAttributes => {
    setAttributes({
      ...attributes,
      ...newAttributes
    });
  };
  return <PosterPanel attributes={attributes} setAttributes={setAttributesHandler} isGeneratingPoster={false} />;
}`,...(z=(M=d.parameters)==null?void 0:M.docs)==null?void 0:z.source}}},k.parameters={...k.parameters,docs:{...(J=k.parameters)==null?void 0:J.docs,source:{originalSource:`args => {
  const [previewOnHover, setPreviewOnHover] = useState(true);
  const [, setPreviewAt] = useState(args.previewAtTime);
  const [, setLoopDuraton] = useState(args.loopDuration);
  const setPreviewAtHandler = newPreviewAt => {
    setPreviewAt(newPreviewAt);
    console.log({
      newPreviewAt
    }); // eslint-disable-line no-console
  };

  return <VideoHoverPreviewControl {...args} previewOnHover={previewOnHover} onPreviewAtTimeChange={setPreviewAtHandler} onLoopDurationChange={setLoopDuraton} onPreviewOnHoverChange={setPreviewOnHover} />;
}`,...(p=(A=k.parameters)==null?void 0:A.docs)==null?void 0:p.source}}};const c=["_default","VideoHoverPreviewControlStory"]},"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx":(ne,L,e)=>{var Re;e.d(L,{wj:()=>we,ZP:()=>De});var w=e("../../../node_modules/.pnpm/@wordpress+block-editor@11.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/block-editor/build-module/index.js"),C=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/dropdown/index.js"),I=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/button/index.js"),U=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/navigable-container/menu.js"),j=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/menu-item/index.js"),G=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/spinner/index.js"),X=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/sandbox/index.js"),d=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/notice/index.js"),y=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/toggle-control/index.js"),k=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/panel/body.js"),c=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),Q=e("../../../node_modules/.pnpm/@wordpress+element@5.7.0/node_modules/@wordpress/element/build-module/create-interpolate-element.js"),M=e("../../../node_modules/.pnpm/@wordpress+i18n@4.30.0/node_modules/@wordpress/i18n/build-module/index.js"),z=e("../../../node_modules/.pnpm/@wordpress+icons@9.21.0/node_modules/@wordpress/icons/build-module/library/image.js"),J=e("../../../node_modules/.pnpm/@wordpress+icons@9.21.0/node_modules/@wordpress/icons/build-module/library/link-off.js"),A=e("../../../node_modules/.pnpm/classnames@2.3.1/node_modules/classnames/index.js"),p=e.n(A),D=e("../../packages/videopress/src/client/components/timestamp-control/index.tsx"),K=e("../../packages/videopress/src/client/lib/url/index.ts");function H(r){const o=Math.floor(r/36e5);let s=r-o*36e5;const g=Math.floor(s/6e4);s=s-g*6e4;const l=Math.floor(s/1e3);return[o,g,l].map(n=>n<10?`0${n}`:n).join(":")}const $="videopress-chapters-auto-generated";function de(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3599999e3;const s=extractVideoChapters(r);if(s.length===0)return null;let g=`WEBVTT
`;g+=`
`,g+=`NOTE
`,g+=`${$}
`,g+=`This file was auto-generated based on Video description.
`,g+=`For more information, see https://jetpack.com/support/jetpack-videopress/jetpack-videopress-customizing-your-videos/#adding-subtitles-captions-or-chapters-within-a-video
`;let l=1;for(const[n,i]of s.entries()){const u=n===0?"000":"001",h=n<s.length-1?s[n+1].startAt:H(o);g+=`
${l++}
${i.startAt}.${u} --> ${h}.000
${i.title}
`}return g}function Pe(r,o){const s=de(r,o);return s?new File([s],"chapters.vtt",{type:"text/vtt"}):null}var le=e("../../../node_modules/.pnpm/@wordpress+core-data@6.7.0_react@18.2.0/node_modules/@wordpress/core-data/build-module/index.js"),Se=e("../../../node_modules/.pnpm/@wordpress+data@9.0.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-select/index.js");const pe={html:null,width:null,height:null,thumbnail_height:null,thumbnail_width:null,title:null,version:"1.0",type:"video",provider_name:"VideoPress",provider_url:"https://videopress.com"},he=r=>(0,Se.Z)(o=>r?{preview:o(le.h).getEmbedPreview(r)||pe,isRequestingEmbedPreview:o(le.h).isRequestingEmbedPreview(r)||!1}:{preview:pe,isRequestingEmbedPreview:!1},[r]);var ce=e("../../../node_modules/.pnpm/@wordpress+compose@6.7.0_react@18.2.0/node_modules/@wordpress/compose/build-module/hooks/use-previous/index.js"),ue=e("../../../node_modules/.pnpm/debug@4.3.4/node_modules/debug/src/browser.js"),je=e.n(ue);const a=je()("videopress:use-video-player"),f=r=>{var s;const o=(s=r==null?void 0:r.current)==null?void 0:s.querySelector("iframe.components-sandbox");return o==null?void 0:o.contentWindow},b=(r,o,s)=>{let{autoplay:g,initialTimePosition:l,wrapperElement:n,previewOnHover:i}=s;const[u,h]=(0,c.useState)(!1),_=(0,c.useRef)("not-rendered");function x(ae){const{data:ie={},source:se}=ae,{event:fe}=(ae==null?void 0:ae.data)||{};if(fe==="videopress_loading_state"&&ie.state==="loaded"&&(a("state: loaded"),_.current="loaded"),fe==="videopress_playing"&&_.current==="loaded"&&(_.current="first-play",a("state: first-play detected"),g?a("autoplay enabled. Do not pause"):(a("pause video"),se.postMessage({event:"videopress_action_pause"},{targetOrigin:"*"})),typeof l!="undefined"&&(a("set position at time %o ",l),se.postMessage({event:"videopress_action_set_currenttime",currentTime:l/1e3},{targetOrigin:"*"})),h(!0),_.current="ready"),fe==="videopress_timeupdate"&&i){const V=ie.currentTimeMs,re=i.atTime,Ie=i.atTime+i.duration;(V<re||V>Ie)&&se.postMessage({event:"videopress_action_set_currenttime",currentTime:re/1e3},{targetOrigin:"*"})}}const O=!!i,oe=(0,ce.Z)(O),S=O&&!oe,m=f(r);(0,c.useEffect)(()=>{if(m&&!o)return a("player is ready to listen events"),m.addEventListener("message",x),()=>{m.removeEventListener("message",x)}},[m,o,S,i]);const R=(0,c.useCallback)(()=>{!m||!u||m.postMessage({event:"videopress_action_play"},"*")},[r,u,m]),F=(0,c.useCallback)(()=>{!m||!u||m.postMessage({event:"videopress_action_pause"},"*")},[r,u,m]);return(0,c.useEffect)(()=>{if(!(!n||!O))return n.addEventListener("mouseenter",R),n.addEventListener("mouseleave",F),()=>{n.removeEventListener("mouseenter",R),n.removeEventListener("mouseleave",F)}},[O,n,u]),(0,c.useEffect)(()=>{!u||!i||m&&m.postMessage({event:"videopress_action_set_currenttime",currentTime:i.atTime/1e3},{targetOrigin:"*"})},[i==null?void 0:i.atTime,u,m]),(0,c.useEffect)(()=>{!u||!i||m&&m.postMessage({event:"videopress_action_set_currenttime",currentTime:(i.atTime+i.duration)/1e3},{targetOrigin:"*"})},[i==null?void 0:i.duration,u,m]),{playerIsReady:u,play:R,pause:F}},T=null,W=["image"];var E=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/toolbar/toolbar-button/index.js"),N=e("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),me=e.n(N),_e=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/style.scss"),q={};q.insert="head",q.singleton=!1;var ee=me()(_e.Z,q);const B=_e.Z.locals||{};var t=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const Y=M.__;function te(r){let{poster:o,className:s}=r;const g=(0,Q.Z)(Y("No custom Poster image selected.<help>You can upload or select an image from your media library to override the default video image.</help>","jetpack-videopress-pkg"),{help:(0,t.jsx)("p",{className:"poster-panel-control__help"})}),l=(0,Q.Z)(Y("You are currently overriding the default Poster image.<help>Remove it if you want to use the default image generated by VideoPress.</help>","jetpack-videopress-pkg"),{help:(0,t.jsx)("p",{className:"poster-panel-control__help"})});return(0,t.jsx)("div",{className:s,children:o?l:g})}te.displayName="VideoPosterCard";function ke(r){let{attributes:o,setAttributes:s,clientId:g}=r;const{poster:l}=o,n=u=>{s({poster:u.url})},i=()=>{s({poster:""})};return(0,t.jsx)(C.Z,{contentClassName:"dropdown-content",renderToggle:u=>{let{isOpen:h,onToggle:_}=u;return(0,t.jsx)(E.Z,{label:Y("Poster image","jetpack-videopress-pkg"),showTooltip:!0,"aria-expanded":h,"aria-haspopup":"true",onClick:_,icon:z.Z})},renderContent:u=>{let{onClose:h}=u;const _=`video-block__poster-image-description-${g}`;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(U.Z,{className:"poster-image-block-control__wrapper",children:[(0,t.jsx)(w.VA,{children:(0,t.jsx)(w.R,{title:Y("Select Poster Image","jetpack-videopress-pkg"),onSelect:x=>{n(x),h()},allowedTypes:W,render:x=>{let{open:O}=x;return(0,t.jsxs)(j.Z,{icon:z.Z,onClick:O,"aria-describedby":_,children:[Y("Open Media Library","jetpack-videopress-pkg"),(0,t.jsx)("p",{id:_,hidden:!0,children:l?(0,M.gB)(Y("The current poster image url is %s","jetpack-videopress-pkg"),l):Y("There is no poster image currently selected","jetpack-videopress-pkg")})]})}})}),(0,t.jsx)(te,{poster:l,className:"current-media"}),!!l&&(0,t.jsx)(j.Z,{className:"poster-image-block-control__remove-button",variant:"tertiary",isDestructive:!0,onClick:()=>{i(),h()},icon:J.Z,children:Y("Remove and use default","jetpack-videopress-pkg")})]})})}})}ke.displayName="PosterImageBlockControl";try{te.displayName="VideoPosterCard",te.__docgenInfo={description:"Simple component that renders info about video poster.",displayName:"VideoPosterCard",props:{poster:{defaultValue:null,description:"",name:"poster",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/index.tsx#VideoPosterCard"]={docgenInfo:te.__docgenInfo,name:"VideoPosterCard",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/index.tsx#VideoPosterCard"})}catch(r){}try{posterimageblockcontrol.displayName="posterimageblockcontrol",posterimageblockcontrol.__docgenInfo={description:"Poster image control react component.",displayName:"posterimageblockcontrol",props:{attributes:{defaultValue:null,description:"Block Attributes object.",name:"attributes",required:!0,type:{name:"VideoBlockAttributes"}},setAttributes:{defaultValue:null,description:"",name:"setAttributes",required:!0,type:{name:"VideoBlockSetAttributesProps"}},clientId:{defaultValue:null,description:"",name:"clientId",required:!1,type:{name:"string"}},privateEnabledForSite:{defaultValue:null,description:"",name:"privateEnabledForSite",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/index.tsx#posterimageblockcontrol"]={docgenInfo:posterimageblockcontrol.__docgenInfo,name:"posterimageblockcontrol",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/index.tsx#posterimageblockcontrol"})}catch(r){}var be=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/style.scss"),ve={};ve.insert="head",ve.singleton=!1;var Ae=me()(be.Z,ve);const Z=be.Z.locals||{},P=M.__,xe=3*1e3,Te=10*1e3,Ee=5*1e3,Oe=()=>{var r,o;return!!((o=(r=window==null?void 0:window.Jetpack_Editor_Initial_State)==null?void 0:r.available_blocks)!=null&&o["v6-video-frame-poster"])},Ce=[];if(window.videopressAjax){const r=new Blob([`var videopressAjax = ${JSON.stringify({...window.videopressAjax,context:"sandbox"})};`],{type:"text/javascript"});Ce.push(URL.createObjectURL(r),window.videopressAjax.bridgeUrl)}(Re=window==null?void 0:window.videoPressEditorState)!=null&&Re.playerBridgeUrl&&Ce.push(window.videoPressEditorState.playerBridgeUrl);function ge(r){let{clientId:o,attributes:s,setAttributes:g}=r;const l=`video-block__poster-image-description-${o}`,{poster:n}=s,i=(0,c.useCallback)(S=>{g({poster:S.url,posterData:{...s.posterData,type:"media-library",id:S.id,url:S.url}})},[s]),u=P("Select Poster Image","jetpack-videopress-pkg"),h=P("Replace Poster Image","jetpack-videopress-pkg"),_=(0,c.useRef)(null),x=Number(s==null?void 0:s.videoRatio)/100||9/16,[O,oe]=(0,c.useState)(140);return(0,c.useEffect)(()=>{if(!n||!(_!=null&&_.current))return;const{current:S}=_,m=S==null?void 0:S.offsetWidth;m&&oe(m*x)},[n,_,x]),(0,t.jsx)(C.Z,{contentClassName:"poster-panel__dropdown",placement:"top left",renderToggle:S=>{let{isOpen:m,onToggle:R}=S;return(0,t.jsx)(I.ZP,{ref:_,style:{backgroundImage:n?`url(${n})`:void 0,height:O,minHeight:O},className:`poster-panel__button ${n?"has-poster":""}`,variant:"secondary",onClick:R,"aria-expanded":m,children:(0,t.jsx)("span",{children:n?h:u})})},renderContent:S=>{let{onClose:m}=S;return(0,t.jsx)(U.Z,{className:"block-editor-media-replace-flow__media-upload-menu",children:(0,t.jsx)(w.VA,{children:(0,t.jsx)(w.R,{title:P("Select Poster Image","jetpack-videopress-pkg"),onSelect:R=>{i(R),m()},allowedTypes:W,render:R=>{let{open:F}=R;return(0,t.jsxs)(j.Z,{icon:z.Z,onClick:F,"aria-describedby":l,children:[P("Open Media Library","jetpack-videopress-pkg"),(0,t.jsx)("p",{id:l,hidden:!0,children:n?(0,M.gB)(P("The current poster image url is %s","jetpack-videopress-pkg"),n):P("There is no poster image currently selected","jetpack-videopress-pkg")})]})}})})})}})}ge.displayName="PosterDropdown";const ye=r=>{var s;const o=(s=r==null?void 0:r.current)==null?void 0:s.querySelector("iframe.components-sandbox");return o==null?void 0:o.contentWindow};function Ve(r){let{guid:o,isGeneratingPoster:s,atTime:g=.1,onVideoFrameSelect:l,duration:n}=r;const[i,u]=(0,c.useState)(g),h=(0,c.useRef)(null),_=(0,K.pg)(o,{autoplay:!0,muted:!0,controls:!1,loop:!1}),{preview:x={html:null},isRequestingEmbedPreview:O}=he(_),{html:oe}=x,{playerIsReady:S}=b(h,O,{initialTimePosition:g}),m=(0,c.useCallback)(R=>{const F=ye(h);F==null||F.postMessage({event:"videopress_action_set_currenttime",currentTime:R/1e3}),l(R)},[ye,l]);return(0,t.jsxs)("div",{className:"poster-panel__frame-picker",children:[(0,t.jsxs)("div",{ref:h,className:p()("poster-panel__frame-picker__sandbox-wrapper",{"is-player-ready":S,"is-generating-poster":s}),children:[(!S||s)&&(0,t.jsx)(G.ZP,{}),(0,t.jsx)(X.Z,{html:oe,scripts:Ce})]}),s&&(0,t.jsx)(d.Z,{status:"info",className:"poster-panel__notice",isDismissible:!1,children:P("Generating video poster image. It may take a few seconds.","jetpack-videopress-pkg")}),(0,t.jsx)(D.ZP,{label:P("Video frame","jetpack-videopress-pkg"),help:P("Select the frame you want to use as poster image","jetpack-videopress-pkg"),disabled:O||s,max:n,value:i,wait:250,fineAdjustment:1,decimalPlaces:2,onChange:u,onDebounceChange:m})]})}Ve.displayName="VideoFramePicker";function we(r){let{previewOnHover:o=!1,previewAtTime:s=0,loopDuration:g=Ee,videoDuration:l,onPreviewOnHoverChange:n,onPreviewAtTimeChange:i,onLoopDurationChange:u}=r;const h=!l,_=Math.max(l-xe,0),[x,O]=(0,c.useState)(Math.min(Te,l-s)),oe=(x/10|0)/100,S=(0,Q.Z)((0,M.gB)(P("Video duration: <em>%s</em>.","jetpack-videopress-pkg"),H(l)),{em:(0,t.jsx)("em",{})}),m=(0,Q.Z)((0,M.gB)(P("Minimum: <em>%1$ss</em>. Maximum: <em>%2$ss</em>.","jetpack-videopress-pkg"),Math.min(xe/1e3,oe),oe),{em:(0,t.jsx)("em",{})}),R=_===0,F=x<=xe,ae=(0,c.useCallback)(ie=>{i(ie);const se=Math.min(Te,l-ie);O(se),g>se&&u(se)},[i,l,g,u]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.Z,{className:"poster-panel__preview-toggle",label:P("Video preview on hover","jetpack-videopress-pkg"),checked:o,onChange:n,disabled:!o&&h}),o&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(D.ZP,{label:P("Starting point","jetpack-videopress-pkg"),max:_,fineAdjustment:50,value:s,onDebounceChange:ae,wait:300,disabled:h||R,help:S}),(0,t.jsx)(D.ZP,{max:x,min:xe,fineAdjustment:50,label:P("Loop duration","jetpack-videopress-pkg"),value:g,onDebounceChange:u,wait:300,help:m,disabled:h||F,marksEvery:1e3})]})]})}function De(r){var ie,se,fe;let{attributes:o,setAttributes:s,isGeneratingPoster:g}=r;const{poster:l,posterData:n}=o,i=o==null?void 0:o.duration,u=(n==null?void 0:n.type)==="video-frame",h=(n==null?void 0:n.previewOnHover)||!1,_=(se=(ie=n==null?void 0:n.previewAtTime)!=null?ie:n==null?void 0:n.atTime)!=null?se:0;let x=(fe=n==null?void 0:n.previewLoopDuration)!=null?fe:Ee;x>i-_&&(x=i-_);const O=()=>{s({poster:"",posterData:{...o.posterData,url:""}})},oe=(0,c.useCallback)(V=>{s({posterData:{...o.posterData,type:V?"video-frame":"media-library"},poster:V?"":o.posterData.url||""})},[o]),S=(0,c.useCallback)(V=>{let re={...o.posterData,previewOnHover:V};V&&(re={previewAtTime:_,previewLoopDuration:x,...re}),s({posterData:re,controls:V?!1:o.controls})},[o]),m=(0,c.useCallback)(V=>{s({posterData:{...o.posterData,previewAtTime:V}})},[o]),R=(0,c.useCallback)(V=>{let re=_;_+V>i&&(re=i-V),s({posterData:{...o.posterData,previewLoopDuration:V,previewAtTime:re}})},[o]),F=V=>{s({posterData:{...o.posterData,type:"video-frame",atTime:V},poster:""})};if(!Oe())return(0,t.jsxs)(k.ZP,{title:P("Poster","jetpack-videopress-pkg"),className:"poster-panel",children:[(0,t.jsx)(ge,{attributes:o,setAttributes:s}),(0,t.jsx)(te,{poster:l,className:"poster-panel-card"}),l&&(0,t.jsx)(j.Z,{onClick:O,icon:J.Z,isDestructive:!0,variant:"tertiary",children:P("Remove and use default","jetpack-videopress-pkg")})]});const ae=Oe()?P("Poster and preview","jetpack-videopress-pkg"):P("Poster","jetpack-videopress-pkg");return(0,t.jsxs)(k.ZP,{title:ae,className:"poster-panel",initialOpen:!1,children:[(0,t.jsx)(y.Z,{label:P("Pick from video frame","jetpack-videopress-pkg"),checked:u,onChange:oe}),(0,t.jsx)("div",{className:p()("poster-panel__frame-wrapper",{"is-selected":u}),children:(0,t.jsx)(Ve,{isGeneratingPoster:g,guid:o==null?void 0:o.guid,atTime:n==null?void 0:n.atTime,duration:i,onVideoFrameSelect:F})}),(0,t.jsxs)("div",{className:p()("poster-panel__image-wrapper",{"is-selected":!u}),children:[(0,t.jsx)(ge,{attributes:o,setAttributes:s}),(0,t.jsx)(te,{poster:l,className:"poster-panel-card"}),l&&(0,t.jsx)(j.Z,{onClick:O,icon:J.Z,isDestructive:!0,variant:"tertiary",children:P("Remove and use default","jetpack-videopress-pkg")})]}),(0,t.jsx)(we,{previewOnHover:h,previewAtTime:_,loopDuration:x,videoDuration:i,onPreviewOnHoverChange:S,onPreviewAtTimeChange:m,onLoopDurationChange:R})]})}De.displayName="PosterPanel";try{ge.displayName="PosterDropdown",ge.__docgenInfo={description:"Sidebar Control component.",displayName:"PosterDropdown",props:{attributes:{defaultValue:null,description:"Block Attributes object.",name:"attributes",required:!0,type:{name:"VideoBlockAttributes"}},setAttributes:{defaultValue:null,description:"",name:"setAttributes",required:!0,type:{name:"VideoBlockSetAttributesProps"}},clientId:{defaultValue:null,description:"",name:"clientId",required:!1,type:{name:"string"}},privateEnabledForSite:{defaultValue:null,description:"",name:"privateEnabledForSite",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#PosterDropdown"]={docgenInfo:ge.__docgenInfo,name:"PosterDropdown",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#PosterDropdown"})}catch(r){}try{we.displayName="VideoHoverPreviewControl",we.__docgenInfo={description:"React component to select the video preview options when the user hovers the video",displayName:"VideoHoverPreviewControl",props:{previewOnHover:{defaultValue:{value:"false"},description:"",name:"previewOnHover",required:!1,type:{name:"boolean"}},previewAtTime:{defaultValue:{value:"0"},description:"",name:"previewAtTime",required:!1,type:{name:"number"}},loopDuration:{defaultValue:{value:"5 * 1000"},description:"",name:"loopDuration",required:!1,type:{name:"number"}},videoDuration:{defaultValue:null,description:"",name:"videoDuration",required:!0,type:{name:"number"}},onPreviewOnHoverChange:{defaultValue:null,description:"",name:"onPreviewOnHoverChange",required:!0,type:{name:"(previewOnHover: boolean) => void"}},onPreviewAtTimeChange:{defaultValue:null,description:"",name:"onPreviewAtTimeChange",required:!0,type:{name:"(timestamp: number) => void"}},onLoopDurationChange:{defaultValue:null,description:"",name:"onLoopDurationChange",required:!0,type:{name:"(duration: number) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#VideoHoverPreviewControl"]={docgenInfo:we.__docgenInfo,name:"VideoHoverPreviewControl",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#VideoHoverPreviewControl"})}catch(r){}try{posterpanel.displayName="posterpanel",posterpanel.__docgenInfo={description:"Sidebar Control component.",displayName:"posterpanel",props:{attributes:{defaultValue:null,description:"Block Attributes object.",name:"attributes",required:!0,type:{name:"VideoBlockAttributes"}},setAttributes:{defaultValue:null,description:"",name:"setAttributes",required:!0,type:{name:"VideoBlockSetAttributesProps"}},clientId:{defaultValue:null,description:"",name:"clientId",required:!1,type:{name:"string"}},privateEnabledForSite:{defaultValue:null,description:"",name:"privateEnabledForSite",required:!1,type:{name:"boolean"}},isGeneratingPoster:{defaultValue:null,description:"",name:"isGeneratingPoster",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#posterpanel"]={docgenInfo:posterpanel.__docgenInfo,name:"posterpanel",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#posterpanel"})}catch(r){}try{ye.displayName="getIframeWindowFromRef",ye.__docgenInfo={description:`Return the (content) Window object of the iframe,
given the iframe's ref.`,displayName:"getIframeWindowFromRef",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#getIframeWindowFromRef"]={docgenInfo:ye.__docgenInfo,name:"getIframeWindowFromRef",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#getIframeWindowFromRef"})}catch(r){}},"../../packages/videopress/src/client/components/timestamp-control/index.tsx":(ne,L,e)=>{e.d(L,{ZP:()=>je});var w=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/base-control/index.js"),C=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/base-control/hooks.js"),I=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/number-control/index.js"),U=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/text-control/index.js"),j=e("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/range-control/index.js"),G=e("../../../node_modules/.pnpm/@wordpress+compose@6.7.0_react@18.2.0/node_modules/@wordpress/compose/build-module/hooks/use-instance-id/index.js"),X=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),d=e("../../../node_modules/.pnpm/classnames@2.3.1/node_modules/classnames/index.js"),y=e.n(d);function k(a){const f=Math.floor(a/36e5),v=Math.floor(a/6e4)%60,b=Math.floor(a/1e3)%60,T=Math.floor(a/10)%100;return[f>0?f.toString().padStart(2,"0")+":":"",f>0||v>0?v.toString().padStart(2,"0")+":":"",b.toString().padStart(2,"0"),"."+T.toString().padStart(2,"0")].join("")}var c=e("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Q=e.n(c),M=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/components/timestamp-control/style.module.scss"),z={};z.insert="head",z.singleton=!1;var J=Q()(M.Z,z);const A=M.Z.locals||{};var p=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function D(a){const{help:f,id:v,...b}=a,T=(0,G.Z)(w.ZP,"wp-components-base-control",v),W=typeof f=="string"?"aria-describedby":"aria-details";return{baseControlProps:{id:T,help:f,...b},controlProps:{id:T,...f?{[W]:`${T}__help`}:{}}}}const K=C.u||D,H=a=>{if(I.Z)return(0,p.jsx)(I.Z,{...a});const f={...a};return["spinControls","isPressEnterToChange","isDragEnabled","isShiftStepEnabled","__unstableStateReducer"].forEach(v=>delete f[v]),(0,p.jsx)(U.Z,{...f})};H.displayName="NumberControl";const $=a=>{let{char:f=":"}=a;return(0,p.jsx)("span",{className:A["timestamp-control-divider"],children:f})};$.displayName="TimeDivider";const de="CHANGE",Pe="COMMIT",le="PRESS_DOWN",Se="PRESS_UP",pe=a=>(f,v)=>{const b={...f};return(v.type===Pe||v.type===Se||v.type===le||v.type===de)&&b.value!==void 0&&(b.value=b.value.toString().padStart(a,"0")),b};function he(a,f,v){a>v&&(a=v);const b=Number.isNaN(a),T=b||typeof f=="undefined"?0:Math.floor(a%1e3/+`1e${3-f}`);return{hh:b?0:Math.floor(a/(1e3*60*60)%24),mm:b?0:Math.floor(a/(1e3*60)%60),ss:b?0:Math.floor(a/1e3%60),decimal:T}}const ce=a=>{let{onChange:f,disabled:v,value:b,max:T,autoHideTimeInput:W=!0,decimalPlaces:E}=a;const N={value:he(b,E,T)},me=T>60*60*1e3,_e=T>60*1e3,q=ee=>B=>{if(typeof B=="string"&&!isNaN(parseInt(B,10))&&(B=parseInt(B,10)),ee==="hh"&&B>99||(ee==="mm"||ee==="ss")&&B>59||ee==="decimal"&&B>+`1e${E}`-1||typeof B=="string")return;N.value={...he(b,E,T),[ee]:B};const t=N.value.decimal?N.value.decimal*+`1e${3-E}`:0;f==null||f((N.value.hh*3600+N.value.mm*60+N.value.ss)*1e3+t)};return(0,p.jsxs)("div",{className:y()(A["timestamp-input-wrapper"],{[A["is-disabled"]]:v}),children:[(me||!W)&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(H,{className:A["timestamp-control-input"],disabled:v,min:0,max:99,step:1,hideLabelFromVision:!0,spinControls:"none",placeholder:"00",isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,__unstableStateReducer:pe(2),value:String(N.value.hh).padStart(2,"0"),onChange:q("hh")}),(0,p.jsx)($,{})]}),(_e||!W)&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(H,{className:A["timestamp-control-input"],disabled:v,min:0,max:59,step:1,hideLabelFromVision:!0,spinControls:"none",placeholder:"00",isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,__unstableStateReducer:pe(2),value:String(N.value.mm).padStart(2,"0"),onChange:q("mm")}),(0,p.jsx)($,{})]}),(0,p.jsx)(H,{className:A["timestamp-control-input"],disabled:v,min:0,max:59,step:1,hideLabelFromVision:!0,spinControls:"none",placeholder:"00",isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,__unstableStateReducer:pe(2),value:String(N.value.ss).padStart(2,"0"),onChange:q("ss")}),E&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)($,{char:"."}),(0,p.jsx)(H,{className:A["timestamp-control-input"],style:{"--input-width":`${12*E}px`},disabled:v,min:0,max:Number("9".repeat(E)),step:1,hideLabelFromVision:!0,spinControls:"none",placeholder:"0".repeat(E),isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,__unstableStateReducer:pe(E),value:String(N.value.decimal).padStart(E,"0"),onChange:q("decimal")})]})]})};ce.displayName="TimestampInput";const ue=a=>{const{disabled:f=!1,min:v=0,max:b=Number.MAX_SAFE_INTEGER,value:T,onChange:W,onDebounceChange:E,wait:N=1e3,fineAdjustment:me=50,autoHideTimeInput:_e=!0,decimalPlaces:q,marksEvery:ee,renderTooltip:B}=a,t=(0,X.useRef)(),[Y,te]=(0,X.useState)(T);(0,X.useEffect)(()=>{te(T)},[T]);const{baseControlProps:ke}=(K==null?void 0:K(a))||{},be=(0,X.useCallback)(Z=>{clearTimeout(t==null?void 0:t.current),Z>b&&(Z=b),Z<v&&(Z=v),te(Z),W==null||W(Z),t.current=setTimeout(E==null?void 0:E.bind(null,Z),N)},[E,W,b,v,N]),ve=[];if(ee)for(let Z=v;Z<=b;Z+=ee)ve.push({value:Z,label:null});const Ae=typeof B=="function"?B:Z=>k(Z);return(0,p.jsx)(w.ZP,{...ke,children:(0,p.jsxs)("div",{className:A["timestamp-control__controls-wrapper"],children:[H&&(0,p.jsx)(ce,{disabled:f,max:b,value:Y,onChange:be,autoHideTimeInput:_e,decimalPlaces:q}),(0,p.jsx)(j.Z,{disabled:f,className:A["timestamp-range-control"],min:v,step:me,initialPosition:Y,value:Y,max:b,withInputField:!1,onChange:be,marks:ee?ve:void 0,renderTooltipContent:Ae,...B===!1?{showTooltip:!1}:{}})]})})};ue.displayName="TimestampControl";const je=ue;try{ce.displayName="TimestampInput",ce.__docgenInfo={description:"",displayName:"TimestampInput",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},fineAdjustment:{defaultValue:null,description:"",name:"fineAdjustment",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(ms: number) => void"}},autoHideTimeInput:{defaultValue:{value:"true"},description:"",name:"autoHideTimeInput",required:!1,type:{name:"boolean"}},decimalPlaces:{defaultValue:null,description:"",name:"decimalPlaces",required:!1,type:{name:"enum",value:[{value:"1"},{value:"2"},{value:"3"}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/components/timestamp-control/index.tsx#TimestampInput"]={docgenInfo:ce.__docgenInfo,name:"TimestampInput",path:"../../packages/videopress/src/client/components/timestamp-control/index.tsx#TimestampInput"})}catch(a){}try{ue.displayName="TimestampControl",ue.__docgenInfo={description:"TimestampControl component",displayName:"TimestampControl",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},fineAdjustment:{defaultValue:null,description:"",name:"fineAdjustment",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(ms: number) => void"}},autoHideTimeInput:{defaultValue:{value:"true"},description:"",name:"autoHideTimeInput",required:!1,type:{name:"boolean"}},decimalPlaces:{defaultValue:null,description:"",name:"decimalPlaces",required:!1,type:{name:"enum",value:[{value:"1"},{value:"2"},{value:"3"}]}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},help:{defaultValue:null,description:"",name:"help",required:!1,type:{name:"ReactNode"}},wait:{defaultValue:null,description:"",name:"wait",required:!1,type:{name:"number"}},marksEvery:{defaultValue:null,description:"",name:"marksEvery",required:!1,type:{name:"number"}},renderTooltip:{defaultValue:null,description:"",name:"renderTooltip",required:!1,type:{name:"boolean"}},onDebounceChange:{defaultValue:null,description:"",name:"onDebounceChange",required:!1,type:{name:"(ms: number) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/components/timestamp-control/index.tsx#TimestampControl"]={docgenInfo:ue.__docgenInfo,name:"TimestampControl",path:"../../packages/videopress/src/client/components/timestamp-control/index.tsx#TimestampControl"})}catch(a){}try{timestampcontrol.displayName="timestampcontrol",timestampcontrol.__docgenInfo={description:"TimestampControl component",displayName:"timestampcontrol",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},fineAdjustment:{defaultValue:null,description:"",name:"fineAdjustment",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(ms: number) => void"}},autoHideTimeInput:{defaultValue:{value:"true"},description:"",name:"autoHideTimeInput",required:!1,type:{name:"boolean"}},decimalPlaces:{defaultValue:null,description:"",name:"decimalPlaces",required:!1,type:{name:"enum",value:[{value:"1"},{value:"2"},{value:"3"}]}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},help:{defaultValue:null,description:"",name:"help",required:!1,type:{name:"ReactNode"}},wait:{defaultValue:null,description:"",name:"wait",required:!1,type:{name:"number"}},marksEvery:{defaultValue:null,description:"",name:"marksEvery",required:!1,type:{name:"number"}},renderTooltip:{defaultValue:null,description:"",name:"renderTooltip",required:!1,type:{name:"boolean"}},onDebounceChange:{defaultValue:null,description:"",name:"onDebounceChange",required:!1,type:{name:"(ms: number) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/components/timestamp-control/index.tsx#timestampcontrol"]={docgenInfo:timestampcontrol.__docgenInfo,name:"timestampcontrol",path:"../../packages/videopress/src/client/components/timestamp-control/index.tsx#timestampcontrol"})}catch(a){}},"../../packages/videopress/src/client/lib/url/index.ts":(ne,L,e)=>{e.d(L,{Iz:()=>X,pg:()=>C});var w=e("../../../node_modules/.pnpm/@wordpress+url@3.31.0/node_modules/@wordpress/url/build-module/add-query-args.js");const C=(d,y)=>{let{autoplay:k,controls:c,loop:Q,muted:M,playsinline:z,poster:J,preload:A,seekbarColor:p,seekbarPlayedColor:D,seekbarLoadingColor:K,useAverageColor:H}=y;if(!d)return null;const $={resizeToParent:!0,cover:!0,...k&&{autoPlay:!0},...!c&&{controls:!1},...Q&&{loop:!0},...M&&{muted:!0,persistVolume:!1},...z&&{playsinline:!0},...J&&{posterUrl:J},...A!==""&&{preloadContent:A},...p!==""&&{sbc:p},...D!==""&&{sbpc:D},...K!==""&&{sblc:K},...H&&{useAverageColor:!0}};return(0,w.f)(`https://videopress.com/v/${d}`,$)},I=d=>{var k;if(!d||typeof d!="string")return null;const y=d.match(/^https?:\/\/(?<host>video(?:\.word|s\.files\.word)?press\.com)(?:\/v|\/embed)?\/(?<guid>[a-zA-Z\d]{8})/);return(k=y==null?void 0:y.groups)!=null&&k.guid?y.groups.guid:null};function U(d){const y=d.match(/^[a-zA-Z\d]{8}$/);return y?y[0]:!1}function j(d,y){if(U(d))return y?{url:C(d,y),guid:d}:{url:`https://videopress.com/v/${d}`,guid:d};const c=I(d);return c?{url:d,guid:c}:{}}const G=d=>d.replace(/\.[^/.]+$/,"");function X(d,y){return y?`https://video.wordpress.com/v/${d}`:`https://videopress.com/v/${d}`}},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/style.scss":(ne,L,e)=>{e.d(L,{Z:()=>G});var w=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),C=e.n(w),I=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),U=e.n(I),j=U()(C());j.push([ne.id,".modal-open .dropdown-content{display:none}.current-media{border-top:1px solid #1e1e1e;margin-top:8px;margin-right:-8px;margin-left:-8px;padding:16px 16px 0}.poster-image-block-control__wrapper .poster-panel-control__help{margin-bottom:0}.poster-image-block-control__remove-button.poster-image-block-control__remove-button{padding-left:12px;padding-right:12px}",""]);const G=j},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/style.scss":(ne,L,e)=>{e.d(L,{Z:()=>G});var w=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),C=e.n(w),I=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),U=e.n(I),j=U()(C());j.push([ne.id,"body.modal-open .poster-panel__dropdown{display:none}.poster-panel .components-dropdown{width:100%;display:flex}.poster-panel .components-dropdown .poster-panel__button{width:100%;display:block;text-align:center;border-radius:2px;min-height:140px;max-height:512px;background-color:#fafafa;background-size:cover;background-position:center center}.poster-panel .components-dropdown .poster-panel__button.has-poster span{display:none}.poster-panel .components-dropdown .poster-panel__button:hover{background-image:none !important}.poster-panel .components-dropdown .poster-panel__button:hover span{display:inline}.poster-panel__notice{margin-left:0;margin-right:0;margin-bottom:16px}.poster-panel-control__help{font-size:12px;font-style:normal;color:#757575}.poster-panel-card{margin-top:24px;margin-right:-8px;margin-left:-8px;padding-left:16px;padding-right:16px}.poster-panel__frame-picker__sandbox-wrapper{margin-bottom:8px;position:relative;background-color:#fafafa}.poster-panel__frame-picker__sandbox-wrapper .components-spinner{margin:0;width:32px;height:32px;position:absolute;z-index:100;top:50%;left:50%;transform:translate(-50%, -50%)}.poster-panel__frame-picker__sandbox-wrapper .components-sandbox{opacity:.1;transition:opacity 300ms ease-in-out;transition-delay:50ms}.poster-panel__frame-picker__sandbox-wrapper:not(.is-player-ready){aspect-ratio:16/9}.poster-panel__frame-picker__sandbox-wrapper.is-player-ready .components-sandbox{opacity:1}.poster-panel__frame-picker__sandbox-wrapper.is-generating-poster .components-sandbox{opacity:.5}.poster-panel__image-wrapper,.poster-panel__frame-wrapper{opacity:0;display:none}.poster-panel__image-wrapper.is-selected,.poster-panel__frame-wrapper.is-selected{opacity:1;display:block}.poster-panel__preview-toggle{margin-top:24px}",""]);const G=j},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/components/timestamp-control/style.module.scss":(ne,L,e)=>{e.d(L,{Z:()=>G});var w=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),C=e.n(w),I=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),U=e.n(I),j=U()(C());j.push([ne.id,".zuO3RgAd20yV6c0cEjwU{--input-width: 24px;display:flex;align-items:center;gap:8px}.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H,.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H:last-child{margin-bottom:0;flex-grow:2}.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H .components-base-control__field,.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H:last-child .components-base-control__field{margin-bottom:0}.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H .components-range-control__wrapper,.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H:last-child .components-range-control__wrapper{margin-bottom:0}.zuO3RgAd20yV6c0cEjwU .components-range-control__marks{top:13px}.xiVP4KSb56I10368tN0v{display:flex;align-items:center;border-color:#949494;background-color:#fff;border-style:solid;justify-content:space-around;border-width:1px;padding:0px}.xiVP4KSb56I10368tN0v .J6r6Ls3WNV_CSbuzeLyr{padding:0 1px;margin-bottom:0}.xiVP4KSb56I10368tN0v .J6r6Ls3WNV_CSbuzeLyr input{max-width:var(--input-width)}.xiVP4KSb56I10368tN0v .J6r6Ls3WNV_CSbuzeLyr:last-child{margin-bottom:0}.xiVP4KSb56I10368tN0v .J6r6Ls3WNV_CSbuzeLyr .components-base-control__field{margin-bottom:0}.xiVP4KSb56I10368tN0v .J6r6Ls3WNV_CSbuzeLyr .components-base-control__field .components-text-control__input{border:none;text-align:center;padding:0}.xiVP4KSb56I10368tN0v .components-input-control:last-child{margin-bottom:0}.xiVP4KSb56I10368tN0v .components-input-control__input{padding-left:0 !important;padding-right:0 !important;text-align:center}.xiVP4KSb56I10368tN0v .components-input-control__input::-webkit-outer-spin-button,.xiVP4KSb56I10368tN0v .components-input-control__input::-webkit-inner-spin-button{-webkit-appearance:none}.xiVP4KSb56I10368tN0v .components-input-control__input[type=number]{-webkit-appearance:textfield;appearance:textfield;-moz-appearance:textfield}.xiVP4KSb56I10368tN0v .components-input-control__backdrop{border-style:none !important}.xiVP4KSb56I10368tN0v.XtdqGJfT1AOZ9KRjf1TZ{background-color:#f0f0f0}.xiVP4KSb56I10368tN0v.XtdqGJfT1AOZ9KRjf1TZ .PjODCu3uI7wWSXk4MiIH{color:#949494}.PjODCu3uI7wWSXk4MiIH{font-weight:900}",""]),j.locals={"timestamp-control__controls-wrapper":"zuO3RgAd20yV6c0cEjwU","timestamp-range-control":"m7UQ82mfQtaGf0Uxn62H","timestamp-input-wrapper":"xiVP4KSb56I10368tN0v","timestamp-control-input":"J6r6Ls3WNV_CSbuzeLyr","is-disabled":"XtdqGJfT1AOZ9KRjf1TZ","timestamp-control-divider":"PjODCu3uI7wWSXk4MiIH"};const G=j}}]);})();
