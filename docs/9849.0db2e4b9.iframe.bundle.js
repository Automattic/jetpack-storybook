"use strict";(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[9849],{"../components/components/button/index.tsx":(J,P,a)=>{a.d(P,{Z:()=>U});var p=a("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/button/index.js"),g=a("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/spinner/index.js"),_=a("../../../node_modules/.pnpm/@wordpress+icons@9.21.0/node_modules/@wordpress/icons/build-module/icon/index.js"),m=a("../../../node_modules/.pnpm/@wordpress+icons@9.21.0/node_modules/@wordpress/icons/build-module/library/external.js"),i=a("../../../node_modules/.pnpm/classnames@2.3.1/node_modules/classnames/index.js"),l=a.n(i),v=a("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),L=a("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),D=a.n(L),T=a("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../components/components/button/style.module.scss"),E={};E.insert="head",E.singleton=!1;var I=D()(T.Z,E);const h=T.Z.locals||{};var f=a("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const C=(0,v.forwardRef)((y,x)=>{var G,$;const{children:u,variant:R="primary",size:V="normal",weight:H="bold",icon:O,iconSize:k,disabled:z,isDestructive:K,isLoading:b,isExternalLink:w,className:S,text:ae,fullWidth:le,...M}=y,re=l()(h.button,S,{[h.normal]:V==="normal",[h.small]:V==="small",[h.icon]:!!O,[h.loading]:b,[h.regular]:H==="regular",[h["full-width"]]:le,[h["is-icon-button"]]:!!O&&!u});M.ref=x;const ue=V==="normal"?20:16,B=w&&(0,f.jsx)(_.Z,{size:ue,icon:m.Z,className:h["external-icon"]}),ie=w?"_blank":void 0,W=(u==null?void 0:u[0])&&u[0]!==null&&(($=(G=u==null?void 0:u[0])==null?void 0:G.props)==null?void 0:$.className)!=="components-tooltip";return(0,f.jsxs)(p.ZP,{target:ie,variant:R,className:l()(re,{"has-text":!!O&&W}),icon:w?void 0:O,iconSize:k,disabled:z,"aria-disabled":z,isDestructive:K,text:ae,...M,children:[b&&(0,f.jsx)(g.ZP,{}),(0,f.jsx)("span",{children:u}),B]})});C.displayName="Button";const U=C;try{C.displayName="Button",C.__docgenInfo={description:"Button component",displayName:"Button",props:{text:{defaultValue:null,description:`If provided, displays the given text inside the button. If the button
contains children elements, the text is displayed before them.`,name:"text",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"normal"'}]}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'},{value:'"link"'},{value:'"tertiary"'}]}},className:{defaultValue:null,description:"An optional additional class name to apply to the rendered button.",name:"className",required:!1,type:{name:"string"}},weight:{defaultValue:null,description:"",name:"weight",required:!1,type:{name:"enum",value:[{value:'"bold"'},{value:'"regular"'}]}},isDestructive:{defaultValue:null,description:`Renders a red text-based button style to indicate destructive
behavior.`,name:"isDestructive",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"Renders a disabled button.",name:"disabled",required:!1,type:{name:"boolean"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},isExternalLink:{defaultValue:null,description:"",name:"isExternalLink",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../components/components/button/index.tsx#Button"]={docgenInfo:C.__docgenInfo,name:"Button",path:"../components/components/button/index.tsx#Button"})}catch(y){}},"../connection/components/use-connection/index.jsx":(J,P,a)=>{a.d(P,{Z:()=>v});var p=a("../api/index.jsx"),g=a("../../../node_modules/.pnpm/@wordpress+data@9.0.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-dispatch/use-dispatch.js"),_=a("../../../node_modules/.pnpm/@wordpress+data@9.0.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-select/index.js"),m=a("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),i=a("../connection/state/store.jsx");const l=window!=null&&window.JP_CONNECTION_INITIAL_STATE?window.JP_CONNECTION_INITIAL_STATE:{},v=function(){let{registrationNonce:L=l.registrationNonce,apiRoot:D=l.apiRoot,apiNonce:T=l.apiNonce,redirectUri:E,autoTrigger:I,from:h,skipUserConnection:f}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{registerSite:C,connectUser:U,refreshConnectedPlugins:y}=(0,g.Z)(i.t),x=(0,_.Z)(S=>S(i.t).getRegistrationError()),{siteIsRegistering:u,userIsConnecting:R,userConnectionData:V,connectedPlugins:H,connectionErrors:O,isRegistered:k,isUserConnected:z,hasConnectedOwner:K}=(0,_.Z)(S=>({siteIsRegistering:S(i.t).getSiteIsRegistering(),userIsConnecting:S(i.t).getUserIsConnecting(),userConnectionData:S(i.t).getUserConnectionData(),connectedPlugins:S(i.t).getConnectedPlugins(),connectionErrors:S(i.t).getConnectionErrors(),...S(i.t).getConnectionStatus()})),b=()=>{if(f){if(E)return window.location=E,Promise.resolve(E)}else return U({from:h,redirectUri:E});return Promise.resolve()},w=S=>(S&&S.preventDefault(),k?b():C({registrationNonce:L,redirectUri:E}).then(()=>b()));return(0,m.useEffect)(()=>{p.ZP.setApiRoot(D),p.ZP.setApiNonce(T)},[D,T]),(0,m.useEffect)(()=>{I&&!u&&!R&&w()},[]),{handleRegisterSite:w,handleConnectUser:b,refreshConnectedPlugins:y,isRegistered:k,isUserConnected:z,siteIsRegistering:u,userIsConnecting:R,registrationError:x,userConnectionData:V,hasConnectedOwner:K,connectedPlugins:H,connectionErrors:O}}},"../connection/state/store.jsx":(J,P,a)=>{a.d(P,{t:()=>B});var p=a("../api/index.jsx");const g="SET_CONNECTION_STATUS",_="SET_CONNECTION_STATUS_IS_FETCHING",m="FETCH_CONNECTION_STATUS",i="SET_SITE_IS_REGISTERING",l="SET_USER_IS_CONNECTING",v="SET_REGISTRATION_ERROR",L="CLEAR_REGISTRATION_ERROR",D="REGISTER_SITE",T="SET_AUTHORIZATION_URL",E="CONNECT_USER",I="DISCONNECT_USER_SUCCESS",h="FETCH_AUTHORIZATION_URL",f="SET_CONNECTED_PLUGINS",C="REFRESH_CONNECTED_PLUGINS",U="SET_CONNECTION_ERRORS",y=n=>({type:g,connectionStatus:n}),x=n=>({type:_,isFetching:n}),u=()=>({type:m}),R=n=>({type:i,isRegistering:n}),V=n=>({type:l,isConnecting:n}),H=()=>({type:I}),O=n=>({type:v,registrationError:n}),k=()=>({type:L}),z=n=>({type:T,authorizationUrl:n}),K=n=>({type:h,redirectUri:n}),b=n=>({type:f,connectedPlugins:n}),w=n=>({type:U,connectionErrors:n});function S(){let{from:n,redirectFunc:r,redirectUri:d}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function*(){yield V(!0),yield{type:E,from:n,redirectFunc:r,redirectUri:d}}()}function ae(n){let{registrationNonce:r,redirectUri:d}=n;return function*(){yield k(),yield R(!0);try{const A=yield{type:D,registrationNonce:r,redirectUri:d};return yield y({isRegistered:!0}),yield z(A.authorizeUrl),yield R(!1),Promise.resolve(A)}catch(A){return yield O(A),yield R(!1),Promise.reject(A)}}()}const M={setConnectionStatus:y,setConnectionStatusIsFetching:x,fetchConnectionStatus:u,fetchAuthorizationUrl:K,setSiteIsRegistering:R,setUserIsConnecting:V,setRegistrationError:O,clearRegistrationError:k,setAuthorizationUrl:z,registerSite:ae,connectUser:S,disconnectUserSuccess:H,setConnectedPlugins:b,refreshConnectedPlugins:()=>async n=>{let{dispatch:r}=n;return await new Promise(d=>p.ZP.fetchConnectedPlugins().then(A=>{r(b(A)),d(A)}))},setConnectionErrors:w};var re=a("../../../node_modules/.pnpm/@wordpress+data@9.0.0_react@18.2.0/node_modules/@wordpress/data/build-module/factory.js");const B="jetpack-connection",ie=n=>{let{registrationNonce:r,redirectUri:d}=n;return p.ZP.registerSite(r,d)},W=(0,re.R)(n=>{let{resolveSelect:r}=n;return function(){let{from:d,redirectFunc:A,redirectUri:q}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise((pe,Pe)=>{r(B).getAuthorizationUrl(q).then(Q=>{const ve=A||(ee=>window.location.assign(ee)),ge=new URL(Q);d&&ge.searchParams.set("from",encodeURIComponent(d));const Y=ge.toString();ve(Y),pe(Y)}).catch(Q=>{Pe(Q)})})}}),$={FETCH_AUTHORIZATION_URL:n=>{let{redirectUri:r}=n;return p.ZP.fetchAuthorizationUrl(r)},REGISTER_SITE:ie,CONNECT_USER:W};var F=a("../../../node_modules/.pnpm/@wordpress+data@9.0.0_react@18.2.0/node_modules/@wordpress/data/build-module/index.js");const _e=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case g:return{...n,...r.connectionStatus};case I:return{...n,isUserConnected:!1}}return n},Z=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case f:return r.connectedPlugins}return n},Ee=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case _:return r.isFetching}return n},Ie=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case i:return r.isRegistering}return n},ye=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case l:return r.isConnecting}return n},Re=(n,r)=>{switch(r.type){case L:return!1;case v:return r.registrationError;default:return n}},Oe=(n,r)=>{switch(r.type){case T:return r.authorizationUrl;default:return n}},be=(n,r)=>{switch(r.type){default:return n}},Ne=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case U:return r.connectionErrors}return n},he=(0,F.UY)({connectionStatus:_e,connectionStatusIsFetching:Ee,siteIsRegistering:Ie,userIsConnecting:ye,registrationError:Re,authorizationUrl:Oe,userConnectionData:be,connectedPlugins:Z,connectionErrors:Ne}),de={...{getAuthorizationUrl:{isFulfilled:function(n){const r=!!n.authorizationUrl;for(var d=arguments.length,A=new Array(d>1?d-1:0),q=1;q<d;q++)A[q-1]=arguments[q];const pe=(0,F.Ys)(B).hasFinishedResolution("getAuthorizationUrl",A);return r&&!pe&&(0,F.WI)(B).finishResolution("getAuthorizationUrl",A),r},*fulfill(n){const r=yield M.fetchAuthorizationUrl(n);yield M.setAuthorizationUrl(r.authorizeUrl)}}}},Se={...{getConnectionStatus:n=>n.connectionStatus||{},getConnectionStatusIsFetching:()=>!1,getSiteIsRegistering:n=>n.siteIsRegistering||!1,getUserIsConnecting:n=>n.userIsConnecting||!1,getRegistrationError:n=>n.registrationError||!1,getAuthorizationUrl:n=>n.authorizationUrl||!1,getUserConnectionData:n=>n.userConnectionData||!1,getConnectedPlugins:n=>n.connectedPlugins||[],getConnectionErrors:n=>n.connectionErrors||[],getWpcomUser:n=>{var r,d;return(d=(r=n==null?void 0:n.userConnectionData)==null?void 0:r.currentUser)==null?void 0:d.wpcomUser},getBlogId:n=>{var r,d;return(d=(r=n==null?void 0:n.userConnectionData)==null?void 0:r.currentUser)==null?void 0:d.blogId}}};var Ae=a("../../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/defineProperty.js"),Te=a.n(Ae),ke=a("../../../node_modules/.pnpm/@wordpress+data@9.0.0_react@18.2.0/node_modules/@wordpress/data/build-module/redux-store/index.js");class X{static mayBeInit(r,d){X.store===null&&(X.store=(0,ke.Z)(r,d),(0,F.z2)(X.store))}}Te()(X,"store",null);const ce=X,fe=window.JP_CONNECTION_INITIAL_STATE;fe||console.error("Jetpack Connection package: Initial state is missing. Check documentation to see how to use the Connection composer package to set up the initial state."),ce.mayBeInit(B,{__experimentalUseThunks:!0,reducer:he,actions:M,selectors:Se,resolvers:de,controls:$,initialState:fe||{}})},"../../packages/my-jetpack/_inc/components/product-card/action-buton.jsx":(J,P,a)=>{a.d(P,{N:()=>l,Z:()=>L});var p=a("../components/components/button/index.tsx"),g=a("../../../node_modules/.pnpm/@wordpress+i18n@4.30.0/node_modules/@wordpress/i18n/build-module/index.js"),_=a("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),m=a("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const i=g.__,l={ACTIVE:"active",INACTIVE:"inactive",ERROR:"error",ABSENT:"plugin_absent",ABSENT_WITH_PLAN:"plugin_absent_with_plan",NEEDS_PURCHASE:"needs_purchase",NEEDS_PURCHASE_OR_FREE:"needs_purchase_or_free"},v=D=>{let{status:T,admin:E,name:I,onActivate:h,onManage:f,onFixConnection:C,isFetching:U,className:y,onAdd:x}=D;if(!E)return(0,m.jsx)(p.Z,{...u,size:"small",variant:"link",weight:"regular",children:(0,g.gB)(i("Learn about %s","jetpack-my-jetpack"),I)});const u={variant:U?void 0:"primary",disabled:U,className:y};switch(T){case l.ABSENT:case l.ABSENT_WITH_PLAN:return(0,m.jsxs)(p.Z,{...u,size:"small",variant:"link",weight:"regular",children:[T===l.ABSENT&&(0,g.gB)(i("Get %s","jetpack-my-jetpack"),I),T===l.ABSENT_WITH_PLAN&&(0,g.gB)(i("Install %s","jetpack-my-jetpack"),I)]});case l.NEEDS_PURCHASE:return(0,m.jsx)(p.Z,{...u,size:"small",weight:"regular",onClick:x,children:i("Purchase","jetpack-my-jetpack")});case l.NEEDS_PURCHASE_OR_FREE:return(0,m.jsx)(p.Z,{...u,size:"small",weight:"regular",onClick:x,children:i("Start for free","jetpack-my-jetpack")});case l.ACTIVE:return(0,m.jsx)(p.Z,{...u,size:"small",weight:"regular",variant:"secondary",onClick:f,children:i("Manage","jetpack-my-jetpack")});case l.ERROR:return(0,m.jsx)(p.Z,{...u,size:"small",weight:"regular",onClick:C,children:i("Fix connection","jetpack-my-jetpack")});case l.INACTIVE:return(0,m.jsx)(p.Z,{...u,size:"small",weight:"regular",variant:"secondary",onClick:h,children:i("Activate","jetpack-my-jetpack")});default:return null}};v.__docgenInfo={description:"",methods:[],displayName:"ActionButton"};const L=v},"../../packages/my-jetpack/_inc/hooks/use-my-jetpack-connection/index.js":(J,P,a)=>{a.d(P,{Z:()=>g});var p=a("../connection/components/use-connection/index.jsx");function g(){const{apiRoot:_,apiNonce:m}=myJetpackRest,{topJetpackMenuItemUrl:i}=myJetpackInitialState,l=(0,p.Z)({apiRoot:_,apiNonce:m}),v=l.isRegistered;return{apiNonce:m,apiRoot:_,...l,isSiteConnected:v,topJetpackMenuItemUrl:i}}},"../../packages/my-jetpack/_inc/state/store.js":(J,P,a)=>{a.d(P,{t:()=>Ve,N:()=>Me});var p=a("../connection/state/store.jsx"),g=a("../../../node_modules/.pnpm/@wordpress+api-fetch@6.27.0/node_modules/@wordpress/api-fetch/build-module/index.js"),_=a("../../../node_modules/.pnpm/@wordpress+i18n@4.30.0/node_modules/@wordpress/i18n/build-module/index.js");const m="my-jetpack/v1",i=`${m}/site/purchases`,l=`${m}/site/products`,v=`${m}/chat/availability`,L=["scan"],D="videopress",T="videopress/v1/stats/featured",E=_.__,I="SET_PURCHASES_IS_FETCHING",h="FETCH_PURCHASES",f="SET_PURCHASES",C="SET_AVAILABLE_LICENSES_IS_FETCHING",U="FETCH_AVAILABLE_LICENSES",y="SET_AVAILABLE_LICENSES",x="SET_IS_FETCHING_PRODUCT",u="SET_PRODUCT",R="SET_PRODUCT_REQUEST_ERROR",V="ACTIVATE_PRODUCT",H="SET_PRODUCT_STATUS",O="SET_CHAT_AVAILABILITY_IS_FETCHING",k="SET_CHAT_AVAILABILITY",z="SET_GLOBAL_NOTICE",K="CLEAN_GLOBAL_NOTICE",b="SET_PRODUCT_STATS",w="SET_IS_FETCHING_PRODUCT_STATS",S=e=>({type:I,isFetching:e}),ae=e=>({type:O,isFetching:e}),le=()=>({type:h}),M=e=>({type:f,purchases:e}),re=e=>({type:k,chatAvailability:e}),ue=e=>({type:C,isFetching:e}),B=()=>({type:U}),ie=e=>({type:y,availableLicenses:e}),W=e=>({type:u,product:e}),G=(e,t)=>({type:R,productId:e,error:t}),$=(e,t)=>({type:H,productId:e,status:t}),F=(e,t)=>({type:"SET_GLOBAL_NOTICE",message:e,options:t}),_e=()=>({type:"CLEAN_GLOBAL_NOTICE"});function Z(e,t){return{type:x,productId:e,isFetching:t}}function Ee(e,t,o){let{select:s,dispatch:c,registry:se}=o;return new Promise((ne,Ce)=>{if(!s.isValidProduct(e)){const j=E("Invalid product name","jetpack-my-jetpack"),me=new Error(j);c(G(e,me)),c(F(j,{status:"error",isDismissible:!0})),Ce(me);return}const oe=t.activate?"POST":"DELETE";return c(Z(e,!0)),(0,g.Z)({path:`${l}/${e}`,method:oe}).then(j=>{c(Z(e,!1)),c(W(j)),se.dispatch(p.t).refreshConnectedPlugins(),ne(j==null?void 0:j.status)}).catch(j=>{const{name:me}=s.getProduct(e),Xe=(0,_.gB)(E("Failed to activate %1$s. Please try again","jetpack-my-jetpack"),me);c(Z(e,!1)),c(G(e,j)),c(F(Xe,{status:"error",isDismissible:!0})),Ce(j)})})}const je={setPurchasesIsFetching:S,setChatAvailabilityIsFetching:ae,fetchPurchases:le,setPurchases:M,setChatAvailability:re,setAvailableLicensesIsFetching:ue,fetchAvailableLicenses:B,setAvailableLicenses:ie,setProductStats:(e,t)=>({type:b,productId:e,stats:t}),setIsFetchingProductStats:(e,t)=>({type:w,productId:e,isFetching:t}),...{setGlobalNotice:F,cleanGlobalNotice:_e},...{setProduct:W,activateProduct:e=>async t=>await Ee(e,{activate:!0},t),installStandalonePluginForProduct:e=>async t=>{const{select:o,dispatch:s,registry:c}=t;return await new Promise((se,ne)=>{if(!o.isValidProduct(e)){const N=E("Invalid product name","jetpack-my-jetpack"),oe=new Error(N);s(G(e,oe)),s(F(N,{status:"error",isDismissible:!0})),ne(oe);return}return s(Z(e,!0)),(0,g.Z)({path:`${l}/${e}/install-standalone`,method:"POST"}).then(N=>{s(Z(e,!1)),s(W(N)),c.dispatch(p.t).refreshConnectedPlugins(),se(N==null?void 0:N.standalone_plugin_info)}).catch(N=>{const{name:oe}=o.getProduct(e),j=(0,_.gB)(E("Failed to install standalone plugin for %1$s: %2$s. Please try again","jetpack-my-jetpack"),oe,N.message);s(Z(e,!1)),s(G(e,N)),s(F(j,{status:"error",isDismissible:!0})),ne(N)})})},setIsFetchingProduct:Z,setRequestProductError:G,setProductStatus:$}};function he(){return new Promise((e,t)=>{(0,g.Z)({path:i}).then(e).catch(t)})}const Ue={[h]:he};var de=a("../../../node_modules/.pnpm/@wordpress+data@9.0.0_react@18.2.0/node_modules/@wordpress/data/build-module/index.js");const xe=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:{const{productId:o,isFetching:s}=t;return{...e,isFetching:{...e.isFetching,[o]:s},errors:{...e.errors,[o]:s?void 0:e.errors[o]}}}case H:{const{productId:o,status:s}=t;return{...e,items:{...e.items,[o]:{...e.items[o],status:s}}}}case u:{const{product:o}=t,{slug:s}=o;return{...e,items:{...e.items,[s]:o}}}case R:{const{productId:o,error:s}=t;return{...e,errors:{...e.errors,[o]:s}}}default:return e}},we=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return{...e,isFetching:t.isFetching};case f:return{...e,items:(t==null?void 0:t.purchases)||[]};default:return e}},Le=function(){var o;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{isFetching:!1,isAvailable:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{...e,isFetching:t.isFetching};case k:return{...e,isAvailable:(o=t==null?void 0:t.chatAvailability)==null?void 0:o.is_available};default:return e}},De=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return{...e,isFetching:t.isFetching};case y:return{...e,items:(t==null?void 0:t.availableLicenses)||[]};default:return e}},Se=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{global:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:{const{message:o,options:s}=t;return{...e,global:{message:o,options:s}}}case K:return{...e,global:{}};default:return e}},Ae=function(){return arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}},Te=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:{const{productId:o,isFetching:s}=t;return{...e,isFetching:{...e.isFetching,[o]:s}}}case b:{const{productId:o,stats:s}=t;return{...e,items:{...e.items,[o]:s}}}default:return e}},X=(0,de.UY)({products:xe,purchases:we,chatAvailability:Le,availableLicenses:De,notices:Se,plugins:Ae,stats:Te});var ce=a("../api/index.jsx");const n=async()=>(0,g.Z)({path:T}),d=async e=>e===D?n():null,A=_.__,Pe={...{getProduct:{isFulfilled:(e,t)=>{var s;return(((s=e==null?void 0:e.products)==null?void 0:s.items)||{}).hasOwnProperty(t)&&!L.includes(t)},fulfill:e=>async t=>{let{dispatch:o}=t;try{o.setIsFetchingProduct(e,!0);const s=await(0,g.Z)({path:`${l}/${e}`});return o.setProduct(s),o.setIsFetchingProduct(e,!1),Promise.resolve()}catch(s){if(o.setIsFetchingProduct(e,!1),s!=null&&s.code&&(s!=null&&s.message))return o.setRequestProductError(e,s),Promise.reject(s);throw new Error(s)}}},getPurchases:()=>async e=>{let{dispatch:t}=e;t.setPurchasesIsFetching(!0);try{t.setPurchases(await(0,g.Z)({path:i})),t.setPurchasesIsFetching(!1)}catch(o){t.setPurchasesIsFetching(!1),o.code!=="not_connected"&&t.setGlobalNotice(A("There was an error fetching your purchases information. Check your site connectivity and try again.","jetpack-my-jetpack"),{status:"error"})}},getChatAvailability:()=>async e=>{let{dispatch:t}=e;t.setChatAvailabilityIsFetching(!0);try{t.setChatAvailability(await(0,g.Z)({path:v})),t.setChatAvailabilityIsFetching(!1)}catch(o){t.setChatAvailabilityIsFetching(!1)}},getAvailableLicenses:()=>async e=>{let{dispatch:t}=e;t.setAvailableLicensesIsFetching(!0);try{const{apiRoot:o,apiNonce:s}=(window==null?void 0:window.myJetpackRest)||{};ce.ZP.setApiRoot(o),ce.ZP.setApiNonce(s);const c=await ce.ZP.getUserLicenses();c&&c.items?t.setAvailableLicenses(c.items.filter(se=>{let{attached_at:ne}=se;return ne===null})):t.setAvailableLicenses([])}catch(o){t.setAvailableLicenses([])}finally{t.setAvailableLicensesIsFetching(!1)}}},getProductStats:{isFulfilled:(e,t)=>{var o,s;return((s=(o=e.stats)==null?void 0:o.items)==null?void 0:s.hasOwnProperty(t))||!1},fulfill:e=>async t=>{let{dispatch:o}=t;try{o.setIsFetchingProductStats(e,!0);const s=await d(e);return o.setProductStats(e,s),o.setIsFetchingProductStats(e,!1),Promise.resolve()}catch(s){if(o.setProductStats(e,null),o.setIsFetchingProductStats(e,!1),s!=null&&s.code&&(s!=null&&s.message))return Promise.reject(s);throw new Error(s)}}}};var Q=a("../../packages/my-jetpack/_inc/components/product-card/action-buton.jsx");function ve(e){return e.replace(/([-_][a-z])/gi,t=>t.toUpperCase().replace("_",""))}function ge(e){return e.indexOf("_")!==-1}function Y(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const o=Object.assign({},e);for(const s in o)o.hasOwnProperty(s)&&ge(s)&&(o[ve(s)]=o[s],t&&delete o[s]);return o}const ee=e=>{var t;return((t=e.products)==null?void 0:t.items)||{}},Fe=e=>Object.keys(ee(e)),ze={...{getProducts:ee,getProductNames:Fe,getProduct:(e,t)=>{var c;const o=((c=ee(e))==null?void 0:c[t])||{},s=Y(o,!0);return s.standalonePluginInfo=Y(s.standalonePluginInfo||{},!0),s.pricingForUi=Y(s.pricingForUi||{},!0),s.pricingForUi.introductoryOffer=s.pricingForUi.isIntroductoryOffer?Y(s.pricingForUi.introductoryOffer,!0):null,s.features=s.features||[],s.supportedProducts=s.supportedProducts||[],s.pricingForUi.fullPricePerMonth=Math.ceil(s.pricingForUi.fullPrice/12*100)/100,s.pricingForUi.discountPricePerMonth=Math.ceil(s.pricingForUi.discountPrice/12*100)/100,s},isValidProduct:(e,t)=>Fe(e).includes(t),isFetching:(e,t)=>{var o,s;return((s=(o=e.products)==null?void 0:o.isFetching)==null?void 0:s[t])||!1},getProductsThatRequiresUserConnection:e=>{const t=ee(e);return Object.keys(t).reduce((o,s)=>{const c=t[s];return(c==null?void 0:c.requires_user_connection)&&((c==null?void 0:c.status)===Q.N.ACTIVE||(c==null?void 0:c.status)===Q.N.ERROR)&&o.push(c==null?void 0:c.name),o},[])}},...{getPurchases:e=>{var t;return((t=e.purchases)==null?void 0:t.items)||[]},isRequestingPurchases:e=>{var t;return((t=e.purchases)==null?void 0:t.isFetching)||!1}},...{getChatAvailability:e=>e.chatAvailability.isAvailable,isRequestingChatAvailability:e=>e.chatAvailability.isFetching},...{getAvailableLicenses:e=>{var t;return((t=e.availableLicenses)==null?void 0:t.items)||[]},isFetchingAvailableLicenses:e=>{var t;return((t=e.availableLicenses)==null?void 0:t.isFetching)||!1}},...{getGlobalNotice:e=>{var t;return(t=e.notices)==null?void 0:t.global}},...{hasStandalonePluginInstalled:e=>Object.values(e.plugins).filter(t=>["jetpack-backup","jetpack-boost","jetpack-protect","jetpack-search","jetpack-social","jetpack-videopress"].indexOf(t.TextDomain)>=0).length>0},...{getProductStats:(e,t)=>{var o,s;return(s=(o=e.stats)==null?void 0:o.items)==null?void 0:s[t]},isFetchingProductStats:(e,t)=>{var o,s;return((s=(o=e.stats)==null?void 0:o.isFetching)==null?void 0:s[t])||!1}}};var Be=a("../../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/defineProperty.js"),Ge=a.n(Be),Ze=a("../../../node_modules/.pnpm/@wordpress+data@9.0.0_react@18.2.0/node_modules/@wordpress/data/build-module/redux-store/index.js");class te{static mayBeInit(t,o){te.store===null&&(te.store=(0,Ze.Z)(t,o),(0,de.z2)(te.store))}}Ge()(te,"store",null);const He=te,Ve="my-jetpack";function Me(){He.mayBeInit(Ve,{__experimentalUseThunks:!0,reducer:X,actions:je,selectors:ze,resolvers:Pe,controls:Ue,initialState:window.myJetpackInitialState||{}})}},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../components/components/button/style.module.scss":(J,P,a)=>{a.d(P,{Z:()=>l});var p=a("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),g=a.n(p),_=a("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),m=a.n(_),i=m()(g());i.push([J.id,".zOVExsGAtu3qEPXi90gA{--wp-admin-theme-color: var(--jp-black);--wp-admin-theme-color-darker-10: var(--jp-black-80);--wp-admin-theme-color-darker-20: var(--jp-black-80);--wp-admin-border-width-focus: 1.51px;border-radius:var(--jp-border-radius);justify-content:center;font-weight:600}.zOVExsGAtu3qEPXi90gA.LeZ9swgay3_IutOEDvA6{padding:var(--spacing-base);width:calc(var(--spacing-base)*5);height:calc(var(--spacing-base)*5)}.zOVExsGAtu3qEPXi90gA.LeZ9swgay3_IutOEDvA6>svg:first-child{margin:0;padding:0}.zOVExsGAtu3qEPXi90gA.LeZ9swgay3_IutOEDvA6.hLhkVRHwk8NBz5iEbJRi{padding:calc(var(--spacing-base)/2);width:calc(var(--spacing-base)*4);min-width:calc(var(--spacing-base)*4);height:calc(var(--spacing-base)*4)}.zOVExsGAtu3qEPXi90gA.EDZJbVaYCITE2Rfk7M9w:not(.LeZ9swgay3_IutOEDvA6){height:auto;font-size:var(--font-body);line-height:24px;padding:var(--spacing-base) calc(var(--spacing-base)*3)}.zOVExsGAtu3qEPXi90gA.EDZJbVaYCITE2Rfk7M9w:not(.LeZ9swgay3_IutOEDvA6).nJ9PKanHLfnJSPjoI1Cw{padding:var(--spacing-base) calc(var(--spacing-base)*2)}.zOVExsGAtu3qEPXi90gA.hLhkVRHwk8NBz5iEbJRi:not(.LeZ9swgay3_IutOEDvA6){height:auto;font-size:var(--font-body-extra-small);line-height:20px;padding:calc(var(--spacing-base)/2) var(--spacing-base)}.zOVExsGAtu3qEPXi90gA.hLhkVRHwk8NBz5iEbJRi:not(.LeZ9swgay3_IutOEDvA6).nJ9PKanHLfnJSPjoI1Cw>svg:first-child{margin-right:calc(var(--spacing-base)/2)}.zOVExsGAtu3qEPXi90gA.hLhkVRHwk8NBz5iEbJRi:not(.LeZ9swgay3_IutOEDvA6)>.components-spinner{height:20px}.zOVExsGAtu3qEPXi90gA.D63ZAJR5_hiWANBMf4PK{font-weight:400}.zOVExsGAtu3qEPXi90gA.SKM87VLtnU7TyMLgZN7h{min-width:100%}.zOVExsGAtu3qEPXi90gA.is-primary:disabled,.zOVExsGAtu3qEPXi90gA.is-secondary:disabled{background:var(--jp-gray);color:var(--jp-gray-20)}.zOVExsGAtu3qEPXi90gA.is-secondary{background:var(--jp-white);box-shadow:inset 0 0 0 1.51px var(--jp-black)}.zOVExsGAtu3qEPXi90gA.is-secondary:active:not(:disabled),.zOVExsGAtu3qEPXi90gA.is-secondary:hover:not(:disabled){background:var(--jp-gray-0)}.zOVExsGAtu3qEPXi90gA.is-link.EDZJbVaYCITE2Rfk7M9w,.zOVExsGAtu3qEPXi90gA.is-link.hLhkVRHwk8NBz5iEbJRi{padding:0}.zOVExsGAtu3qEPXi90gA.is-link:hover:not(:disabled){text-decoration-thickness:3px}.zOVExsGAtu3qEPXi90gA.is-link:focus:not(:disabled){text-decoration-line:none}.zOVExsGAtu3qEPXi90gA.is-destructive.is-primary{box-shadow:none}.zOVExsGAtu3qEPXi90gA.is-destructive.is-primary:not(:disabled){color:var(--jp-white);background:var(--jp-red-50);box-shadow:inset 0 0 0 1px var(--jp-red-50)}.zOVExsGAtu3qEPXi90gA.is-destructive.is-primary:hover:not(:disabled){background:var(--jp-red-60);box-shadow:inset 0 0 0 1px var(--jp-red-60)}.zOVExsGAtu3qEPXi90gA.is-destructive.is-primary:focus:not(:disabled){box-shadow:inset 0 0 0 1px var(--jp-white),0 0 0 var(--wp-admin-border-width-focus) var(--jp-red-70);background:var(--jp-red-70);color:var(--jp-white)}.zOVExsGAtu3qEPXi90gA.is-destructive.is-primary:active:not(:disabled){background:var(--jp-red-50)}.zOVExsGAtu3qEPXi90gA.is-destructive.is-secondary{box-shadow:none}.zOVExsGAtu3qEPXi90gA.is-destructive.is-secondary:not(:disabled){color:var(--jp-red-50);background:var(--jp-white);box-shadow:inset 0 0 0 1.5px var(--jp-red-50)}.zOVExsGAtu3qEPXi90gA.is-destructive.is-secondary:hover:not(:disabled){background:var(--jp-red-0);box-shadow:inset 0 0 0 1.5px var(--jp-red-60);color:var(--jp-red-60)}.zOVExsGAtu3qEPXi90gA.is-destructive.is-secondary:focus:not(:disabled){box-shadow:inset 0 0 0 1px var(--jp-white),0 0 0 var(--wp-admin-border-width-focus) var(--jp-red-70);color:var(--jp-red-70)}.zOVExsGAtu3qEPXi90gA.is-destructive.is-secondary:active:not(:disabled){background:var(--jp-gray-0)}.zOVExsGAtu3qEPXi90gA.is-destructive.is-link:not(:disabled){color:var(--jp-red-50)}.zOVExsGAtu3qEPXi90gA.is-destructive.is-link:hover:not(:disabled){color:var(--jp-red-60);box-shadow:none}.zOVExsGAtu3qEPXi90gA.is-destructive.is-link:focus:not(:disabled){color:var(--jp-red-70);box-shadow:inset 0 0 0 1px var(--jp-white),0 0 0 var(--wp-admin-border-width-focus) var(--jp-red-70)}.zOVExsGAtu3qEPXi90gA.ZgSKxNOwc80Jci9sUsBC{position:relative}.zOVExsGAtu3qEPXi90gA.ZgSKxNOwc80Jci9sUsBC.has-icon{justify-content:center}.zOVExsGAtu3qEPXi90gA.ZgSKxNOwc80Jci9sUsBC>*:not(.components-spinner){visibility:hidden}.zOVExsGAtu3qEPXi90gA.ZgSKxNOwc80Jci9sUsBC>.components-spinner{margin:0;position:absolute}.UIufD8FSQ4jmuUyoT8C2{margin-left:calc(var(--spacing-base)/2)}",""]),i.locals={button:"zOVExsGAtu3qEPXi90gA","is-icon-button":"LeZ9swgay3_IutOEDvA6",small:"hLhkVRHwk8NBz5iEbJRi",normal:"EDZJbVaYCITE2Rfk7M9w",icon:"nJ9PKanHLfnJSPjoI1Cw",regular:"D63ZAJR5_hiWANBMf4PK","full-width":"SKM87VLtnU7TyMLgZN7h",loading:"ZgSKxNOwc80Jci9sUsBC","external-icon":"UIufD8FSQ4jmuUyoT8C2"};const l=i}}]);})();
