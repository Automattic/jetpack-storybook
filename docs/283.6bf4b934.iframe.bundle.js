"use strict";(()=>{var _s=Object.defineProperty;var us=(y,m,c)=>m in y?_s(y,m,{enumerable:!0,configurable:!0,writable:!0,value:c}):y[m]=c;var De=(y,m,c)=>(us(y,typeof m!="symbol"?m+"":m,c),c);(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[283],{"../connection/state/store.jsx":(y,m,c)=>{c.d(m,{t:()=>j});var I=c("../api/index.jsx");const u="SET_CONNECTION_STATUS",p="SET_CONNECTION_STATUS_IS_FETCHING",h="FETCH_CONNECTION_STATUS",g="SET_SITE_IS_REGISTERING",U="SET_USER_IS_CONNECTING",D="SET_REGISTRATION_ERROR",k="CLEAR_REGISTRATION_ERROR",N="REGISTER_SITE",v="SET_AUTHORIZATION_URL",d="CONNECT_USER",S="DISCONNECT_USER_SUCCESS",P="FETCH_AUTHORIZATION_URL",i="SET_CONNECTED_PLUGINS",oe="REFRESH_CONNECTED_PLUGINS",re="SET_CONNECTION_ERRORS",x="SET_IS_OFFLINE_MODE",z=n=>({type:u,connectionStatus:n}),ce=n=>({type:p,isFetching:n}),b=()=>({type:h}),M=n=>({type:g,isRegistering:n}),A=n=>({type:U,isConnecting:n}),l=()=>({type:S}),W=n=>({type:D,registrationError:n}),H=()=>({type:k}),X=n=>({type:v,authorizationUrl:n}),ae=n=>({type:P,redirectUri:n}),J=n=>({type:i,connectedPlugins:n}),Y=n=>({type:re,connectionErrors:n}),L=n=>({type:x,isOfflineMode:n});function*ie({from:n,redirectFunc:r,redirectUri:_}={}){yield A(!0),yield{type:d,from:n,redirectFunc:r,redirectUri:_}}function*le({registrationNonce:n,redirectUri:r}){yield H(),yield M(!0);try{const _=yield{type:N,registrationNonce:n,redirectUri:r};return yield z({isRegistered:!0}),yield X(_.authorizeUrl),yield M(!1),Promise.resolve(_)}catch(_){return yield W(_),yield M(!1),Promise.reject(_)}}const F={setConnectionStatus:z,setConnectionStatusIsFetching:ce,fetchConnectionStatus:b,fetchAuthorizationUrl:ae,setSiteIsRegistering:M,setUserIsConnecting:A,setRegistrationError:W,clearRegistrationError:H,setAuthorizationUrl:X,registerSite:le,connectUser:ie,disconnectUserSuccess:l,setConnectedPlugins:J,refreshConnectedPlugins:()=>async({dispatch:n})=>await new Promise(r=>I.ZP.fetchConnectedPlugins().then(_=>{n(J(_)),r(_)})),setConnectionErrors:Y,setIsOfflineMode:L};var ue=c("../../../node_modules/.pnpm/@wordpress+data@9.22.0_react@18.2.0/node_modules/@wordpress/data/build-module/factory.js");const j="jetpack-connection",me=({registrationNonce:n,redirectUri:r})=>I.ZP.registerSite(n,r),Q=(0,ue.R)(({resolveSelect:n})=>({from:r,redirectFunc:_,redirectUri:Te}={})=>new Promise((Be,be)=>{n(j).getAuthorizationUrl(Te).then(te=>{const Ce=_||(xe=>window.location.assign(xe)),Oe=new URL(te);r&&Oe.searchParams.set("from",encodeURIComponent(r));const Pe=Oe.toString();Ce(Pe),Be(Pe)}).catch(te=>{be(te)})})),G={FETCH_AUTHORIZATION_URL:({redirectUri:n})=>I.ZP.fetchAuthorizationUrl(n),REGISTER_SITE:me,CONNECT_USER:Q};var K=c("../../../node_modules/.pnpm/@wordpress+data@9.22.0_react@18.2.0/node_modules/@wordpress/data/build-module/index.js");const B=(n={},r)=>{switch(r.type){case u:return{...n,...r.connectionStatus};case S:return{...n,isUserConnected:!1}}return n},T=(n={},r)=>{switch(r.type){case i:return r.connectedPlugins}return n},w=(n=!1,r)=>{switch(r.type){case p:return r.isFetching}return n},q=(n=!1,r)=>{switch(r.type){case g:return r.isRegistering}return n},de=(n=!1,r)=>{switch(r.type){case U:return r.isConnecting}return n},ge=(n,r)=>{switch(r.type){case k:return!1;case D:return r.registrationError;default:return n}},C=(n,r)=>{switch(r.type){case v:return r.authorizationUrl;default:return n}},ee=(n,r)=>{switch(r.type){default:return n}},R=(n={},r)=>{switch(r.type){case re:return r.connectionErrors}return n},pe=(n=!1,r)=>{switch(r.type){case x:return r.isConnecting}return n},Fe=(0,K.UY)({connectionStatus:B,connectionStatusIsFetching:w,siteIsRegistering:q,userIsConnecting:de,registrationError:ge,authorizationUrl:C,userConnectionData:ee,connectedPlugins:T,connectionErrors:R,isOfflineMode:pe});var je=c("../../../node_modules/.pnpm/@wordpress+data@9.22.0_react@18.2.0/node_modules/@wordpress/data/build-module/select.js"),ke=c("../../../node_modules/.pnpm/@wordpress+data@9.22.0_react@18.2.0/node_modules/@wordpress/data/build-module/dispatch.js");const ve={...{getAuthorizationUrl:{isFulfilled:(n,...r)=>{const _=!!n.authorizationUrl,Te=(0,je.Y)(j).hasFinishedResolution("getAuthorizationUrl",r);return _&&!Te&&(0,ke.W)(j).finishResolution("getAuthorizationUrl",r),_},*fulfill(n){const r=yield F.fetchAuthorizationUrl(n);yield F.setAuthorizationUrl(r.authorizeUrl)}}}},Ue={...{getConnectionStatus:n=>n.connectionStatus||{},getConnectionStatusIsFetching:()=>!1,getSiteIsRegistering:n=>n.siteIsRegistering||!1,getUserIsConnecting:n=>n.userIsConnecting||!1,getRegistrationError:n=>n.registrationError||!1,getAuthorizationUrl:n=>n.authorizationUrl||!1,getUserConnectionData:n=>n.userConnectionData||!1,getConnectedPlugins:n=>n.connectedPlugins||[],getConnectionErrors:n=>n.connectionErrors||[],getIsOfflineMode:n=>n.isOfflineMode||!1,getWpcomUser:n=>{var r,_;return(_=(r=n==null?void 0:n.userConnectionData)==null?void 0:r.currentUser)==null?void 0:_.wpcomUser},getBlogId:n=>{var r,_;return(_=(r=n==null?void 0:n.userConnectionData)==null?void 0:r.currentUser)==null?void 0:_.blogId}}};var Ae=c("../../../node_modules/.pnpm/@wordpress+data@9.22.0_react@18.2.0/node_modules/@wordpress/data/build-module/redux-store/index.js");const se=class{static mayBeInit(r,_){se.store===null&&(se.store=(0,Ae.Z)(r,_),(0,K.z2)(se.store))}};let Ee=se;De(Ee,"store",null);const we=Ee,he=window.JP_CONNECTION_INITIAL_STATE;he||console.error("Jetpack Connection package: Initial state is missing. Check documentation to see how to use the Connection composer package to set up the initial state."),we.mayBeInit(j,{__experimentalUseThunks:!0,reducer:Fe,actions:F,selectors:Ue,resolvers:ve,controls:G,initialState:he||{}})},"../../packages/my-jetpack/_inc/components/product-card/action-button.jsx":(y,m,c)=>{c.d(m,{N:()=>i,Z:()=>re});var I=c("../components/components/button/index.tsx"),u=c("../../../node_modules/.pnpm/@wordpress+i18n@4.52.0/node_modules/@wordpress/i18n/build-module/index.js"),p=c("../../../node_modules/.pnpm/@wordpress+icons@9.43.0_react@18.2.0/node_modules/@wordpress/icons/build-module/icon/index.js"),h=c("../../../node_modules/.pnpm/@wordpress+icons@9.43.0_react@18.2.0/node_modules/@wordpress/icons/build-module/library/external.js"),g=c("../../../node_modules/.pnpm/@wordpress+icons@9.43.0_react@18.2.0/node_modules/@wordpress/icons/build-module/library/check.js"),U=c("../../../node_modules/.pnpm/@wordpress+icons@9.43.0_react@18.2.0/node_modules/@wordpress/icons/build-module/library/chevron-down.js"),D=c("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),k=c.n(D),N=c("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),v=c("../../packages/my-jetpack/_inc/hooks/use-product/index.js"),d=c("../../packages/my-jetpack/_inc/components/product-card/style.module.scss"),S=c("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const P=u.__,i={ACTIVE:"active",INACTIVE:"inactive",MODULE_DISABLED:"module_disabled",ERROR:"error",ABSENT:"plugin_absent",ABSENT_WITH_PLAN:"plugin_absent_with_plan",NEEDS_PURCHASE:"needs_purchase",NEEDS_PURCHASE_OR_FREE:"needs_purchase_or_free",CAN_UPGRADE:"can_upgrade"},oe=({status:x,admin:z,name:ce,slug:b,onActivate:M,additionalActions:A,primaryActionOverride:l,onManage:W,onFixConnection:H,isFetching:X,isInstallingStandalone:ae,isDeactivatingStandalone:J,className:Y,onAdd:L,onInstall:ie,onLearnMore:le,upgradeInInterstitial:_e})=>{const[F,ue]=(0,N.useState)(!1),[Z,j]=(0,N.useState)({}),{detail:me}=(0,v.i)(b),{manageUrl:Q,purchaseUrl:$}=me,G=!Q,K=X||ae||J,B=(A==null?void 0:A.length)>0,T=(0,N.useMemo)(()=>({variant:K?void 0:"primary",disabled:K,className:Y}),[K,Y]),w=(0,N.useCallback)(()=>{switch(x){case i.ABSENT:{const C=P("Learn more","jetpack-my-jetpack");return{...T,href:`#/add-${b}`,size:"small",variant:"primary",weight:"regular",label:C,onClick:le,...l&&i.ABSENT in l&&l[i.ABSENT]}}case i.ABSENT_WITH_PLAN:{const C=P("Install Plugin","jetpack-my-jetpack");return{...T,href:"",size:"small",variant:"primary",weight:"regular",label:C,onClick:ie,...l&&i.ABSENT_WITH_PLAN in l&&l[i.ABSENT_WITH_PLAN]}}case i.NEEDS_PURCHASE:return{...T,href:$||`#/add-${b}`,size:"small",variant:"primary",weight:"regular",label:P("Learn more","jetpack-my-jetpack"),onClick:L,...l&&i.NEEDS_PURCHASE in l&&l[i.NEEDS_PURCHASE]};case i.CAN_UPGRADE:{const C=P("Upgrade","jetpack-my-jetpack"),ee=P("Learn more","jetpack-my-jetpack"),R=$||_e?C:ee;return{...T,href:$||`#/add-${b}`,size:"small",variant:"primary",weight:"regular",label:R,onClick:L,...l&&i.CAN_UPGRADE in l&&l[i.CAN_UPGRADE]}}case i.NEEDS_PURCHASE_OR_FREE:return{...T,href:`#/add-${b}`,size:"small",variant:"primary",weight:"regular",label:P("Learn more","jetpack-my-jetpack"),onClick:L,...l&&i.NEEDS_PURCHASE_OR_FREE in l&&l[i.NEEDS_PURCHASE_OR_FREE]};case i.ACTIVE:{const C=P("View","jetpack-my-jetpack");return{...T,disabled:G||(T==null?void 0:T.disabled),href:Q,size:"small",variant:"secondary",weight:"regular",label:C,onClick:W,...l&&i.ACTIVE in l&&l[i.ACTIVE]}}case i.ERROR:return{...T,href:"#/connection",size:"small",variant:"primary",weight:"regular",label:P("Fix connection","jetpack-my-jetpack"),onClick:H,...l&&i.ERROR in l&&l[i.ERROR]};case i.INACTIVE:case i.MODULE_DISABLED:return{...T,href:"",size:"small",variant:"secondary",weight:"regular",label:P("Activate","jetpack-my-jetpack"),onClick:M,...l&&i.INACTIVE in l&&l[i.INACTIVE]};default:return null}},[x,T,b,L,H,M,ie,le,$,_e,G,Q,W,l]),q=(0,N.useMemo)(()=>B?[...A,w()]:[w()],[A,w,B]),de=(0,N.useCallback)(()=>{ue(!F)},[F]);if((0,N.useEffect)(()=>{j(q[0])},[q]),!z)return(0,S.jsx)(I.Z,{...T,size:"small",variant:"link",weight:"regular",children:(0,u.gB)(P("Learn about %s","jetpack-my-jetpack"),ce)});const ge=B&&(0,S.jsx)("div",{className:d.Z["action-button-dropdown"],children:(0,S.jsx)("ul",{className:d.Z["dropdown-menu"],children:[...A,w()].map(({label:C,isExternalLink:ee},R)=>{const pe=()=>{j(q[R]),ue(!1)};return(0,S.jsx)("li",{children:(0,S.jsxs)("button",{onClick:pe,className:d.Z["dropdown-item"],children:[(0,S.jsxs)("div",{className:d.Z["dropdown-item-label"],children:[C,ee&&(0,S.jsx)(p.Z,{icon:h.Z,size:16})]}),C===Z.label&&(0,S.jsx)("div",{className:d.Z["active-action-checkmark"],children:(0,S.jsx)(p.Z,{icon:g.Z,size:24,fill:"white"})})]})},R)})})});return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)("div",{className:k()(d.Z["action-button"],B?d.Z["has-additional-actions"]:null),children:[(0,S.jsx)(I.Z,{...T,...Z,children:Z.label}),B&&(0,S.jsx)("button",{className:k()(d.Z["dropdown-chevron"],Z.variant==="primary"?d.Z.primary:d.Z.secondary),onClick:de,children:(0,S.jsx)(p.Z,{icon:U.Z,size:24,fill:Z.variant==="primary"?"white":"black"})}),F&&ge]})})},re=oe;oe.__docgenInfo={description:"",methods:[],displayName:"ActionButton"}},"../../packages/my-jetpack/_inc/hooks/use-product/index.js":(y,m,c)=>{c.d(m,{i:()=>h});var I=c("../../../node_modules/.pnpm/@wordpress+data@9.22.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-dispatch/use-dispatch.js"),u=c("../../../node_modules/.pnpm/@wordpress+data@9.22.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-select/index.js"),p=c("../../packages/my-jetpack/_inc/state/store.js");function h(g){const{activateProduct:U,deactivateProduct:D,installStandalonePluginForProduct:k,deactivateStandalonePluginForProduct:N}=(0,I.Z)(p.t),v=(0,u.Z)(d=>d(p.t).getProduct(g));return{activate:()=>U(g),deactivate:()=>D(g),deactivateStandalonePlugin:()=>N(g),installStandalonePlugin:()=>k(g),productsList:(0,u.Z)(d=>d(p.t).getProducts()),detail:v,isActive:v.status==="active",isFetching:(0,u.Z)(d=>d(p.t).isFetching(g)),stats:(0,u.Z)(d=>d(p.t).getProductStats(g))}}},"../../packages/my-jetpack/_inc/state/store.js":(y,m,c)=>{c.d(m,{t:()=>We,N:()=>is});var I=c("../connection/state/store.jsx"),u=c("../../../node_modules/.pnpm/@wordpress+api-fetch@6.49.0/node_modules/@wordpress/api-fetch/build-module/index.js"),p=c("../../../node_modules/.pnpm/@wordpress+i18n@4.52.0/node_modules/@wordpress/i18n/build-module/index.js");const h="my-jetpack/v1",g="jetpack/v4/stats-app",U=`${h}/site/dismiss-welcome-banner`,D=`${h}/site/products`,k=`${h}/site/backup/undo-event`,N=`${h}/site/backup/count-items`,v=["scan"],d="videopress",S="videopress/v1/stats/featured",P=e=>`${g}/sites/${e}/stats/highlights`,i=p.__,oe="SET_AVAILABLE_LICENSES_IS_FETCHING",re="FETCH_AVAILABLE_LICENSES",x="SET_AVAILABLE_LICENSES",z="SET_IS_FETCHING_PRODUCT",ce="SET_PRODUCT",b="SET_PRODUCT_REQUEST_ERROR",M="ACTIVATE_PRODUCT",A="SET_PRODUCT_STATUS",l="SET_STATS_COUNTS_IS_FETCHING",W="SET_STATS_COUNTS",H="SET_DISMISSED_WELCOME_BANNER_IS_FETCHING",X="SET_DISMISSED_WELCOME_BANNER",ae="SET_BACKUP_REWINDABLE_EVENTS_IS_FETCHING",J="SET_BACKUP_REWINDABLE_EVENTS",Y="SET_COUNT_BACKUP_ITEMS",L="SET_COUNT_BACKUP_ITEMS_IS_FETCHING",ie="SET_GLOBAL_NOTICE",le="CLEAN_GLOBAL_NOTICE",_e="SET_PRODUCT_STATS",F="SET_IS_FETCHING_PRODUCT_STATS",ue=e=>({type:ae,isFetching:e}),Z=e=>({type:L,isFetching:e}),j=e=>({type:l,isFetching:e}),me=e=>({type:oe,isFetching:e}),Q=()=>({type:re}),$=e=>({type:x,availableLicenses:e}),G=e=>({type:ce,product:e}),K=e=>({type:J,rewindableEvents:e}),B=e=>({type:Y,backupItems:e}),T=e=>({type:W,statsCounts:e}),w=(e,s)=>({type:b,productId:e,error:s}),q=(e,s)=>({type:A,productId:e,status:s}),de=e=>({type:H,isFetching:e}),ge=e=>({type:X,hasBeenDismissed:e}),C=(e,s)=>({type:"SET_GLOBAL_NOTICE",message:e,options:s}),ee=()=>({type:"CLEAN_GLOBAL_NOTICE"});function R(e,s){return{type:z,productId:e,isFetching:s}}function pe(e,s,{select:o,dispatch:t,registry:a}){return new Promise((O,V)=>{if(!o.isValidProduct(e)){const f=i("Invalid product name","jetpack-my-jetpack"),Se=new Error(f);t(w(e,Se)),t(C(f,{status:"error",isDismissible:!0})),V(Se);return}const E=s.activate?"POST":"DELETE";return t(R(e,!0)),(0,u.Z)({path:`${D}/${e}`,method:E}).then(f=>{t(R(e,!1)),t(G(f)),a.dispatch(I.t).refreshConnectedPlugins(),O(f)}).catch(f=>{const{name:Se}=o.getProduct(e),ls=(0,p.gB)(i("Failed to activate %1$s. Please try again","jetpack-my-jetpack"),Se);t(R(e,!1)),t(w(e,f)),t(C(ls,{status:"error",isDismissible:!0})),V(f)})})}const Le={setAvailableLicensesIsFetching:me,fetchAvailableLicenses:Q,setAvailableLicenses:$,setProductStats:(e,s)=>({type:_e,productId:e,stats:s}),setIsFetchingProductStats:(e,s)=>({type:F,productId:e,isFetching:s}),setBackupRewindableEvents:K,setBackupRewindableEventsIsFetching:ue,setCountBackupItems:B,setCountBackupItemsIsFetching:Z,setStatsCounts:T,setStatsCountsIsFetching:j,dismissWelcomeBanner:()=>async e=>{const{dispatch:s}=e;return s(de(!0)),(0,u.Z)({path:U,method:"POST"}).then(()=>{s(ge(!0))}).finally(()=>{s(de(!1))})},...{setGlobalNotice:C,cleanGlobalNotice:ee},...{setProduct:G,activateProduct:e=>async s=>await pe(e,{activate:!0},s),deactivateStandalonePluginForProduct:e=>async s=>await pe(e,{activate:!1},s),installStandalonePluginForProduct:e=>async s=>{const{select:o,dispatch:t,registry:a}=s;return await new Promise((O,V)=>{if(!o.isValidProduct(e)){const E=i("Invalid product name","jetpack-my-jetpack"),f=new Error(E);t(w(e,f)),t(C(E,{status:"error",isDismissible:!0})),V(f);return}return t(R(e,!0)),(0,u.Z)({path:`${D}/${e}/install-standalone`,method:"POST"}).then(E=>{t(R(e,!1)),t(G(E)),a.dispatch(I.t).refreshConnectedPlugins(),O(E==null?void 0:E.standalone_plugin_info)}).catch(E=>{const{name:f}=o.getProduct(e),Se=(0,p.gB)(i("Failed to install standalone plugin for %1$s: %2$s. Please try again","jetpack-my-jetpack"),f,E.message);t(R(e,!1)),t(w(e,E)),t(C(Se,{status:"error",isDismissible:!0})),V(E)})})},setIsFetchingProduct:R,setRequestProductError:w,setProductStatus:q}};var ye=c("../../../node_modules/.pnpm/@wordpress+data@9.22.0_react@18.2.0/node_modules/@wordpress/data/build-module/index.js");const Ue=(e={},s)=>{switch(s.type){case z:{const{productId:o,isFetching:t}=s;return{...e,isFetching:{...e.isFetching,[o]:t},errors:{...e.errors,[o]:t?void 0:e.errors[o]}}}case A:{const{productId:o,status:t}=s;return{...e,items:{...e.items,[o]:{...e.items[o],status:t}}}}case ce:{const{product:o}=s,{slug:t}=o;return{...e,items:{...e.items,[t]:o}}}case b:{const{productId:o,error:t}=s;return{...e,errors:{...e.errors,[o]:t}}}default:return e}},Ae=(e={},s)=>{switch(s.type){case ae:return{...e,isFetching:s.isFetching};case J:return{...e,items:(s==null?void 0:s.rewindableEvents)||{}};default:return e}},Ee=(e={},s)=>{switch(s.type){case L:return{...e,isFetching:s.isFetching};case Y:return{...e,items:(s==null?void 0:s.backupItems)||{}};default:return e}},we=(e={},s)=>{switch(s.type){case oe:return{...e,isFetching:s.isFetching};case x:return{...e,items:(s==null?void 0:s.availableLicenses)||[]};default:return e}},he=(e={global:{}},s)=>{switch(s.type){case ie:{const{message:o,options:t}=s;return{...e,global:{message:o,options:t}}}case le:return{...e,global:{}};default:return e}},se=(e={})=>e,n=(e={},s)=>{switch(s.type){case F:{const{productId:o,isFetching:t}=s;return{...e,isFetching:{...e.isFetching,[o]:t}}}case _e:{const{productId:o,stats:t}=s;return{...e,items:{...e.items,[o]:t}}}default:return e}},r=(e={},s)=>{switch(s.type){case l:return{...e,isFetching:s.isFetching};case W:return{...e,data:(s==null?void 0:s.statsCounts)||{}};default:return e}},_=(e={},s)=>{switch(s.type){case H:return{...e,isFetching:s.isFetching};case X:return{...e,hasBeenDismissed:s.hasBeenDismissed};default:return e}},Te=(e={},s)=>{switch(s.type){default:return e}},be=(0,ye.UY)({products:Ue,backupRewindableEvents:Ae,countBackupItems:Ee,availableLicenses:we,notices:he,plugins:se,stats:n,statsCounts:r,welcomeBanner:_,lifecycleStats:Te});var te=c("../api/index.jsx"),Ce=c("../../packages/my-jetpack/_inc/components/product-card/action-button.jsx");const Pe=async()=>(0,u.Z)({path:S}),Ve=async e=>e===d?Pe():null,ze={...{getProduct:{isFulfilled:(e,s)=>{var t;return(((t=e==null?void 0:e.products)==null?void 0:t.items)||{}).hasOwnProperty(s)&&!v.includes(s)},fulfill:e=>async({dispatch:s})=>{try{s.setIsFetchingProduct(e,!0);const o=await(0,u.Z)({path:`${D}/${e}`});return s.setProduct(o),s.setIsFetchingProduct(e,!1),Promise.resolve()}catch(o){if(s.setIsFetchingProduct(e,!1),o!=null&&o.code&&(o!=null&&o.message))return s.setRequestProductError(e,o),Promise.reject(o);throw new Error(o)}}},getAvailableLicenses:()=>async({dispatch:e})=>{e.setAvailableLicensesIsFetching(!0);try{const{apiRoot:s,apiNonce:o}=(window==null?void 0:window.myJetpackRest)||{};te.ZP.setApiRoot(s),te.ZP.setApiNonce(o);const t=await te.ZP.getUserLicenses();t&&t.items?e.setAvailableLicenses(t.items.filter(({attached_at:a,revoked_at:O})=>a===null&&O===null)):e.setAvailableLicenses([])}catch(s){e.setAvailableLicenses([])}finally{e.setAvailableLicensesIsFetching(!1)}},getBackupRewindableEvents:()=>async({dispatch:e})=>{e.setBackupRewindableEventsIsFetching(!0);try{e.setBackupRewindableEvents(await(0,u.Z)({path:k})),e.setBackupRewindableEventsIsFetching(!1)}catch(s){e.setBackupRewindableEventsIsFetching(!1)}},getCountBackupItems:()=>async({dispatch:e})=>{e.setCountBackupItemsIsFetching(!0);try{e.setCountBackupItems(await(0,u.Z)({path:N})),e.setCountBackupItemsIsFetching(!1)}catch(s){e.setCountBackupItemsIsFetching(!1)}},getStatsCounts:()=>async e=>{const{dispatch:s,registry:o}=e;s.setStatsCountsIsFetching(!0);const t=o.select(I.t).getBlogId();try{s.setStatsCounts(await(0,u.Z)({path:P(t)})),s.setStatsCountsIsFetching(!1)}catch(a){s.setStatsCountsIsFetching(!1)}}},getProductStats:{isFulfilled:(e,s)=>{var o,t;return((t=(o=e.stats)==null?void 0:o.items)==null?void 0:t.hasOwnProperty(s))||!1},fulfill:e=>async({dispatch:s,select:o})=>{const{status:t}=o.getProduct(e);if(t!==Ce.N.ACTIVE)return s.setProductStats(e,null),Promise.resolve();try{s.setIsFetchingProductStats(e,!0);const a=await Ve(e);return s.setProductStats(e,a),s.setIsFetchingProductStats(e,!1),Promise.resolve()}catch(a){if(s.setProductStats(e,null),s.setIsFetchingProductStats(e,!1),a!=null&&a.code&&(a!=null&&a.message))return Promise.reject(a);throw new Error(a)}}}};function Xe(e){return e.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace("_",""))}function Je(e){return e.indexOf("_")!==-1}function ne(e={},s=!1){const o=Object.assign({},e);for(const t in o)o.hasOwnProperty(t)&&Je(t)&&(o[Xe(t)]=o[t],s&&delete o[t]);return o}const Re=e=>{var s;return((s=e.products)==null?void 0:s.items)||{}},Me=e=>Object.keys(Re(e)),Ye={getProducts:Re,getProductNames:Me,getProduct:(e,s)=>{var a,O;const o=((a=Re(e))==null?void 0:a[s])||{},t=ne(o,!0);return t.standalonePluginInfo=ne(t.standalonePluginInfo||{},!0),t.pricingForUi=ne(t.pricingForUi||{},!0),t.pricingForUi.introductoryOffer=t.pricingForUi.isIntroductoryOffer?ne(t.pricingForUi.introductoryOffer,!0):null,(O=t.pricingForUi)!=null&&O.tiers&&(t.pricingForUi.tiers=ne(t.pricingForUi.tiers,!0),t.pricingForUi.tiers=Object.keys(t.pricingForUi.tiers).reduce((V,fe)=>{const E=ne(t.pricingForUi.tiers[fe],!0)||{};return V[fe]={...E,introductoryOffer:E!=null&&E.isIntroductoryOffer?ne(E==null?void 0:E.introductoryOffer,!0):null},V},{})),t.features=t.features||[],t.supportedProducts=t.supportedProducts||[],t.pricingForUi.fullPricePerMonth=t.pricingForUi.productTerm==="year"?Math.round(t.pricingForUi.fullPrice/12*100)/100:t.pricingForUi.fullPrice,t.pricingForUi.discountPricePerMonth=t.pricingForUi.productTerm==="year"?Math.round(t.pricingForUi.discountPrice/12*100)/100:t.pricingForUi.discountPrice,t},isValidProduct:(e,s)=>Me(e).includes(s),isFetching:(e,s)=>{var o,t;return((t=(o=e.products)==null?void 0:o.isFetching)==null?void 0:t[s])||!1},getProductsThatRequiresUserConnection:e=>{const s=Re(e);return Object.keys(s).reduce((o,t)=>{const a=s[t];return(a==null?void 0:a.requires_user_connection)&&((a==null?void 0:a.status)===Ce.N.ACTIVE||(a==null?void 0:a.status)===Ce.N.ERROR)&&o.push(a==null?void 0:a.name),o},[])}},Qe={getBackupRewindableEvents:e=>{var s;return((s=e.backupRewindableEvents)==null?void 0:s.items)||{}},isFetchingBackupRewindableEvents:e=>{var s;return((s=e.backupRewindableEvents)==null?void 0:s.isFetching)||!1}},$e={getCountBackupItems:e=>{var s;return((s=e.countBackupItems)==null?void 0:s.items)||{}},isFetchingCountBackupItems:e=>e.countBackupItems.isFetching||!1},qe={getAvailableLicenses:e=>{var s;return((s=e.availableLicenses)==null?void 0:s.items)||[]},isFetchingAvailableLicenses:e=>{var s;return((s=e.availableLicenses)==null?void 0:s.isFetching)||!1}},es={hasStandalonePluginInstalled:e=>Object.values(e.plugins).filter(s=>["jetpack-backup","jetpack-boost","jetpack-protect","jetpack-search","jetpack-social","jetpack-videopress"].indexOf(s.TextDomain)>=0).length>0},ss={getGlobalNotice:e=>{var s;return(s=e.notices)==null?void 0:s.global}},ts={getProductStats:(e,s)=>{var o,t;return(t=(o=e.stats)==null?void 0:o.items)==null?void 0:t[s]},isFetchingProductStats:(e,s)=>{var o,t;return((t=(o=e.stats)==null?void 0:o.isFetching)==null?void 0:t[s])||!1}},ns=e=>{var s;return(s=e.statsCounts)==null?void 0:s.data},os=e=>e.lifecycleStats,rs={...Ye,...qe,...ss,...es,...ts,...Qe,...$e,...{getStatsCounts:ns,isFetchingStatsCounts:e=>{var s;return((s=e.statsCounts)==null?void 0:s.isFetching)||!1}},getWelcomeBannerHasBeenDismissed:e=>{var s;return(s=e.welcomeBanner)==null?void 0:s.hasBeenDismissed},getGuessedSiteLifecycleStatus:e=>{const{modules:s,purchases:o,plugins:t,isSiteConnected:a,isUserConnected:O}=os(e);return o.length===0&&s.length<3?(!O||!a)&&s.length===0&&t.length===1?"brand-new":"new":o.length===1&&s.length<10?"settling-in":"established"}};var cs=c("../../../node_modules/.pnpm/@wordpress+data@9.22.0_react@18.2.0/node_modules/@wordpress/data/build-module/redux-store/index.js");const Ie=class{static mayBeInit(s,o){Ie.store===null&&(Ie.store=(0,cs.Z)(s,o),(0,ye.z2)(Ie.store))}};let Ne=Ie;De(Ne,"store",null);const as=Ne,We="my-jetpack";function is(){as.mayBeInit(We,{__experimentalUseThunks:!0,reducer:be,actions:Le,selectors:rs,resolvers:ze,initialState:window.myJetpackInitialState||{}})}},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[16].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/my-jetpack/_inc/components/product-card/style.module.scss":(y,m,c)=>{c.d(m,{Z:()=>U});var I=c("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),u=c.n(I),p=c("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),h=c.n(p),g=h()(u());g.push([y.id,'.GTxJkEnk1nQQsd85aJFX{min-height:200px}.rR6wNk2afMMgoAM48xwu{flex-grow:1}.vC9WtlYfTZJ3PQ2_WJbi{display:flex;align-items:center;justify-content:space-between;width:100%;margin-top:calc(var(--spacing-base)*3);min-height:28px;flex-wrap:wrap}.h7oRLsWkurjy8_iyk7VN{display:flex;justify-content:flex-start;gap:var(--spacing-base)}.HMaSD8wdv3EFkpx0cFj6{width:100%;display:flex;gap:var(--spacing-base);align-items:center;justify-content:space-between;margin-bottom:calc(var(--spacing-base)*.5)}.HMaSD8wdv3EFkpx0cFj6 h3{font-weight:700;line-height:28px}.nvijzcm26PCXyNqOKt0x{position:relative;display:flex}.nvijzcm26PCXyNqOKt0x .RciGXG52PWP5wKTnL50p{display:flex;align-items:center;justify-content:center;border:.5px solid var(--jp-black);box-shadow:inset 0 0 0 1px var(--jp-black);border-top-right-radius:var(--jp-border-radius);border-bottom-right-radius:var(--jp-border-radius);cursor:pointer;padding:0}.nvijzcm26PCXyNqOKt0x .pOY9wXeTZXdEQKZILl6e{background-color:var(--jp-black);margin-left:.5px}.nvijzcm26PCXyNqOKt0x .AVZwaNLSRgcRMqKc48hG{background-color:var(--jp-white);border-left-width:0;margin-left:-0.5px}.DQJc9sMD_g3e_epwJHbg{position:absolute;top:calc(100% + var(--spacing-base));left:0;background:var(--jp-white);border-radius:calc(var(--jp-border-radius)/2);box-shadow:0px 1px 1px 0px rgba(0,0,0,.1),0px 1px 1.5px 0px rgba(0,0,0,.1),0px 2px 3px -0.5px rgba(0,0,0,.1);padding:var(--spacing-base)}.DQJc9sMD_g3e_epwJHbg .kZWhJcVFuDAKb3RT9PqL{display:flex;align-items:center;gap:calc(var(--spacing-base)*7);background-color:var(--jp-white);border:none;padding:var(--spacing-base);cursor:pointer;width:100%}.DQJc9sMD_g3e_epwJHbg .kZWhJcVFuDAKb3RT9PqL:hover{background-color:var(--jp-gray-0)}.DQJc9sMD_g3e_epwJHbg .AGNnRRrn8UoGCE9P37gA{display:flex;align-items:center;gap:calc(var(--spacing-base)*.5);font-size:var(--font-label)}.DQJc9sMD_g3e_epwJHbg .EPJdlXOWx5xJVl6EUL5_{background-color:var(--jp-green-50);height:25px;width:25px}.jjq8f4lZIJErfvIJMKfD a,.jjq8f4lZIJErfvIJMKfD button{border-top-right-radius:0;border-bottom-right-radius:0}.XFWD3H3YkLwFqcqU4N3y{white-space:nowrap;height:28px;display:flex;align-items:center}.XFWD3H3YkLwFqcqU4N3y:before{content:"";display:inline-block;width:8px;height:8px;margin-right:var(--spacing-base);border-radius:50%}.XFWD3H3YkLwFqcqU4N3y.gVfztnQIATbFCK7hegRQ{color:var(--jp-green-50)}.XFWD3H3YkLwFqcqU4N3y.gVfztnQIATbFCK7hegRQ:before{background:var(--jp-green-50)}.XFWD3H3YkLwFqcqU4N3y.kDLAyzB7otBfcFxesPp8{color:var(--jp-gray-50)}.XFWD3H3YkLwFqcqU4N3y.kDLAyzB7otBfcFxesPp8:before{background:var(--jp-gray-50)}.XFWD3H3YkLwFqcqU4N3y.WCrLkaXyNZAS01F1g6Yt{color:var(--jp-yellow-40)}.XFWD3H3YkLwFqcqU4N3y.WCrLkaXyNZAS01F1g6Yt:before{background:var(--jp-yellow-40)}.XFWD3H3YkLwFqcqU4N3y.PmWCTVHy7wtXBeSTBh7i{color:var(--jp-red-60)}.XFWD3H3YkLwFqcqU4N3y.PmWCTVHy7wtXBeSTBh7i:before{background:var(--jp-red-60)}.XFWD3H3YkLwFqcqU4N3y.XX9rtInwXjlRjEHx007w:before{animation:x8UXNnDUSdNvlwC_6g2z .5s linear infinite}@keyframes x8UXNnDUSdNvlwC_6g2z{0%{opacity:0}50%{opacity:.5}100%{opacity:0}}',""]),g.locals={container:"GTxJkEnk1nQQsd85aJFX",description:"rR6wNk2afMMgoAM48xwu",actions:"vC9WtlYfTZJ3PQ2_WJbi",buttons:"h7oRLsWkurjy8_iyk7VN",title:"HMaSD8wdv3EFkpx0cFj6","action-button":"nvijzcm26PCXyNqOKt0x","dropdown-chevron":"RciGXG52PWP5wKTnL50p",primary:"pOY9wXeTZXdEQKZILl6e",secondary:"AVZwaNLSRgcRMqKc48hG","action-button-dropdown":"DQJc9sMD_g3e_epwJHbg","dropdown-item":"kZWhJcVFuDAKb3RT9PqL","dropdown-item-label":"AGNnRRrn8UoGCE9P37gA","active-action-checkmark":"EPJdlXOWx5xJVl6EUL5_","has-additional-actions":"jjq8f4lZIJErfvIJMKfD",status:"XFWD3H3YkLwFqcqU4N3y",active:"gVfztnQIATbFCK7hegRQ",inactive:"kDLAyzB7otBfcFxesPp8",warning:"WCrLkaXyNZAS01F1g6Yt",error:"PmWCTVHy7wtXBeSTBh7i","is-fetching":"XX9rtInwXjlRjEHx007w","blink-animation":"x8UXNnDUSdNvlwC_6g2z"};const U=g},"../../packages/my-jetpack/_inc/components/product-card/style.module.scss":(y,m,c)=>{c.d(m,{Z:()=>U});var I=c("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),u=c.n(I),p=c("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[16].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/my-jetpack/_inc/components/product-card/style.module.scss"),h={};h.insert="head",h.singleton=!1;var g=u()(p.Z,h);const U=p.Z.locals||{}}}]);})();
