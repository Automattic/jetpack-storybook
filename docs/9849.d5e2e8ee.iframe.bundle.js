"use strict";(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[9849],{"../components/components/button/index.tsx":(J,P,r)=>{r.d(P,{Z:()=>O});var p=r("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/button/index.js"),m=r("../../../node_modules/.pnpm/@wordpress+components@23.7.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/spinner/index.js"),_=r("../../../node_modules/.pnpm/@wordpress+icons@9.21.0/node_modules/@wordpress/icons/build-module/icon/index.js"),g=r("../../../node_modules/.pnpm/@wordpress+icons@9.21.0/node_modules/@wordpress/icons/build-module/library/external.js"),i=r("../../../node_modules/.pnpm/classnames@2.3.1/node_modules/classnames/index.js"),l=r.n(i),C=r("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),D=r("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),k=r.n(D),h=r("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../components/components/button/style.module.scss"),T={};T.insert="head",T.singleton=!1;var R=k()(h.Z,T);const E=h.Z.locals||{};var f=r("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const I=(0,C.forwardRef)((y,j)=>{var se,ne;const{children:u,variant:F="primary",size:U="normal",weight:K="bold",icon:x,iconSize:V,disabled:z,isDestructive:W,isLoading:w,isExternalLink:G,className:S,text:ee,fullWidth:re,...B}=y,H=l()(E.button,S,{[E.normal]:U==="normal",[E.small]:U==="small",[E.icon]:!!x,[E.loading]:w,[E.regular]:K==="regular",[E["full-width"]]:re,[E["is-icon-button"]]:!!x&&!u});B.ref=j;const ae=U==="normal"?20:16,v=G&&(0,f.jsx)(_.Z,{size:ae,icon:g.Z,className:E["external-icon"]}),te=G?"_blank":void 0,L=(u==null?void 0:u[0])&&u[0]!==null&&((ne=(se=u==null?void 0:u[0])==null?void 0:se.props)==null?void 0:ne.className)!=="components-tooltip";return(0,f.jsxs)(p.ZP,{target:te,variant:F,className:l()(H,{"has-text":!!x&&L}),icon:G?void 0:x,iconSize:V,disabled:z,"aria-disabled":z,isDestructive:W,text:ee,...B,children:[w&&(0,f.jsx)(m.ZP,{}),(0,f.jsx)("span",{children:u}),v]})});I.displayName="Button";const O=I;try{I.displayName="Button",I.__docgenInfo={description:"Button component",displayName:"Button",props:{text:{defaultValue:null,description:`If provided, displays the given text inside the button. If the button
contains children elements, the text is displayed before them.`,name:"text",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"normal"'}]}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'},{value:'"link"'},{value:'"tertiary"'}]}},className:{defaultValue:null,description:"An optional additional class name to apply to the rendered button.",name:"className",required:!1,type:{name:"string"}},weight:{defaultValue:null,description:"",name:"weight",required:!1,type:{name:"enum",value:[{value:'"bold"'},{value:'"regular"'}]}},isDestructive:{defaultValue:null,description:`Renders a red text-based button style to indicate destructive
behavior.`,name:"isDestructive",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"Renders a disabled button.",name:"disabled",required:!1,type:{name:"boolean"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},isExternalLink:{defaultValue:null,description:"",name:"isExternalLink",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../components/components/button/index.tsx#Button"]={docgenInfo:I.__docgenInfo,name:"Button",path:"../components/components/button/index.tsx#Button"})}catch(y){}},"../connection/components/use-connection/index.jsx":(J,P,r)=>{r.d(P,{Z:()=>C});var p=r("../api/index.jsx"),m=r("../../../node_modules/.pnpm/@wordpress+data@9.0.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-dispatch/use-dispatch.js"),_=r("../../../node_modules/.pnpm/@wordpress+data@9.0.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-select/index.js"),g=r("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),i=r("../connection/state/store.jsx");const l=window!=null&&window.JP_CONNECTION_INITIAL_STATE?window.JP_CONNECTION_INITIAL_STATE:{},C=function(){let{registrationNonce:D=l.registrationNonce,apiRoot:k=l.apiRoot,apiNonce:h=l.apiNonce,redirectUri:T,autoTrigger:R,from:E,skipUserConnection:f}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{registerSite:I,connectUser:O,refreshConnectedPlugins:y}=(0,m.Z)(i.t),j=(0,_.Z)(S=>S(i.t).getRegistrationError()),{siteIsRegistering:u,userIsConnecting:F,userConnectionData:U,connectedPlugins:K,connectionErrors:x,isRegistered:V,isUserConnected:z,hasConnectedOwner:W}=(0,_.Z)(S=>({siteIsRegistering:S(i.t).getSiteIsRegistering(),userIsConnecting:S(i.t).getUserIsConnecting(),userConnectionData:S(i.t).getUserConnectionData(),connectedPlugins:S(i.t).getConnectedPlugins(),connectionErrors:S(i.t).getConnectionErrors(),...S(i.t).getConnectionStatus()})),w=()=>{if(f){if(T)return window.location=T,Promise.resolve(T)}else return O({from:E,redirectUri:T});return Promise.resolve()},G=S=>(S&&S.preventDefault(),V?w():I({registrationNonce:D,redirectUri:T}).then(()=>w()));return(0,g.useEffect)(()=>{p.ZP.setApiRoot(k),p.ZP.setApiNonce(h)},[k,h]),(0,g.useEffect)(()=>{R&&!u&&!F&&G()},[]),{handleRegisterSite:G,handleConnectUser:w,refreshConnectedPlugins:y,isRegistered:V,isUserConnected:z,siteIsRegistering:u,userIsConnecting:F,registrationError:j,userConnectionData:U,hasConnectedOwner:W,connectedPlugins:K,connectionErrors:x}}},"../connection/state/store.jsx":(J,P,r)=>{r.d(P,{t:()=>v});var p=r("../api/index.jsx");const m="SET_CONNECTION_STATUS",_="SET_CONNECTION_STATUS_IS_FETCHING",g="FETCH_CONNECTION_STATUS",i="SET_SITE_IS_REGISTERING",l="SET_USER_IS_CONNECTING",C="SET_REGISTRATION_ERROR",D="CLEAR_REGISTRATION_ERROR",k="REGISTER_SITE",h="SET_AUTHORIZATION_URL",T="CONNECT_USER",R="DISCONNECT_USER_SUCCESS",E="FETCH_AUTHORIZATION_URL",f="SET_CONNECTED_PLUGINS",I="REFRESH_CONNECTED_PLUGINS",O="SET_CONNECTION_ERRORS",y=n=>({type:m,connectionStatus:n}),j=n=>({type:_,isFetching:n}),u=()=>({type:g}),F=n=>({type:i,isRegistering:n}),U=n=>({type:l,isConnecting:n}),K=()=>({type:R}),x=n=>({type:C,registrationError:n}),V=()=>({type:D}),z=n=>({type:h,authorizationUrl:n}),W=n=>({type:E,redirectUri:n}),w=n=>({type:f,connectedPlugins:n}),G=n=>({type:O,connectionErrors:n});function S(){let{from:n,redirectFunc:a,redirectUri:d}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function*(){yield U(!0),yield{type:T,from:n,redirectFunc:a,redirectUri:d}}()}function ee(n){let{registrationNonce:a,redirectUri:d}=n;return function*(){yield V(),yield F(!0);try{const A=yield{type:k,registrationNonce:a,redirectUri:d};return yield y({isRegistered:!0}),yield z(A.authorizeUrl),yield F(!1),Promise.resolve(A)}catch(A){return yield x(A),yield F(!1),Promise.reject(A)}}()}const B={setConnectionStatus:y,setConnectionStatusIsFetching:j,fetchConnectionStatus:u,fetchAuthorizationUrl:W,setSiteIsRegistering:F,setUserIsConnecting:U,setRegistrationError:x,clearRegistrationError:V,setAuthorizationUrl:z,registerSite:ee,connectUser:S,disconnectUserSuccess:K,setConnectedPlugins:w,refreshConnectedPlugins:()=>async n=>{let{dispatch:a}=n;return await new Promise(d=>p.ZP.fetchConnectedPlugins().then(A=>{a(w(A)),d(A)}))},setConnectionErrors:G};var H=r("../../../node_modules/.pnpm/@wordpress+data@9.0.0_react@18.2.0/node_modules/@wordpress/data/build-module/factory.js");const v="jetpack-connection",te=n=>{let{registrationNonce:a,redirectUri:d}=n;return p.ZP.registerSite(a,d)},L=(0,H.R)(n=>{let{resolveSelect:a}=n;return function(){let{from:d,redirectFunc:A,redirectUri:Z}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise((X,le)=>{a(v).getAuthorizationUrl(Z).then(ue=>{const Le=A||(De=>window.location.assign(De)),fe=new URL(ue);d&&fe.searchParams.set("from",encodeURIComponent(d));const Pe=fe.toString();Le(Pe),X(Pe)}).catch(ue=>{le(ue)})})}}),ne={FETCH_AUTHORIZATION_URL:n=>{let{redirectUri:a}=n;return p.ZP.fetchAuthorizationUrl(a)},REGISTER_SITE:te,CONNECT_USER:L};var oe=r("../../../node_modules/.pnpm/@wordpress+data@9.0.0_react@18.2.0/node_modules/@wordpress/data/build-module/index.js");const ve=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case m:return{...n,...a.connectionStatus};case R:return{...n,isUserConnected:!1}}return n},Re=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case f:return a.connectedPlugins}return n},Ie=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case _:return a.isFetching}return n},Oe=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case i:return a.isRegistering}return n},pe=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case l:return a.isConnecting}return n},me=(n,a)=>{switch(a.type){case D:return!1;case C:return a.registrationError;default:return n}},ge=(n,a)=>{switch(a.type){case h:return a.authorizationUrl;default:return n}},ie=(n,a)=>{switch(a.type){default:return n}},_e=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case O:return a.connectionErrors}return n},Ee=(0,oe.UY)({connectionStatus:ve,connectionStatusIsFetching:Ie,siteIsRegistering:Oe,userIsConnecting:pe,registrationError:me,authorizationUrl:ge,userConnectionData:ie,connectedPlugins:Re,connectionErrors:_e}),he={...{getAuthorizationUrl:{isFulfilled:function(n){const a=!!n.authorizationUrl;for(var d=arguments.length,A=new Array(d>1?d-1:0),Z=1;Z<d;Z++)A[Z-1]=arguments[Z];const X=(0,oe.Ys)(v).hasFinishedResolution("getAuthorizationUrl",A);return a&&!X&&(0,oe.WI)(v).finishResolution("getAuthorizationUrl",A),a},*fulfill(n){const a=yield B.fetchAuthorizationUrl(n);yield B.setAuthorizationUrl(a.authorizeUrl)}}}},Ue={...{getConnectionStatus:n=>n.connectionStatus||{},getConnectionStatusIsFetching:()=>!1,getSiteIsRegistering:n=>n.siteIsRegistering||!1,getUserIsConnecting:n=>n.userIsConnecting||!1,getRegistrationError:n=>n.registrationError||!1,getAuthorizationUrl:n=>n.authorizationUrl||!1,getUserConnectionData:n=>n.userConnectionData||!1,getConnectedPlugins:n=>n.connectedPlugins||[],getConnectionErrors:n=>n.connectionErrors||[],getWpcomUser:n=>{var a,d;return(d=(a=n==null?void 0:n.userConnectionData)==null?void 0:a.currentUser)==null?void 0:d.wpcomUser},getBlogId:n=>{var a,d;return(d=(a=n==null?void 0:n.userConnectionData)==null?void 0:a.currentUser)==null?void 0:d.blogId}}};var Se=r("../../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/defineProperty.js"),xe=r.n(Se),Te=r("../../../node_modules/.pnpm/@wordpress+data@9.0.0_react@18.2.0/node_modules/@wordpress/data/build-module/redux-store/index.js");class M{static mayBeInit(a,d){M.store===null&&(M.store=(0,Te.Z)(a,d),(0,oe.z2)(M.store))}}xe()(M,"store",null);const we=M,Ae=window.JP_CONNECTION_INITIAL_STATE;Ae||console.error("Jetpack Connection package: Initial state is missing. Check documentation to see how to use the Connection composer package to set up the initial state."),we.mayBeInit(v,{__experimentalUseThunks:!0,reducer:Ee,actions:B,selectors:Ue,resolvers:he,controls:ne,initialState:Ae||{}})},"../../packages/my-jetpack/_inc/components/product-card/action-buton.jsx":(J,P,r)=>{r.d(P,{N:()=>l,Z:()=>D});var p=r("../components/components/button/index.tsx"),m=r("../../../node_modules/.pnpm/@wordpress+i18n@4.30.0/node_modules/@wordpress/i18n/build-module/index.js"),_=r("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),g=r("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const i=m.__,l={ACTIVE:"active",INACTIVE:"inactive",ERROR:"error",ABSENT:"plugin_absent",ABSENT_WITH_PLAN:"plugin_absent_with_plan",NEEDS_PURCHASE:"needs_purchase",NEEDS_PURCHASE_OR_FREE:"needs_purchase_or_free"},C=k=>{let{status:h,admin:T,name:R,onActivate:E,onManage:f,onFixConnection:I,isFetching:O,className:y,onAdd:j}=k;if(!T)return(0,g.jsx)(p.Z,{...u,size:"small",variant:"link",weight:"regular",children:(0,m.gB)(i("Learn about %s","jetpack-my-jetpack"),R)});const u={variant:O?void 0:"primary",disabled:O,className:y};switch(h){case l.ABSENT:case l.ABSENT_WITH_PLAN:return(0,g.jsxs)(p.Z,{...u,size:"small",variant:"link",weight:"regular",children:[h===l.ABSENT&&(0,m.gB)(i("Get %s","jetpack-my-jetpack"),R),h===l.ABSENT_WITH_PLAN&&(0,m.gB)(i("Install %s","jetpack-my-jetpack"),R)]});case l.NEEDS_PURCHASE:return(0,g.jsx)(p.Z,{...u,size:"small",weight:"regular",onClick:j,children:i("Purchase","jetpack-my-jetpack")});case l.NEEDS_PURCHASE_OR_FREE:return(0,g.jsx)(p.Z,{...u,size:"small",weight:"regular",onClick:j,children:i("Start for free","jetpack-my-jetpack")});case l.ACTIVE:return(0,g.jsx)(p.Z,{...u,size:"small",weight:"regular",variant:"secondary",onClick:f,children:i("Manage","jetpack-my-jetpack")});case l.ERROR:return(0,g.jsx)(p.Z,{...u,size:"small",weight:"regular",onClick:I,children:i("Fix connection","jetpack-my-jetpack")});case l.INACTIVE:return(0,g.jsx)(p.Z,{...u,size:"small",weight:"regular",variant:"secondary",onClick:E,children:i("Activate","jetpack-my-jetpack")});default:return null}};C.__docgenInfo={description:"",methods:[],displayName:"ActionButton"};const D=C},"../../packages/my-jetpack/_inc/hooks/use-my-jetpack-connection/index.js":(J,P,r)=>{r.d(P,{Z:()=>m});var p=r("../connection/components/use-connection/index.jsx");function m(){const{apiRoot:_,apiNonce:g}=myJetpackRest,{topJetpackMenuItemUrl:i}=myJetpackInitialState,l=(0,p.Z)({apiRoot:_,apiNonce:g}),C=l.isRegistered;return{apiNonce:g,apiRoot:_,...l,isSiteConnected:C,topJetpackMenuItemUrl:i}}},"../../packages/my-jetpack/_inc/state/store.js":(J,P,r)=>{r.d(P,{t:()=>ke,N:()=>He});var p=r("../connection/state/store.jsx"),m=r("../../../node_modules/.pnpm/@wordpress+api-fetch@6.27.0/node_modules/@wordpress/api-fetch/build-module/index.js"),_=r("../../../node_modules/.pnpm/@wordpress+i18n@4.30.0/node_modules/@wordpress/i18n/build-module/index.js");const g="my-jetpack/v1",i=`${g}/site/purchases`,l=`${g}/site/products`,C=["scan"],D="videopress",k="videopress/v1/stats/featured",h=_.__,T="SET_PURCHASES_IS_FETCHING",R="FETCH_PURCHASES",E="SET_PURCHASES",f="SET_AVAILABLE_LICENSES_IS_FETCHING",I="FETCH_AVAILABLE_LICENSES",O="SET_AVAILABLE_LICENSES",y="SET_IS_FETCHING_PRODUCT",j="SET_PRODUCT",u="SET_PRODUCT_REQUEST_ERROR",F="ACTIVATE_PRODUCT",U="SET_PRODUCT_STATUS",K="SET_GLOBAL_NOTICE",x="CLEAN_GLOBAL_NOTICE",V="SET_PRODUCT_STATS",z="SET_IS_FETCHING_PRODUCT_STATS",W=e=>({type:T,isFetching:e}),w=()=>({type:R}),G=e=>({type:E,purchases:e}),S=e=>({type:f,isFetching:e}),ee=()=>({type:I}),re=e=>({type:O,availableLicenses:e}),B=e=>({type:j,product:e}),H=(e,t)=>({type:u,productId:e,error:t}),ae=(e,t)=>({type:U,productId:e,status:t}),v=(e,t)=>({type:"SET_GLOBAL_NOTICE",message:e,options:t}),te=()=>({type:"CLEAN_GLOBAL_NOTICE"});function L(e,t){return{type:y,productId:e,isFetching:t}}function se(e,t,o){let{select:s,dispatch:c,registry:$}=o;return new Promise((Y,Ce)=>{if(!s.isValidProduct(e)){const b=h("Invalid product name","jetpack-my-jetpack"),de=new Error(b);c(H(e,de)),c(v(b,{status:"error",isDismissible:!0})),Ce(de);return}const Q=t.activate?"POST":"DELETE";return c(L(e,!0)),(0,m.Z)({path:`${l}/${e}`,method:Q}).then(b=>{c(L(e,!1)),c(B(b)),$.dispatch(p.t).refreshConnectedPlugins(),Y(b==null?void 0:b.status)}).catch(b=>{const{name:de}=s.getProduct(e),Me=(0,_.gB)(h("Failed to activate %1$s. Please try again","jetpack-my-jetpack"),de);c(L(e,!1)),c(H(e,b)),c(v(Me,{status:"error",isDismissible:!0})),Ce(b)})})}const pe={setPurchasesIsFetching:W,fetchPurchases:w,setPurchases:G,setAvailableLicensesIsFetching:S,fetchAvailableLicenses:ee,setAvailableLicenses:re,setProductStats:(e,t)=>({type:V,productId:e,stats:t}),setIsFetchingProductStats:(e,t)=>({type:z,productId:e,isFetching:t}),...{setGlobalNotice:v,cleanGlobalNotice:te},...{setProduct:B,activateProduct:e=>async t=>await se(e,{activate:!0},t),installStandalonePluginForProduct:e=>async t=>{const{select:o,dispatch:s,registry:c}=t;return await new Promise(($,Y)=>{if(!o.isValidProduct(e)){const N=h("Invalid product name","jetpack-my-jetpack"),Q=new Error(N);s(H(e,Q)),s(v(N,{status:"error",isDismissible:!0})),Y(Q);return}return s(L(e,!0)),(0,m.Z)({path:`${l}/${e}/install-standalone`,method:"POST"}).then(N=>{s(L(e,!1)),s(B(N)),c.dispatch(p.t).refreshConnectedPlugins(),$(N==null?void 0:N.standalone_plugin_info)}).catch(N=>{const{name:Q}=o.getProduct(e),b=(0,_.gB)(h("Failed to install standalone plugin for %1$s: %2$s. Please try again","jetpack-my-jetpack"),Q,N.message);s(L(e,!1)),s(H(e,N)),s(v(b,{status:"error",isDismissible:!0})),Y(N)})})},setIsFetchingProduct:L,setRequestProductError:H,setProductStatus:ae}};function me(){return new Promise((e,t)=>{(0,m.Z)({path:i}).then(e).catch(t)})}const ge={[R]:me};var ie=r("../../../node_modules/.pnpm/@wordpress+data@9.0.0_react@18.2.0/node_modules/@wordpress/data/build-module/index.js");const _e=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:{const{productId:o,isFetching:s}=t;return{...e,isFetching:{...e.isFetching,[o]:s},errors:{...e.errors,[o]:s?void 0:e.errors[o]}}}case U:{const{productId:o,status:s}=t;return{...e,items:{...e.items,[o]:{...e.items[o],status:s}}}}case j:{const{product:o}=t,{slug:s}=o;return{...e,items:{...e.items,[s]:o}}}case u:{const{productId:o,error:s}=t;return{...e,errors:{...e.errors,[o]:s}}}default:return e}},ye=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return{...e,isFetching:t.isFetching};case E:return{...e,items:(t==null?void 0:t.purchases)||[]};default:return e}},Ee=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{...e,isFetching:t.isFetching};case O:return{...e,items:(t==null?void 0:t.availableLicenses)||[]};default:return e}},Ne=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{global:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:{const{message:o,options:s}=t;return{...e,global:{message:o,options:s}}}case x:return{...e,global:{}};default:return e}},he=function(){return arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}},be=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:{const{productId:o,isFetching:s}=t;return{...e,isFetching:{...e.isFetching,[o]:s}}}case V:{const{productId:o,stats:s}=t;return{...e,items:{...e.items,[o]:s}}}default:return e}},je=(0,ie.UY)({products:_e,purchases:ye,availableLicenses:Ee,notices:Ne,plugins:he,stats:be});var ce=r("../api/index.jsx");const Se=async()=>(0,m.Z)({path:k}),Te=async e=>e===D?Se():null,M=_.__,n={...{getProduct:{isFulfilled:(e,t)=>{var s;return(((s=e==null?void 0:e.products)==null?void 0:s.items)||{}).hasOwnProperty(t)&&!C.includes(t)},fulfill:e=>async t=>{let{dispatch:o}=t;try{o.setIsFetchingProduct(e,!0);const s=await(0,m.Z)({path:`${l}/${e}`});return o.setProduct(s),o.setIsFetchingProduct(e,!1),Promise.resolve()}catch(s){if(o.setIsFetchingProduct(e,!1),s!=null&&s.code&&(s!=null&&s.message))return o.setRequestProductError(e,s),Promise.reject(s);throw new Error(s)}}},getPurchases:()=>async e=>{let{dispatch:t}=e;t.setPurchasesIsFetching(!0);try{t.setPurchases(await(0,m.Z)({path:i})),t.setPurchasesIsFetching(!1)}catch(o){t.setPurchasesIsFetching(!1),o.code!=="not_connected"&&t.setGlobalNotice(M("There was an error fetching your purchases information. Check your site connectivity and try again.","jetpack-my-jetpack"),{status:"error"})}},getAvailableLicenses:()=>async e=>{let{dispatch:t}=e;t.setAvailableLicensesIsFetching(!0);try{const{apiRoot:o,apiNonce:s}=(window==null?void 0:window.myJetpackRest)||{};ce.ZP.setApiRoot(o),ce.ZP.setApiNonce(s);const c=await ce.ZP.getUserLicenses();c&&c.items?t.setAvailableLicenses(c.items.filter($=>{let{attached_at:Y}=$;return Y===null})):t.setAvailableLicenses([])}catch(o){t.setAvailableLicenses([])}finally{t.setAvailableLicensesIsFetching(!1)}}},getProductStats:{isFulfilled:(e,t)=>{var o,s;return((s=(o=e.stats)==null?void 0:o.items)==null?void 0:s.hasOwnProperty(t))||!1},fulfill:e=>async t=>{let{dispatch:o}=t;try{o.setIsFetchingProductStats(e,!0);const s=await Te(e);return o.setProductStats(e,s),o.setIsFetchingProductStats(e,!1),Promise.resolve()}catch(s){if(o.setProductStats(e,null),o.setIsFetchingProductStats(e,!1),s!=null&&s.code&&(s!=null&&s.message))return Promise.reject(s);throw new Error(s)}}}};var a=r("../../packages/my-jetpack/_inc/components/product-card/action-buton.jsx");function d(e){return e.replace(/([-_][a-z])/gi,t=>t.toUpperCase().replace("_",""))}function A(e){return e.indexOf("_")!==-1}function Z(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const o=Object.assign({},e);for(const s in o)o.hasOwnProperty(s)&&A(s)&&(o[d(s)]=o[s],t&&delete o[s]);return o}const X=e=>{var t;return((t=e.products)==null?void 0:t.items)||{}},le=e=>Object.keys(X(e)),Ve={...{getProducts:X,getProductNames:le,getProduct:(e,t)=>{var c;const o=((c=X(e))==null?void 0:c[t])||{},s=Z(o,!0);return s.pricingForUi=Z(s.pricingForUi||{},!0),s.pricingForUi.introductoryOffer=s.pricingForUi.isIntroductoryOffer?Z(s.pricingForUi.introductoryOffer,!0):null,s.features=s.features||[],s.supportedProducts=s.supportedProducts||[],s.pricingForUi.fullPricePerMonth=Math.ceil(s.pricingForUi.fullPrice/12*100)/100,s.pricingForUi.discountPricePerMonth=Math.ceil(s.pricingForUi.discountPrice/12*100)/100,s},isValidProduct:(e,t)=>le(e).includes(t),isFetching:(e,t)=>{var o,s;return((s=(o=e.products)==null?void 0:o.isFetching)==null?void 0:s[t])||!1},getProductsThatRequiresUserConnection:e=>{const t=X(e);return Object.keys(t).reduce((o,s)=>{const c=t[s];return(c==null?void 0:c.requires_user_connection)&&((c==null?void 0:c.status)===a.N.ACTIVE||(c==null?void 0:c.status)===a.N.ERROR)&&o.push(c==null?void 0:c.name),o},[])}},...{getPurchases:e=>{var t;return((t=e.purchases)==null?void 0:t.items)||[]},isRequestingPurchases:e=>{var t;return((t=e.purchases)==null?void 0:t.isFetching)||!1}},...{getAvailableLicenses:e=>{var t;return((t=e.availableLicenses)==null?void 0:t.items)||[]},isFetchingAvailableLicenses:e=>{var t;return((t=e.availableLicenses)==null?void 0:t.isFetching)||!1}},...{getGlobalNotice:e=>{var t;return(t=e.notices)==null?void 0:t.global}},...{hasStandalonePluginInstalled:e=>Object.values(e.plugins).filter(t=>["jetpack-backup","jetpack-boost","jetpack-protect","jetpack-search","jetpack-social","jetpack-videopress"].indexOf(t.TextDomain)>=0).length>0},...{getProductStats:(e,t)=>{var o,s;return((s=(o=e.stats)==null?void 0:o.items)==null?void 0:s[t])||null},isFetchingProductStats:(e,t)=>{var o,s;return((s=(o=e.stats)==null?void 0:o.isFetching)==null?void 0:s[t])||!1}}};var ze=r("../../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/defineProperty.js"),Ge=r.n(ze),Be=r("../../../node_modules/.pnpm/@wordpress+data@9.0.0_react@18.2.0/node_modules/@wordpress/data/build-module/redux-store/index.js");class q{static mayBeInit(t,o){q.store===null&&(q.store=(0,Be.Z)(t,o),(0,ie.z2)(q.store))}}Ge()(q,"store",null);const Ze=q,ke="my-jetpack";function He(){Ze.mayBeInit(ke,{__experimentalUseThunks:!0,reducer:je,actions:pe,selectors:Ve,resolvers:n,controls:ge,initialState:window.myJetpackInitialState||{}})}},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.21_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.43.3_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../components/components/button/style.module.scss":(J,P,r)=>{r.d(P,{Z:()=>l});var p=r("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),m=r.n(p),_=r("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),g=r.n(_),i=g()(m());i.push([J.id,".zOVExsGAtu3qEPXi90gA{--wp-admin-theme-color: var(--jp-black);--wp-admin-theme-color-darker-10: var(--jp-black-80);--wp-admin-theme-color-darker-20: var(--jp-black-80);--wp-admin-border-width-focus: 1.5px;border-radius:var(--jp-border-radius);justify-content:center;font-weight:600}.zOVExsGAtu3qEPXi90gA.LeZ9swgay3_IutOEDvA6{padding:var(--spacing-base);width:calc(var(--spacing-base)*5);height:calc(var(--spacing-base)*5)}.zOVExsGAtu3qEPXi90gA.LeZ9swgay3_IutOEDvA6>svg:first-child{margin:0;padding:0}.zOVExsGAtu3qEPXi90gA.LeZ9swgay3_IutOEDvA6.hLhkVRHwk8NBz5iEbJRi{padding:calc(var(--spacing-base)/2);width:calc(var(--spacing-base)*4);min-width:calc(var(--spacing-base)*4);height:calc(var(--spacing-base)*4)}.zOVExsGAtu3qEPXi90gA.EDZJbVaYCITE2Rfk7M9w:not(.LeZ9swgay3_IutOEDvA6){height:auto;font-size:var(--font-body);line-height:24px;padding:var(--spacing-base) calc(var(--spacing-base)*3)}.zOVExsGAtu3qEPXi90gA.EDZJbVaYCITE2Rfk7M9w:not(.LeZ9swgay3_IutOEDvA6).nJ9PKanHLfnJSPjoI1Cw{padding:var(--spacing-base) calc(var(--spacing-base)*2)}.zOVExsGAtu3qEPXi90gA.hLhkVRHwk8NBz5iEbJRi:not(.LeZ9swgay3_IutOEDvA6){height:auto;font-size:var(--font-body-extra-small);line-height:20px;padding:calc(var(--spacing-base)/2) var(--spacing-base)}.zOVExsGAtu3qEPXi90gA.hLhkVRHwk8NBz5iEbJRi:not(.LeZ9swgay3_IutOEDvA6).nJ9PKanHLfnJSPjoI1Cw>svg:first-child{margin-right:calc(var(--spacing-base)/2)}.zOVExsGAtu3qEPXi90gA.hLhkVRHwk8NBz5iEbJRi:not(.LeZ9swgay3_IutOEDvA6)>.components-spinner{height:20px}.zOVExsGAtu3qEPXi90gA.D63ZAJR5_hiWANBMf4PK{font-weight:400}.zOVExsGAtu3qEPXi90gA.SKM87VLtnU7TyMLgZN7h{min-width:100%}.zOVExsGAtu3qEPXi90gA.is-primary:disabled,.zOVExsGAtu3qEPXi90gA.is-secondary:disabled{background:var(--jp-gray);color:var(--jp-gray-20)}.zOVExsGAtu3qEPXi90gA.is-secondary{background:var(--jp-white);box-shadow:inset 0 0 0 1.5px var(--jp-black)}.zOVExsGAtu3qEPXi90gA.is-secondary:active:not(:disabled),.zOVExsGAtu3qEPXi90gA.is-secondary:hover:not(:disabled){background:var(--jp-gray-0)}.zOVExsGAtu3qEPXi90gA.is-link.EDZJbVaYCITE2Rfk7M9w,.zOVExsGAtu3qEPXi90gA.is-link.hLhkVRHwk8NBz5iEbJRi{padding:0}.zOVExsGAtu3qEPXi90gA.is-link:hover:not(:disabled){text-decoration-thickness:3px}.zOVExsGAtu3qEPXi90gA.is-link:focus:not(:disabled){text-decoration-line:none}.zOVExsGAtu3qEPXi90gA.is-destructive.is-primary{box-shadow:none}.zOVExsGAtu3qEPXi90gA.is-destructive.is-primary:not(:disabled){color:var(--jp-white);background:var(--jp-red-50);box-shadow:inset 0 0 0 1px var(--jp-red-50)}.zOVExsGAtu3qEPXi90gA.is-destructive.is-primary:hover:not(:disabled){background:var(--jp-red-60);box-shadow:inset 0 0 0 1px var(--jp-red-60)}.zOVExsGAtu3qEPXi90gA.is-destructive.is-primary:focus:not(:disabled){box-shadow:inset 0 0 0 1px var(--jp-white),0 0 0 var(--wp-admin-border-width-focus) var(--jp-red-70);background:var(--jp-red-70);color:var(--jp-white)}.zOVExsGAtu3qEPXi90gA.is-destructive.is-primary:active:not(:disabled){background:var(--jp-red-50)}.zOVExsGAtu3qEPXi90gA.is-destructive.is-secondary{box-shadow:none}.zOVExsGAtu3qEPXi90gA.is-destructive.is-secondary:not(:disabled){color:var(--jp-red-50);background:var(--jp-white);box-shadow:inset 0 0 0 1.5px var(--jp-red-50)}.zOVExsGAtu3qEPXi90gA.is-destructive.is-secondary:hover:not(:disabled){background:var(--jp-red-0);box-shadow:inset 0 0 0 1.5px var(--jp-red-60);color:var(--jp-red-60)}.zOVExsGAtu3qEPXi90gA.is-destructive.is-secondary:focus:not(:disabled){box-shadow:inset 0 0 0 1px var(--jp-white),0 0 0 var(--wp-admin-border-width-focus) var(--jp-red-70);color:var(--jp-red-70)}.zOVExsGAtu3qEPXi90gA.is-destructive.is-secondary:active:not(:disabled){background:var(--jp-gray-0)}.zOVExsGAtu3qEPXi90gA.is-destructive.is-link:not(:disabled){color:var(--jp-red-50)}.zOVExsGAtu3qEPXi90gA.is-destructive.is-link:hover:not(:disabled){color:var(--jp-red-60);box-shadow:none}.zOVExsGAtu3qEPXi90gA.is-destructive.is-link:focus:not(:disabled){color:var(--jp-red-70);box-shadow:inset 0 0 0 1px var(--jp-white),0 0 0 var(--wp-admin-border-width-focus) var(--jp-red-70)}.zOVExsGAtu3qEPXi90gA.ZgSKxNOwc80Jci9sUsBC{position:relative}.zOVExsGAtu3qEPXi90gA.ZgSKxNOwc80Jci9sUsBC.has-icon{justify-content:center}.zOVExsGAtu3qEPXi90gA.ZgSKxNOwc80Jci9sUsBC>*:not(.components-spinner){visibility:hidden}.zOVExsGAtu3qEPXi90gA.ZgSKxNOwc80Jci9sUsBC>.components-spinner{margin:0;position:absolute}.UIufD8FSQ4jmuUyoT8C2{margin-left:calc(var(--spacing-base)/2)}",""]),i.locals={button:"zOVExsGAtu3qEPXi90gA","is-icon-button":"LeZ9swgay3_IutOEDvA6",small:"hLhkVRHwk8NBz5iEbJRi",normal:"EDZJbVaYCITE2Rfk7M9w",icon:"nJ9PKanHLfnJSPjoI1Cw",regular:"D63ZAJR5_hiWANBMf4PK","full-width":"SKM87VLtnU7TyMLgZN7h",loading:"ZgSKxNOwc80Jci9sUsBC","external-icon":"UIufD8FSQ4jmuUyoT8C2"};const l=i}}]);})();
