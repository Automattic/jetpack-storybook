"use strict";(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[9430],{"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/stories/index.stories.tsx":(ee,L,e)=>{var l,u,C,z,f,p;e.r(L),e.d(L,{VideoHoverPreviewControlStory:()=>W,__namedExportsOrder:()=>m,_default:()=>G,default:()=>Z});var h=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),E=e("../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx"),R=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js"),H=`import React, { useState } from 'react';
import PosterPanel, { VideoHoverPreviewControl } from '..';

export default {
	title: 'Packages/VideoPress/Block Editor/Poster Panel',
	component: PosterPanel,
	argTypes: {},
};

const DefaultTemplate = args => {
	const [ attributes, setAttributes ] = React.useState( {
		poster: args.poster,
		videoRatio: args.videoRatio,
		guid: args.guid,
	} );

	const setAttributesHandler = newAttributes => {
		setAttributes( { ...attributes, ...newAttributes } );
	};

	return (
		<PosterPanel
			attributes={ attributes }
			setAttributes={ setAttributesHandler }
			isGeneratingPoster={ false }
		/>
	);
};

export const _default = DefaultTemplate.bind( {} );
_default.args = {
	poster: 'https://jetpackme.files.wordpress.com/2018/04/cropped-jetpack-favicon-2018.png',
	videoRatio: 60,
	guid: 'ezoR6kzb',
};

const VideoHoverPreviewControlTemplate = args => {
	const [ previewOnHover, setPreviewOnHover ] = useState( true );
	const [ , setPreviewAt ] = useState( args.previewAtTime );
	const [ , setLoopDuraton ] = useState( args.loopDuration );
	const setPreviewAtHandler = newPreviewAt => {
		setPreviewAt( newPreviewAt );
		console.log( { newPreviewAt } ); // eslint-disable-line no-console
	};

	return (
		<VideoHoverPreviewControl
			{ ...args }
			previewOnHover={ previewOnHover }
			onPreviewAtTimeChange={ setPreviewAtHandler }
			onLoopDurationChange={ setLoopDuraton }
			onPreviewOnHoverChange={ setPreviewOnHover }
		/>
	);
};

export const VideoHoverPreviewControlStory = VideoHoverPreviewControlTemplate.bind( {} );
VideoHoverPreviewControlStory.args = {
	previewAtTime: 0,
	loopDuration: 2300,
	videoDuration: 80000, // 80 seconds
};

VideoHoverPreviewControlStory.storyName = 'VideoHoverPreviewControl';
`,j={_default:{startLoc:{col:24,line:8},endLoc:{col:1,line:21},startBody:{col:24,line:8},endBody:{col:1,line:21}},VideoHoverPreviewControlStory:{startLoc:{col:41,line:28},endLoc:{col:1,line:39},startBody:{col:41,line:28},endBody:{col:1,line:39}}};const Z={parameters:{storySource:{source:`import React, { useState } from 'react';
import PosterPanel, { VideoHoverPreviewControl } from '..';
export default {
  title: 'Packages/VideoPress/Block Editor/Poster Panel',
  component: PosterPanel,
  argTypes: {}
};
const DefaultTemplate = args => {
  const [attributes, setAttributes] = React.useState({
    poster: args.poster,
    videoRatio: args.videoRatio,
    guid: args.guid
  });
  const setAttributesHandler = newAttributes => {
    setAttributes({
      ...attributes,
      ...newAttributes
    });
  };
  return <PosterPanel attributes={attributes} setAttributes={setAttributesHandler} isGeneratingPoster={false} />;
};
export const _default = DefaultTemplate.bind({});
_default.args = {
  poster: 'https://jetpackme.files.wordpress.com/2018/04/cropped-jetpack-favicon-2018.png',
  videoRatio: 60,
  guid: 'ezoR6kzb'
};
const VideoHoverPreviewControlTemplate = args => {
  const [previewOnHover, setPreviewOnHover] = useState(true);
  const [, setPreviewAt] = useState(args.previewAtTime);
  const [, setLoopDuraton] = useState(args.loopDuration);
  const setPreviewAtHandler = newPreviewAt => {
    setPreviewAt(newPreviewAt);
    console.log({
      newPreviewAt
    }); 
  };
  return <VideoHoverPreviewControl {...args} previewOnHover={previewOnHover} onPreviewAtTimeChange={setPreviewAtHandler} onLoopDurationChange={setLoopDuraton} onPreviewOnHoverChange={setPreviewOnHover} />;
};
export const VideoHoverPreviewControlStory = VideoHoverPreviewControlTemplate.bind({});
VideoHoverPreviewControlStory.args = {
  previewAtTime: 0,
  loopDuration: 2300,
  videoDuration: 80000 // 80 seconds
};
VideoHoverPreviewControlStory.storyName = 'VideoHoverPreviewControl';
_default.parameters = {
  ..._default.parameters,
  docs: {
    ..._default.parameters?.docs,
    source: {
      originalSource: "args => {\\n  const [attributes, setAttributes] = React.useState({\\n    poster: args.poster,\\n    videoRatio: args.videoRatio,\\n    guid: args.guid\\n  });\\n  const setAttributesHandler = newAttributes => {\\n    setAttributes({\\n      ...attributes,\\n      ...newAttributes\\n    });\\n  };\\n  return <PosterPanel attributes={attributes} setAttributes={setAttributesHandler} isGeneratingPoster={false} />;\\n}",
      ..._default.parameters?.docs?.source
    }
  }
};
VideoHoverPreviewControlStory.parameters = {
  ...VideoHoverPreviewControlStory.parameters,
  docs: {
    ...VideoHoverPreviewControlStory.parameters?.docs,
    source: {
      originalSource: "args => {\\n  const [previewOnHover, setPreviewOnHover] = useState(true);\\n  const [, setPreviewAt] = useState(args.previewAtTime);\\n  const [, setLoopDuraton] = useState(args.loopDuration);\\n  const setPreviewAtHandler = newPreviewAt => {\\n    setPreviewAt(newPreviewAt);\\n    console.log({\\n      newPreviewAt\\n    }); // eslint-disable-line no-console\\n  };\\n  return <VideoHoverPreviewControl {...args} previewOnHover={previewOnHover} onPreviewAtTimeChange={setPreviewAtHandler} onLoopDurationChange={setLoopDuraton} onPreviewOnHoverChange={setPreviewOnHover} />;\\n}",
      ...VideoHoverPreviewControlStory.parameters?.docs?.source
    }
  }
};`,locationsMap:{default:{startLoc:{col:24,line:8},endLoc:{col:1,line:21},startBody:{col:24,line:8},endBody:{col:1,line:21}},"video-hover-preview-control-story":{startLoc:{col:41,line:28},endLoc:{col:1,line:39},startBody:{col:41,line:28},endBody:{col:1,line:39}}}}},title:"Packages/VideoPress/Block Editor/Poster Panel",component:E.ZP,argTypes:{}},Y=S=>{const[I,O]=h.useState({poster:S.poster,videoRatio:S.videoRatio,guid:S.guid}),K=X=>{O({...I,...X})};return(0,R.jsx)(E.ZP,{attributes:I,setAttributes:K,isGeneratingPoster:!1})};Y.displayName="DefaultTemplate";const G=Y.bind({});G.args={poster:"https://jetpackme.files.wordpress.com/2018/04/cropped-jetpack-favicon-2018.png",videoRatio:60,guid:"ezoR6kzb"};const oe=S=>{const[I,O]=(0,h.useState)(!0),[,K]=(0,h.useState)(S.previewAtTime),[,X]=(0,h.useState)(S.loopDuration),pe=te=>{K(te),console.log({newPreviewAt:te})};return(0,R.jsx)(E.wj,{...S,previewOnHover:I,onPreviewAtTimeChange:pe,onLoopDurationChange:X,onPreviewOnHoverChange:O})};oe.displayName="VideoHoverPreviewControlTemplate";const W=oe.bind({});W.args={previewAtTime:0,loopDuration:2300,videoDuration:8e4},W.storyName="VideoHoverPreviewControl",G.parameters={...G.parameters,docs:{...(l=G.parameters)==null?void 0:l.docs,source:{originalSource:`args => {
  const [attributes, setAttributes] = React.useState({
    poster: args.poster,
    videoRatio: args.videoRatio,
    guid: args.guid
  });
  const setAttributesHandler = newAttributes => {
    setAttributes({
      ...attributes,
      ...newAttributes
    });
  };
  return <PosterPanel attributes={attributes} setAttributes={setAttributesHandler} isGeneratingPoster={false} />;
}`,...(C=(u=G.parameters)==null?void 0:u.docs)==null?void 0:C.source}}},W.parameters={...W.parameters,docs:{...(z=W.parameters)==null?void 0:z.docs,source:{originalSource:`args => {
  const [previewOnHover, setPreviewOnHover] = useState(true);
  const [, setPreviewAt] = useState(args.previewAtTime);
  const [, setLoopDuraton] = useState(args.loopDuration);
  const setPreviewAtHandler = newPreviewAt => {
    setPreviewAt(newPreviewAt);
    console.log({
      newPreviewAt
    }); // eslint-disable-line no-console
  };
  return <VideoHoverPreviewControl {...args} previewOnHover={previewOnHover} onPreviewAtTimeChange={setPreviewAtHandler} onLoopDurationChange={setLoopDuraton} onPreviewOnHoverChange={setPreviewOnHover} />;
}`,...(p=(f=W.parameters)==null?void 0:f.docs)==null?void 0:p.source}}};const m=["_default","VideoHoverPreviewControlStory"]},"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx":(ee,L,e)=>{var Ie;e.d(L,{wj:()=>ye,ZP:()=>Re});var h=e("../../../node_modules/.pnpm/@wordpress+block-editor@12.15.0_@types+react@18.2.33_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/block-editor/build-module/index.js"),E=e("../../../node_modules/.pnpm/@wordpress+components@25.13.0_@types+react@18.2.33_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/dropdown/index.js"),R=e("../../../node_modules/.pnpm/@wordpress+components@25.13.0_@types+react@18.2.33_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/button/index.js"),H=e("../../../node_modules/.pnpm/@wordpress+components@25.13.0_@types+react@18.2.33_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/navigable-container/menu.js"),j=e("../../../node_modules/.pnpm/@wordpress+components@25.13.0_@types+react@18.2.33_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/menu-item/index.js"),Z=e("../../../node_modules/.pnpm/@wordpress+components@25.13.0_@types+react@18.2.33_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/spinner/index.js"),Y=e("../../../node_modules/.pnpm/@wordpress+components@25.13.0_@types+react@18.2.33_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/sandbox/index.js"),G=e("../../../node_modules/.pnpm/@wordpress+components@25.13.0_@types+react@18.2.33_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/notice/index.js"),oe=e("../../../node_modules/.pnpm/@wordpress+components@25.13.0_@types+react@18.2.33_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/toggle-control/index.js"),W=e("../../../node_modules/.pnpm/@wordpress+components@25.13.0_@types+react@18.2.33_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/panel/body.js"),m=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),l=e("../../../node_modules/.pnpm/@wordpress+element@5.24.0/node_modules/@wordpress/element/build-module/create-interpolate-element.js"),u=e("../../../node_modules/.pnpm/@wordpress+i18n@4.47.0/node_modules/@wordpress/i18n/build-module/index.js"),C=e("../../../node_modules/.pnpm/@wordpress+icons@9.38.0_react@18.2.0/node_modules/@wordpress/icons/build-module/library/image.js"),z=e("../../../node_modules/.pnpm/@wordpress+icons@9.38.0_react@18.2.0/node_modules/@wordpress/icons/build-module/library/link-off.js"),f=e("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),p=e.n(f),S=e("../../packages/videopress/src/client/components/timestamp-control/index.tsx"),I=e("../../packages/videopress/src/client/lib/url/index.ts");function O(o){const s=Math.floor(o/36e5);let d=o-s*36e5;const r=Math.floor(d/6e4);d=d-r*6e4;const a=Math.floor(d/1e3);return[s,r,a].map(n=>n<10?`0${n}`:n).join(":")}const K="videopress-chapters-auto-generated";function X(o,s=3599999e3){const d=extractVideoChapters(o);if(d.length===0)return null;let r=`WEBVTT
`;r+=`
`,r+=`NOTE
`,r+=`${K}
`,r+=`This file was auto-generated based on Video description.
`,r+=`For more information, see https://jetpack.com/support/jetpack-videopress/jetpack-videopress-customizing-your-videos/#adding-subtitles-captions-or-chapters-within-a-video
`;let a=1;for(const[n,g]of d.entries()){const b=n===0?"000":"001",P=n<d.length-1?d[n+1].startAt:O(s);r+=`
${a++}
${g.startAt}.${b} --> ${P}.000
${g.title}
`}return r}function pe(o,s){const d=X(o,s);return d?new File([d],"chapters.vtt",{type:"text/vtt"}):null}var te=e("../../../node_modules/.pnpm/@wordpress+core-data@6.24.0_@types+react@18.2.33_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/core-data/build-module/index.js"),xe=e("../../../node_modules/.pnpm/@wordpress+data@9.17.0_react@18.2.0/node_modules/@wordpress/data/build-module/components/use-select/index.js");const ie={html:null,width:null,height:null,thumbnail_height:null,thumbnail_width:null,title:null,version:"1.0",type:"video",provider_name:"VideoPress",provider_url:"https://videopress.com"},he=o=>(0,xe.Z)(s=>o?{preview:s(te.h).getEmbedPreview(o)||ie,isRequestingEmbedPreview:s(te.h).isRequestingEmbedPreview(o)||!1}:{preview:ie,isRequestingEmbedPreview:!1},[o]);var de=e("../../../node_modules/.pnpm/@wordpress+compose@6.24.0_react@18.2.0/node_modules/@wordpress/compose/build-module/hooks/use-previous/index.js"),le=e("../../../node_modules/.pnpm/debug@4.3.4/node_modules/debug/src/browser.js"),je=e.n(le);const i=je()("videopress:use-video-player"),_=o=>{var d;const s=(d=o==null?void 0:o.current)==null?void 0:d.querySelector("iframe.components-sandbox");return s==null?void 0:s.contentWindow},v=(o,s,{initialTimePosition:d,wrapperElement:r,previewOnHover:a})=>{const[n,g]=(0,m.useState)(!1),b=(0,m.useRef)("not-rendered");function P(N){const{data:J={},source:ae}=N,{event:q}=(N==null?void 0:N.data)||{};if(q==="videopress_loading_state"&&J.state==="loaded"&&(i("state: loaded"),b.current="loaded"),q==="videopress_playing"&&b.current==="loaded"&&(b.current="first-play",i("state: first-play detected"),a&&(i("pause video"),ae.postMessage({event:"videopress_action_pause"},{targetOrigin:"*"}),typeof d!="undefined"&&(i("set position at time %o ",d),ae.postMessage({event:"videopress_action_set_currenttime",currentTime:d/1e3},{targetOrigin:"*"}))),g(!0),b.current="ready"),q==="videopress_timeupdate"&&a){const Pe=J.currentTimeMs,we=a.atTime,V=a.atTime+a.duration;(Pe<we||Pe>V)&&ae.postMessage({event:"videopress_action_set_currenttime",currentTime:we/1e3},{targetOrigin:"*"})}}const x=!!a,U=(0,de.Z)(x),Q=x&&!U,c=_(o);(0,m.useEffect)(()=>{const N=_(o);if(N&&!s)return i("player is ready to listen events"),N.addEventListener("message",P),()=>{N.removeEventListener("message",P)}},[o,s,Q,a]);const k=(0,m.useCallback)(()=>{!c||!n||c.postMessage({event:"videopress_action_play"},"*")},[o,n,c]),re=(0,m.useCallback)(()=>{!c||!n||c.postMessage({event:"videopress_action_pause"},"*")},[o,n,c]);return(0,m.useEffect)(()=>{if(!(!r||!x))return r.addEventListener("mouseenter",k),r.addEventListener("mouseleave",re),()=>{r.removeEventListener("mouseenter",k),r.removeEventListener("mouseleave",re)}},[x,r,n]),(0,m.useEffect)(()=>{!n||!a||c&&c.postMessage({event:"videopress_action_set_currenttime",currentTime:a.atTime/1e3},{targetOrigin:"*"})},[a==null?void 0:a.atTime,n,c]),(0,m.useEffect)(()=>{!n||!a||c&&c.postMessage({event:"videopress_action_set_currenttime",currentTime:(a.atTime+a.duration)/1e3},{targetOrigin:"*"})},[a==null?void 0:a.duration,n,c]),{playerIsReady:n,play:k,pause:re}},D=null,w=["image"];var T=e("../../../node_modules/.pnpm/@wordpress+components@25.13.0_@types+react@18.2.33_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/toolbar/toolbar-button/index.js"),ce=e("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),ue=e.n(ce),se=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/style.scss"),$={};$.insert="head",$.singleton=!1;var M=ue()(se.Z,$);const me=se.Z.locals||{};var t=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const F=u.__;function ne({poster:o,className:s}){const d=(0,l.Z)(F("No custom Poster image selected.<help>You can upload or select an image from your media library to override the default video image.</help>","jetpack-videopress-pkg"),{help:(0,t.jsx)("p",{className:"poster-panel-control__help"})}),r=(0,l.Z)(F("You are currently overriding the default Poster image.<help>Remove it if you want to use the default image generated by VideoPress.</help>","jetpack-videopress-pkg"),{help:(0,t.jsx)("p",{className:"poster-panel-control__help"})});return(0,t.jsx)("div",{className:s,children:o?r:d})}ne.displayName="VideoPosterCard";function ke({attributes:o,setAttributes:s,clientId:d}){const{poster:r}=o,a=g=>{s({poster:g.url})},n=()=>{s({poster:""})};return(0,t.jsx)(E.Z,{contentClassName:"dropdown-content",renderToggle:({isOpen:g,onToggle:b})=>(0,t.jsx)(T.Z,{label:F("Poster image","jetpack-videopress-pkg"),showTooltip:!0,"aria-expanded":g,"aria-haspopup":"true",onClick:b,icon:C.Z}),renderContent:({onClose:g})=>{const b=`video-block__poster-image-description-${d}`;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(H.ZP,{className:"poster-image-block-control__wrapper",children:[(0,t.jsx)(h.VA,{children:(0,t.jsx)(h.R,{title:F("Select Poster Image","jetpack-videopress-pkg"),onSelect:P=>{a(P),g()},allowedTypes:w,render:({open:P})=>(0,t.jsxs)(j.Z,{icon:C.Z,onClick:P,"aria-describedby":b,children:[F("Open Media Library","jetpack-videopress-pkg"),(0,t.jsx)("p",{id:b,hidden:!0,children:r?(0,u.gB)(F("The current poster image url is %s","jetpack-videopress-pkg"),r):F("There is no poster image currently selected","jetpack-videopress-pkg")})]})})}),(0,t.jsx)(ne,{poster:r,className:"current-media"}),!!r&&(0,t.jsx)(j.Z,{className:"poster-image-block-control__remove-button",variant:"tertiary",isDestructive:!0,onClick:()=>{n(),g()},icon:z.Z,children:F("Remove and use default","jetpack-videopress-pkg")})]})})}})}ke.displayName="PosterImageBlockControl";try{ne.displayName="VideoPosterCard",ne.__docgenInfo={description:"Simple component that renders info about video poster.",displayName:"VideoPosterCard",props:{poster:{defaultValue:null,description:"",name:"poster",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/index.tsx#VideoPosterCard"]={docgenInfo:ne.__docgenInfo,name:"VideoPosterCard",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/index.tsx#VideoPosterCard"})}catch(o){}try{posterimageblockcontrol.displayName="posterimageblockcontrol",posterimageblockcontrol.__docgenInfo={description:"Poster image control react component.",displayName:"posterimageblockcontrol",props:{attributes:{defaultValue:null,description:"Block Attributes object.",name:"attributes",required:!0,type:{name:"VideoBlockAttributes"}},setAttributes:{defaultValue:null,description:"",name:"setAttributes",required:!0,type:{name:"VideoBlockSetAttributesProps"}},clientId:{defaultValue:null,description:"",name:"clientId",required:!1,type:{name:"string"}},privateEnabledForSite:{defaultValue:null,description:"",name:"privateEnabledForSite",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/index.tsx#posterimageblockcontrol"]={docgenInfo:posterimageblockcontrol.__docgenInfo,name:"posterimageblockcontrol",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/index.tsx#posterimageblockcontrol"})}catch(o){}var ge=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/style.scss"),_e={};_e.insert="head",_e.singleton=!1;var Ae=ue()(ge.Z,_e);const B=ge.Z.locals||{},A=u.__,Se=3*1e3,Te=10*1e3,Ee=5*1e3,Oe=()=>{var o,s;return!!((s=(o=window==null?void 0:window.Jetpack_Editor_Initial_State)==null?void 0:o.available_blocks)!=null&&s["v6-video-frame-poster"])},Ce=[];if(window.videopressAjax){const o=new Blob([`var videopressAjax = ${JSON.stringify({...window.videopressAjax,context:"sandbox"})};`],{type:"text/javascript"});Ce.push(URL.createObjectURL(o),window.videopressAjax.bridgeUrl)}(Ie=window==null?void 0:window.videoPressEditorState)!=null&&Ie.playerBridgeUrl&&Ce.push(window.videoPressEditorState.playerBridgeUrl);function fe({clientId:o,attributes:s,setAttributes:d}){const r=`video-block__poster-image-description-${o}`,{poster:a}=s,n=(0,m.useCallback)(c=>{d({poster:c.url,posterData:{...s.posterData,type:"media-library",id:c.id,url:c.url}})},[s]),g=A("Select Poster Image","jetpack-videopress-pkg"),b=A("Replace Poster Image","jetpack-videopress-pkg"),P=(0,m.useRef)(null),x=Number(s==null?void 0:s.videoRatio)/100||9/16,[U,Q]=(0,m.useState)(140);return(0,m.useEffect)(()=>{if(!a||!(P!=null&&P.current))return;const{current:c}=P,k=c==null?void 0:c.offsetWidth;k&&Q(k*x)},[a,P,x]),(0,t.jsx)(E.Z,{contentClassName:"poster-panel__dropdown",placement:"top left",renderToggle:({isOpen:c,onToggle:k})=>(0,t.jsx)(R.ZP,{ref:P,style:{backgroundImage:a?`url(${a})`:void 0,height:U,minHeight:U},className:`poster-panel__button ${a?"has-poster":""}`,variant:"secondary",onClick:k,"aria-expanded":c,children:(0,t.jsx)("span",{children:a?b:g})}),renderContent:({onClose:c})=>(0,t.jsx)(H.ZP,{className:"block-editor-media-replace-flow__media-upload-menu",children:(0,t.jsx)(h.VA,{children:(0,t.jsx)(h.R,{title:A("Select Poster Image","jetpack-videopress-pkg"),onSelect:k=>{n(k),c()},allowedTypes:w,render:({open:k})=>(0,t.jsxs)(j.Z,{icon:C.Z,onClick:k,"aria-describedby":r,children:[A("Open Media Library","jetpack-videopress-pkg"),(0,t.jsx)("p",{id:r,hidden:!0,children:a?(0,u.gB)(A("The current poster image url is %s","jetpack-videopress-pkg"),a):A("There is no poster image currently selected","jetpack-videopress-pkg")})]})})})})})}fe.displayName="PosterDropdown";const be=o=>{var d;const s=(d=o==null?void 0:o.current)==null?void 0:d.querySelector("iframe.components-sandbox");return s==null?void 0:s.contentWindow};function Ve({guid:o,isGeneratingPoster:s,atTime:d=.1,onVideoFrameSelect:r,duration:a}){const[n,g]=(0,m.useState)(d),b=(0,m.useRef)(null),P=(0,I.pg)(o,{autoplay:!0,muted:!0,controls:!1,loop:!1}),{preview:x={html:null},isRequestingEmbedPreview:U}=he(P),{html:Q}=x,{playerIsReady:c,pause:k}=v(b,U,{initialTimePosition:d});(0,m.useEffect)(()=>{c&&k()},[c,k]);const re=(0,m.useCallback)(N=>{const J=be(b);J==null||J.postMessage({event:"videopress_action_set_currenttime",currentTime:N/1e3}),r(N)},[be,r]);return(0,t.jsxs)("div",{className:"poster-panel__frame-picker",children:[(0,t.jsxs)("div",{ref:b,className:p()("poster-panel__frame-picker__sandbox-wrapper",{"is-player-ready":c,"is-generating-poster":s}),children:[(!c||s)&&(0,t.jsx)(Z.ZP,{}),(0,t.jsx)(Y.Z,{html:Q,scripts:Ce})]}),s&&(0,t.jsx)(G.Z,{status:"info",className:"poster-panel__notice",isDismissible:!1,children:A("Generating video poster image. It may take a few seconds.","jetpack-videopress-pkg")}),(0,t.jsx)(S.ZP,{label:A("Video frame","jetpack-videopress-pkg"),help:A("Select the frame you want to use as poster image","jetpack-videopress-pkg"),disabled:U||s,max:a,value:n,wait:250,fineAdjustment:50,onChange:g,onDebounceChange:re})]})}Ve.displayName="VideoFramePicker";function ye({previewOnHover:o=!1,previewAtTime:s=0,loopDuration:d=Ee,videoDuration:r,onPreviewOnHoverChange:a,onPreviewAtTimeChange:n,onLoopDurationChange:g}){const b=!r,P=Math.max(r-Se,0),[x,U]=(0,m.useState)(Math.min(Te,r-s)),Q=(x/10|0)/100,c=(0,l.Z)((0,u.gB)(A("Video duration: <em>%s</em>.","jetpack-videopress-pkg"),O(r)),{em:(0,t.jsx)("em",{})}),k=(0,l.Z)((0,u.gB)(A("Minimum: <em>%1$ss</em>. Maximum: <em>%2$ss</em>.","jetpack-videopress-pkg"),Math.min(Se/1e3,Q),Q),{em:(0,t.jsx)("em",{})}),re=P===0,N=x<=Se,J=(0,m.useCallback)(ae=>{n(ae);const q=Math.min(Te,r-ae);U(q),d>q&&g(q)},[n,r,d,g]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(oe.Z,{className:"poster-panel__preview-toggle",label:A("Video preview on hover","jetpack-videopress-pkg"),checked:o,onChange:a,disabled:!o&&b}),o&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(S.ZP,{label:A("Starting point","jetpack-videopress-pkg"),max:P,fineAdjustment:50,value:s,onDebounceChange:J,wait:300,disabled:b||re,help:c}),(0,t.jsx)(S.ZP,{max:x,min:Se,fineAdjustment:50,label:A("Loop duration","jetpack-videopress-pkg"),value:d,onDebounceChange:g,wait:300,help:k,disabled:b||N,marksEvery:1e3})]})]})}function Re({attributes:o,setAttributes:s,isGeneratingPoster:d,videoBelongToSite:r}){var q,Pe,we;const{poster:a,posterData:n}=o,g=o==null?void 0:o.duration,b=(n==null?void 0:n.type)==="video-frame",P=(n==null?void 0:n.previewOnHover)||!1,x=(Pe=(q=n==null?void 0:n.previewAtTime)!=null?q:n==null?void 0:n.atTime)!=null?Pe:0;let U=(we=n==null?void 0:n.previewLoopDuration)!=null?we:Ee;U>g-x&&(U=g-x);const Q=()=>{s({poster:"",posterData:{...o.posterData,url:""}})},c=(0,m.useCallback)(V=>{s({posterData:{...o.posterData,type:V?"video-frame":"media-library"},poster:V?"":o.posterData.url||""})},[o]),k=(0,m.useCallback)(V=>{let ve={...o.posterData,previewOnHover:V};V&&(ve={previewAtTime:x,previewLoopDuration:U,...ve}),s({posterData:ve,controls:V?!1:o.controls})},[o]),re=(0,m.useCallback)(V=>{s({posterData:{...o.posterData,previewAtTime:V}})},[o]),N=(0,m.useCallback)(V=>{let ve=x;x+V>g&&(ve=g-V),s({posterData:{...o.posterData,previewLoopDuration:V,previewAtTime:ve}})},[o]),J=V=>{s({posterData:{...o.posterData,type:"video-frame",atTime:V},poster:""})},ae=Oe()?A("Poster and preview","jetpack-videopress-pkg"):A("Poster","jetpack-videopress-pkg");return(0,t.jsxs)(W.ZP,{title:ae,className:"poster-panel",initialOpen:!1,children:[(0,t.jsx)(oe.Z,{label:A("Pick from video frame","jetpack-videopress-pkg"),checked:b&&r,onChange:c,disabled:!r}),(0,t.jsx)("div",{className:p()("poster-panel__frame-wrapper",{"is-selected":b}),children:(0,t.jsx)(Ve,{isGeneratingPoster:d,guid:o==null?void 0:o.guid,atTime:n==null?void 0:n.atTime,duration:g,onVideoFrameSelect:J})}),(0,t.jsxs)("div",{className:p()("poster-panel__image-wrapper",{"is-selected":!b}),children:[(0,t.jsx)(fe,{attributes:o,setAttributes:s}),(0,t.jsx)(ne,{poster:a,className:"poster-panel-card"}),a&&(0,t.jsx)(j.Z,{onClick:Q,icon:z.Z,isDestructive:!0,variant:"tertiary",children:A("Remove and use default","jetpack-videopress-pkg")})]}),Oe()&&(0,t.jsx)(ye,{previewOnHover:P,previewAtTime:x,loopDuration:U,videoDuration:g,onPreviewOnHoverChange:k,onPreviewAtTimeChange:re,onLoopDurationChange:N})]})}Re.displayName="PosterPanel";try{fe.displayName="PosterDropdown",fe.__docgenInfo={description:"Sidebar Control component.",displayName:"PosterDropdown",props:{attributes:{defaultValue:null,description:"Block Attributes object.",name:"attributes",required:!0,type:{name:"VideoBlockAttributes"}},setAttributes:{defaultValue:null,description:"",name:"setAttributes",required:!0,type:{name:"VideoBlockSetAttributesProps"}},clientId:{defaultValue:null,description:"",name:"clientId",required:!1,type:{name:"string"}},privateEnabledForSite:{defaultValue:null,description:"",name:"privateEnabledForSite",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#PosterDropdown"]={docgenInfo:fe.__docgenInfo,name:"PosterDropdown",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#PosterDropdown"})}catch(o){}try{ye.displayName="VideoHoverPreviewControl",ye.__docgenInfo={description:"React component to select the video preview options when the user hovers the video",displayName:"VideoHoverPreviewControl",props:{previewOnHover:{defaultValue:{value:"false"},description:"",name:"previewOnHover",required:!1,type:{name:"boolean"}},previewAtTime:{defaultValue:{value:"0"},description:"",name:"previewAtTime",required:!1,type:{name:"number"}},loopDuration:{defaultValue:{value:"5 * 1000"},description:"",name:"loopDuration",required:!1,type:{name:"number"}},videoDuration:{defaultValue:null,description:"",name:"videoDuration",required:!0,type:{name:"number"}},onPreviewOnHoverChange:{defaultValue:null,description:"",name:"onPreviewOnHoverChange",required:!0,type:{name:"(previewOnHover: boolean) => void"}},onPreviewAtTimeChange:{defaultValue:null,description:"",name:"onPreviewAtTimeChange",required:!0,type:{name:"(timestamp: number) => void"}},onLoopDurationChange:{defaultValue:null,description:"",name:"onLoopDurationChange",required:!0,type:{name:"(duration: number) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#VideoHoverPreviewControl"]={docgenInfo:ye.__docgenInfo,name:"VideoHoverPreviewControl",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#VideoHoverPreviewControl"})}catch(o){}try{posterpanel.displayName="posterpanel",posterpanel.__docgenInfo={description:"Sidebar Control component.",displayName:"posterpanel",props:{attributes:{defaultValue:null,description:"Block Attributes object.",name:"attributes",required:!0,type:{name:"VideoBlockAttributes"}},setAttributes:{defaultValue:null,description:"",name:"setAttributes",required:!0,type:{name:"VideoBlockSetAttributesProps"}},clientId:{defaultValue:null,description:"",name:"clientId",required:!1,type:{name:"string"}},privateEnabledForSite:{defaultValue:null,description:"",name:"privateEnabledForSite",required:!1,type:{name:"boolean"}},isGeneratingPoster:{defaultValue:null,description:"",name:"isGeneratingPoster",required:!1,type:{name:"boolean"}},videoBelongToSite:{defaultValue:null,description:"",name:"videoBelongToSite",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#posterpanel"]={docgenInfo:posterpanel.__docgenInfo,name:"posterpanel",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#posterpanel"})}catch(o){}try{be.displayName="getIframeWindowFromRef",be.__docgenInfo={description:`Return the (content) Window object of the iframe,
given the iframe's ref.`,displayName:"getIframeWindowFromRef",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#getIframeWindowFromRef"]={docgenInfo:be.__docgenInfo,name:"getIframeWindowFromRef",path:"../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/index.tsx#getIframeWindowFromRef"})}catch(o){}},"../../packages/videopress/src/client/components/timestamp-control/index.tsx":(ee,L,e)=>{e.d(L,{ZP:()=>je});var h=e("../../../node_modules/.pnpm/@wordpress+components@25.13.0_@types+react@18.2.33_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/base-control/index.js"),E=e("../../../node_modules/.pnpm/@wordpress+components@25.13.0_@types+react@18.2.33_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/base-control/hooks.js"),R=e("../../../node_modules/.pnpm/@wordpress+components@25.13.0_@types+react@18.2.33_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/number-control/index.js"),H=e("../../../node_modules/.pnpm/@wordpress+components@25.13.0_@types+react@18.2.33_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/text-control/index.js"),j=e("../../../node_modules/.pnpm/@wordpress+components@25.13.0_@types+react@18.2.33_react-dom@18.2.0_react@18.2.0/node_modules/@wordpress/components/build-module/range-control/index.js"),Z=e("../../../node_modules/.pnpm/@wordpress+compose@6.24.0_react@18.2.0/node_modules/@wordpress/compose/build-module/hooks/use-instance-id/index.js"),Y=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),G=e("../../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),oe=e.n(G);function W(i){const _=Math.floor(i/36e5),y=Math.floor(i/6e4)%60,v=Math.floor(i/1e3)%60,D=Math.floor(i/10)%100;return[_>0?_.toString().padStart(2,"0")+":":"",_>0||y>0?y.toString().padStart(2,"0")+":":"",v.toString().padStart(2,"0"),"."+D.toString().padStart(2,"0")].join("")}var m=e("../../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.76.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),l=e.n(m),u=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/components/timestamp-control/style.module.scss"),C={};C.insert="head",C.singleton=!1;var z=l()(u.Z,C);const f=u.Z.locals||{};var p=e("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function S(i){const{help:_,id:y,...v}=i,D=(0,Z.Z)(h.ZP,"wp-components-base-control",y),w=typeof _=="string"?"aria-describedby":"aria-details";return{baseControlProps:{id:D,help:_,...v},controlProps:{id:D,..._?{[w]:`${D}__help`}:{}}}}const I=E.u||S,O=i=>{if(R.Z)return(0,p.jsx)(R.Z,{...i});const _={...i};return["spinControls","isPressEnterToChange","isDragEnabled","isShiftStepEnabled","__unstableStateReducer"].forEach(y=>delete _[y]),(0,p.jsx)(H.Z,{..._})};O.displayName="NumberControl";const K=({char:i=":"})=>(0,p.jsx)("span",{className:f["timestamp-control-divider"],children:i});K.displayName="TimeDivider";const X="CHANGE",pe="COMMIT",te="PRESS_DOWN",xe="PRESS_UP",ie=i=>(_,y)=>{const v={..._};return(y.type===pe||y.type===xe||y.type===te||y.type===X)&&v.value!==void 0&&(v.value=v.value.toString().padStart(i,"0")),v};function he(i,_,y){i>y&&(i=y);const v=Number.isNaN(i),D=v||typeof _=="undefined"?0:Math.floor(i%1e3/+`1e${3-_}`);return{hh:v?0:Math.floor(i/(1e3*60*60)%24),mm:v?0:Math.floor(i/(1e3*60)%60),ss:v?0:Math.floor(i/1e3%60),decimal:D}}const de=({onChange:i,disabled:_,value:y,max:v,autoHideTimeInput:D=!0,decimalPlaces:w})=>{const T={value:he(y,w,v)},ce=v>60*60*1e3,ue=v>60*1e3,se=$=>M=>{if(typeof M=="string"&&!isNaN(parseInt(M,10))&&(M=parseInt(M,10)),$==="hh"&&M>99||($==="mm"||$==="ss")&&M>59||$==="decimal"&&M>+`1e${w}`-1||typeof M=="string")return;T.value={...he(y,w,v),[$]:M};const me=T.value.decimal?T.value.decimal*+`1e${3-w}`:0;i==null||i((T.value.hh*3600+T.value.mm*60+T.value.ss)*1e3+me)};return(0,p.jsxs)("div",{className:oe()(f["timestamp-input-wrapper"],{[f["is-disabled"]]:_}),children:[(ce||!D)&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(O,{className:f["timestamp-control-input"],disabled:_,min:0,max:99,step:1,hideLabelFromVision:!0,spinControls:"none",placeholder:"00",isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,__unstableStateReducer:ie(2),value:String(T.value.hh).padStart(2,"0"),onChange:se("hh")}),(0,p.jsx)(K,{})]}),(ue||!D)&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(O,{className:f["timestamp-control-input"],disabled:_,min:0,max:59,step:1,hideLabelFromVision:!0,spinControls:"none",placeholder:"00",isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,__unstableStateReducer:ie(2),value:String(T.value.mm).padStart(2,"0"),onChange:se("mm")}),(0,p.jsx)(K,{})]}),(0,p.jsx)(O,{className:f["timestamp-control-input"],disabled:_,min:0,max:59,step:1,hideLabelFromVision:!0,spinControls:"none",placeholder:"00",isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,__unstableStateReducer:ie(2),value:String(T.value.ss).padStart(2,"0"),onChange:se("ss")}),w&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(K,{char:"."}),(0,p.jsx)(O,{className:f["timestamp-control-input"],style:{"--input-width":`${12*w}px`},disabled:_,min:0,max:Number("9".repeat(w)),step:1,hideLabelFromVision:!0,spinControls:"none",placeholder:"0".repeat(w),isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,__unstableStateReducer:ie(w),value:String(T.value.decimal).padStart(w,"0"),onChange:se("decimal")})]})]})};de.displayName="TimestampInput";const le=i=>{const{disabled:_=!1,min:y=0,max:v=Number.MAX_SAFE_INTEGER,value:D,onChange:w,onDebounceChange:T,wait:ce=1e3,fineAdjustment:ue=50,autoHideTimeInput:se=!0,decimalPlaces:$,marksEvery:M,renderTooltip:me}=i,t=(0,Y.useRef)(),[F,ne]=(0,Y.useState)(D);(0,Y.useEffect)(()=>{ne(D)},[D]);const{baseControlProps:ke}=(I==null?void 0:I(i))||{},ge=(0,Y.useCallback)(B=>{clearTimeout(t==null?void 0:t.current),B>v&&(B=v),B<y&&(B=y),ne(B),w==null||w(B),t.current=setTimeout(T==null?void 0:T.bind(null,B),ce)},[T,w,v,y,ce]),_e=[];if(M)for(let B=y;B<=v;B+=M)_e.push({value:B,label:null});const Ae=typeof me=="function"?me:B=>W(B);return(0,p.jsx)(h.ZP,{...ke,children:(0,p.jsxs)("div",{className:f["timestamp-control__controls-wrapper"],children:[O&&(0,p.jsx)(de,{disabled:_,max:v,value:F,onChange:ge,autoHideTimeInput:se,decimalPlaces:$}),(0,p.jsx)(j.Z,{disabled:_,className:f["timestamp-range-control"],min:y,step:ue,initialPosition:F,value:F,max:v,withInputField:!1,onChange:ge,marks:M?_e:void 0,renderTooltipContent:Ae,...me===!1?{showTooltip:!1}:{}})]})})};le.displayName="TimestampControl";const je=le;try{de.displayName="TimestampInput",de.__docgenInfo={description:"",displayName:"TimestampInput",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},fineAdjustment:{defaultValue:null,description:"",name:"fineAdjustment",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(ms: number) => void"}},autoHideTimeInput:{defaultValue:{value:"true"},description:"",name:"autoHideTimeInput",required:!1,type:{name:"boolean"}},decimalPlaces:{defaultValue:null,description:"",name:"decimalPlaces",required:!1,type:{name:"enum",value:[{value:"1"},{value:"2"},{value:"3"}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/components/timestamp-control/index.tsx#TimestampInput"]={docgenInfo:de.__docgenInfo,name:"TimestampInput",path:"../../packages/videopress/src/client/components/timestamp-control/index.tsx#TimestampInput"})}catch(i){}try{le.displayName="TimestampControl",le.__docgenInfo={description:"TimestampControl component",displayName:"TimestampControl",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},fineAdjustment:{defaultValue:null,description:"",name:"fineAdjustment",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(ms: number) => void"}},autoHideTimeInput:{defaultValue:{value:"true"},description:"",name:"autoHideTimeInput",required:!1,type:{name:"boolean"}},decimalPlaces:{defaultValue:null,description:"",name:"decimalPlaces",required:!1,type:{name:"enum",value:[{value:"1"},{value:"2"},{value:"3"}]}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},help:{defaultValue:null,description:"",name:"help",required:!1,type:{name:"ReactNode"}},wait:{defaultValue:null,description:"",name:"wait",required:!1,type:{name:"number"}},marksEvery:{defaultValue:null,description:"",name:"marksEvery",required:!1,type:{name:"number"}},renderTooltip:{defaultValue:null,description:"",name:"renderTooltip",required:!1,type:{name:"boolean"}},onDebounceChange:{defaultValue:null,description:"",name:"onDebounceChange",required:!1,type:{name:"(ms: number) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/components/timestamp-control/index.tsx#TimestampControl"]={docgenInfo:le.__docgenInfo,name:"TimestampControl",path:"../../packages/videopress/src/client/components/timestamp-control/index.tsx#TimestampControl"})}catch(i){}try{timestampcontrol.displayName="timestampcontrol",timestampcontrol.__docgenInfo={description:"TimestampControl component",displayName:"timestampcontrol",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},fineAdjustment:{defaultValue:null,description:"",name:"fineAdjustment",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(ms: number) => void"}},autoHideTimeInput:{defaultValue:{value:"true"},description:"",name:"autoHideTimeInput",required:!1,type:{name:"boolean"}},decimalPlaces:{defaultValue:null,description:"",name:"decimalPlaces",required:!1,type:{name:"enum",value:[{value:"1"},{value:"2"},{value:"3"}]}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},help:{defaultValue:null,description:"",name:"help",required:!1,type:{name:"ReactNode"}},wait:{defaultValue:null,description:"",name:"wait",required:!1,type:{name:"number"}},marksEvery:{defaultValue:null,description:"",name:"marksEvery",required:!1,type:{name:"number"}},renderTooltip:{defaultValue:null,description:"",name:"renderTooltip",required:!1,type:{name:"boolean"}},onDebounceChange:{defaultValue:null,description:"",name:"onDebounceChange",required:!1,type:{name:"(ms: number) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["../../packages/videopress/src/client/components/timestamp-control/index.tsx#timestampcontrol"]={docgenInfo:timestampcontrol.__docgenInfo,name:"timestampcontrol",path:"../../packages/videopress/src/client/components/timestamp-control/index.tsx#timestampcontrol"})}catch(i){}},"../../packages/videopress/src/client/lib/url/index.ts":(ee,L,e)=>{e.d(L,{Iz:()=>oe,pg:()=>H});var h=e("../../../node_modules/.pnpm/@wordpress+url@3.48.0/node_modules/@wordpress/url/build-module/add-query-args.js");const E=null,R={autoPlay:"autoplay",cover:"cover",controls:"controls",hd:"hd",loop:"loop",muted:"muted",persistVolume:"persistVolume",playsinline:"playsinline",posterUrl:"poster",preloadContent:"preload",sbc:"seekbarColor",sbpc:"seekbarPlayedColor",sblc:"seekbarLoadingColor",resizeToParent:"resizeToParent",useAverageColor:"useAverageColor"},H=(l,{autoplay:u,controls:C,loop:z,muted:f,playsinline:p,poster:S,preload:I,seekbarColor:O,seekbarPlayedColor:K,seekbarLoadingColor:X,useAverageColor:pe})=>{if(!l)return null;const te={resizeToParent:!0,cover:!0,...u&&{autoPlay:!0},...!C&&{controls:!1},...z&&{loop:!0},...f&&{muted:!0,persistVolume:!1},...p&&{playsinline:!0},...S&&{posterUrl:S},...I!==""&&{preloadContent:I},...O!==""&&{sbc:O},...K!==""&&{sbpc:K},...X!==""&&{sblc:X},...pe&&{useAverageColor:!0}};return(0,h.f)(`https://videopress.com/v/${l}`,te)},j=l=>{var C;if(!l||typeof l!="string")return null;const u=l.match(/^https?:\/\/(?<host>video(?:\.word|s\.files\.word)?press\.com)(?:\/v|\/embed)?\/(?<guid>[a-zA-Z\d]{8})/);return(C=u==null?void 0:u.groups)!=null&&C.guid?u.groups.guid:null};function Z(l){const u=l.match(/^[a-zA-Z\d]{8}$/);return u?u[0]:!1}function Y(l,u){if(Z(l))return u?{url:H(l,u),guid:l}:{url:`https://videopress.com/v/${l}`,guid:l};const z=j(l);return z?{url:l,guid:z}:{}}const G=l=>l.replace(/\.[^/.]+$/,"");function oe(l,u){return u?`https://video.wordpress.com/v/${l}`:`https://videopress.com/v/${l}`}function W(l){return/^https?:\/\/(?:(?:v(?:ideo)?\.wordpress\.com|videopress\.com)\/(?:v|embed)|v\.wordpress\.com)\/([a-z\d]{8})(\/|\b)/i.test(l)}function m(l){let u;try{u=new URLSearchParams(new URL(l).search)}catch(f){return{}}const C=f=>f==="1"||f==="true"?!0:f==="0"||f==="false"?!1:null;return E.reduce((f,p)=>{const S=u.get(p);if(S!==null){const I=R[p];f[I]=["autoPlay","cover","controls","hd","loop","muted","persistVolume","playsinline","resizeToParent","useAverageColor"].includes(p)?C(S):S}return f},{})}},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/block-editor/blocks/video/components/poster-image-block-control/style.scss":(ee,L,e)=>{e.d(L,{Z:()=>Z});var h=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),E=e.n(h),R=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),H=e.n(R),j=H()(E());j.push([ee.id,".modal-open .dropdown-content{display:none}.current-media{border-top:1px solid #1e1e1e;margin-top:8px;margin-right:-8px;margin-left:-8px;padding:16px 16px 0}.poster-image-block-control__wrapper .poster-panel-control__help{margin-bottom:0}.poster-image-block-control__remove-button.poster-image-block-control__remove-button{padding-left:12px;padding-right:12px}",""]);const Z=j},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/block-editor/blocks/video/components/poster-panel/style.scss":(ee,L,e)=>{e.d(L,{Z:()=>Z});var h=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),E=e.n(h),R=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),H=e.n(R),j=H()(E());j.push([ee.id,"body.modal-open .poster-panel__dropdown{display:none}.poster-panel .components-dropdown{width:100%;display:flex}.poster-panel .components-dropdown .poster-panel__button{width:100%;display:block;text-align:center;border-radius:2px;min-height:140px;max-height:512px;background-color:#fafafa;background-size:cover;background-position:center center}.poster-panel .components-dropdown .poster-panel__button.has-poster span{display:none}.poster-panel .components-dropdown .poster-panel__button:hover{background-image:none !important}.poster-panel .components-dropdown .poster-panel__button:hover span{display:inline}.poster-panel__notice{margin-left:0;margin-right:0;margin-bottom:16px}.poster-panel-control__help{font-size:12px;font-style:normal;color:#757575}.poster-panel-card{margin-top:24px;margin-right:-8px;margin-left:-8px;padding-left:16px;padding-right:16px}.poster-panel__frame-picker__sandbox-wrapper{margin-bottom:8px;position:relative;background-color:#fafafa}.poster-panel__frame-picker__sandbox-wrapper .components-spinner{margin:0;width:32px;height:32px;position:absolute;z-index:100;top:50%;left:50%;transform:translate(-50%, -50%)}.poster-panel__frame-picker__sandbox-wrapper .components-sandbox{opacity:.1;transition:opacity 300ms ease-in-out;transition-delay:50ms}.poster-panel__frame-picker__sandbox-wrapper:not(.is-player-ready){aspect-ratio:16/9}.poster-panel__frame-picker__sandbox-wrapper.is-player-ready .components-sandbox{opacity:1}.poster-panel__frame-picker__sandbox-wrapper.is-generating-poster .components-sandbox{opacity:.5}.poster-panel__image-wrapper,.poster-panel__frame-wrapper{opacity:0;display:none}.poster-panel__image-wrapper.is-selected,.poster-panel__frame-wrapper.is-selected{opacity:1;display:block}.poster-panel__preview-toggle{margin-top:24px}",""]);const Z=j},"../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/cjs.js!../../../node_modules/.pnpm/postcss-loader@6.2.0_postcss@8.4.31_webpack@5.76.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../../node_modules/.pnpm/sass-loader@12.4.0_sass@1.64.1_webpack@5.76.0/node_modules/sass-loader/dist/cjs.js!../../packages/videopress/src/client/components/timestamp-control/style.module.scss":(ee,L,e)=>{e.d(L,{Z:()=>Z});var h=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/noSourceMaps.js"),E=e.n(h),R=e("../../../node_modules/.pnpm/css-loader@6.5.1_webpack@5.76.0/node_modules/css-loader/dist/runtime/api.js"),H=e.n(R),j=H()(E());j.push([ee.id,".zuO3RgAd20yV6c0cEjwU{--input-width: 24px;display:flex;align-items:center;gap:8px}.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H,.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H:last-child{margin-bottom:0;flex-grow:2}.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H .components-base-control__field,.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H:last-child .components-base-control__field{margin-bottom:0}.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H .components-range-control__wrapper,.zuO3RgAd20yV6c0cEjwU .m7UQ82mfQtaGf0Uxn62H:last-child .components-range-control__wrapper{margin-bottom:0}.zuO3RgAd20yV6c0cEjwU .components-range-control__marks{top:13px}.xiVP4KSb56I10368tN0v{display:flex;align-items:center;border-color:#949494;background-color:#fff;border-style:solid;justify-content:space-around;border-width:1px;padding:0px}.xiVP4KSb56I10368tN0v .J6r6Ls3WNV_CSbuzeLyr{padding:0 1px;margin-bottom:0}.xiVP4KSb56I10368tN0v .J6r6Ls3WNV_CSbuzeLyr input{max-width:var(--input-width)}.xiVP4KSb56I10368tN0v .J6r6Ls3WNV_CSbuzeLyr:last-child{margin-bottom:0}.xiVP4KSb56I10368tN0v .J6r6Ls3WNV_CSbuzeLyr .components-base-control__field{margin-bottom:0}.xiVP4KSb56I10368tN0v .J6r6Ls3WNV_CSbuzeLyr .components-base-control__field .components-text-control__input{border:none;text-align:center;padding:0}.xiVP4KSb56I10368tN0v .components-input-control:last-child{margin-bottom:0}.xiVP4KSb56I10368tN0v .components-input-control__input{padding-left:0 !important;padding-right:0 !important;text-align:center}.xiVP4KSb56I10368tN0v .components-input-control__input::-webkit-outer-spin-button,.xiVP4KSb56I10368tN0v .components-input-control__input::-webkit-inner-spin-button{-webkit-appearance:none}.xiVP4KSb56I10368tN0v .components-input-control__input[type=number]{-webkit-appearance:textfield;appearance:textfield;-moz-appearance:textfield}.xiVP4KSb56I10368tN0v .components-input-control__backdrop{border-style:none !important}.xiVP4KSb56I10368tN0v.XtdqGJfT1AOZ9KRjf1TZ{background-color:#f0f0f0}.xiVP4KSb56I10368tN0v.XtdqGJfT1AOZ9KRjf1TZ .PjODCu3uI7wWSXk4MiIH{color:#949494}.PjODCu3uI7wWSXk4MiIH{font-weight:900}",""]),j.locals={"timestamp-control__controls-wrapper":"zuO3RgAd20yV6c0cEjwU","timestamp-range-control":"m7UQ82mfQtaGf0Uxn62H","timestamp-input-wrapper":"xiVP4KSb56I10368tN0v","timestamp-control-input":"J6r6Ls3WNV_CSbuzeLyr","is-disabled":"XtdqGJfT1AOZ9KRjf1TZ","timestamp-control-divider":"PjODCu3uI7wWSXk4MiIH"};const Z=j}}]);})();
