"use strict";(()=>{var de=(m,b,y)=>{if(!b.has(m))throw TypeError("Cannot "+y)};var r=(m,b,y)=>(de(m,b,"read from private field"),y?y.call(m):b.get(m)),o=(m,b,y)=>{if(b.has(m))throw TypeError("Cannot add the same private member more than once");b instanceof WeakSet?b.add(m):b.set(m,y)},n=(m,b,y,R)=>(de(m,b,"write to private field"),R?R.call(m,y):b.set(m,y),y);var v=(m,b,y)=>(de(m,b,"access private method"),y);(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[7187],{"../../../node_modules/.pnpm/@tanstack+react-query@5.20.5_react@18.2.0/node_modules/@tanstack/react-query/build/modern/useQuery.js":(m,b,y)=>{var M,k,B,Qe,V,U,q,Fe,w,h,G,C,x,K,S,J,N,W,T,D,I,z,A,ne,X,fe,Y,pe,$,ye,ee,ve,te,me,se,be,re,Re,ae,Ie,ke;y.d(b,{a:()=>Ye});var R=y("../../../node_modules/.pnpm/@tanstack+query-core@5.20.5/node_modules/@tanstack/query-core/build/modern/utils.js"),Ce=y("../../../node_modules/.pnpm/@tanstack+query-core@5.20.5/node_modules/@tanstack/query-core/build/modern/notifyManager.js"),he=y("../../../node_modules/.pnpm/@tanstack+query-core@5.20.5/node_modules/@tanstack/query-core/build/modern/subscribable.js"),je=(Qe=class extends he.l{constructor(){super();o(this,M,void 0);o(this,k,void 0);o(this,B,void 0);n(this,B,e=>{if(!R.sk&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){r(this,k)||this.setEventListener(r(this,B))}onUnsubscribe(){var e;this.hasListeners()||((e=r(this,k))==null||e.call(this),n(this,k,void 0))}setEventListener(e){var s;n(this,B,e),(s=r(this,k))==null||s.call(this),n(this,k,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){r(this,M)!==e&&(n(this,M,e),this.onFocus())}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){var e;return typeof r(this,M)=="boolean"?r(this,M):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},M=new WeakMap,k=new WeakMap,B=new WeakMap,Qe),Me=new je,xe=(Fe=class extends he.l{constructor(){super();o(this,V,!0);o(this,U,void 0);o(this,q,void 0);n(this,q,e=>{if(!R.sk&&window.addEventListener){const s=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",i)}}})}onSubscribe(){r(this,U)||this.setEventListener(r(this,q))}onUnsubscribe(){var e;this.hasListeners()||((e=r(this,U))==null||e.call(this),n(this,U,void 0))}setEventListener(e){var s;n(this,q,e),(s=r(this,U))==null||s.call(this),n(this,U,e(this.setOnline.bind(this)))}setOnline(e){r(this,V)!==e&&(n(this,V,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return r(this,V)}},V=new WeakMap,U=new WeakMap,q=new WeakMap,Fe),Te=new xe;function De(t){return Math.min(1e3*2**t,3e4)}function Ee(t){return(t!=null?t:"online")==="online"?Te.isOnline():!0}var we=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function et(t){return t instanceof we}function tt(t){let e=!1,s=0,i=!1,d,c,u;const p=new Promise((a,l)=>{c=a,u=l}),O=a=>{var l;i||(F(new we(a)),(l=t.abort)==null||l.call(t))},j=()=>{e=!0},f=()=>{e=!1},H=()=>!focusManager.isFocused()||t.networkMode!=="always"&&!onlineManager.isOnline(),oe=a=>{var l;i||(i=!0,(l=t.onSuccess)==null||l.call(t,a),d==null||d(),c(a))},F=a=>{var l;i||(i=!0,(l=t.onError)==null||l.call(t,a),d==null||d(),u(a))},g=()=>new Promise(a=>{var l;d=L=>{const P=i||!H();return P&&a(L),P},(l=t.onPause)==null||l.call(t)}).then(()=>{var a;d=void 0,i||(a=t.onContinue)==null||a.call(t)}),_=()=>{if(i)return;let a;try{a=t.fn()}catch(l){a=Promise.reject(l)}Promise.resolve(a).then(oe).catch(l=>{var ie,E,Z;if(i)return;const L=(ie=t.retry)!=null?ie:isServer?0:3,P=(E=t.retryDelay)!=null?E:De,ue=typeof P=="function"?P(s,l):P,Ue=L===!0||typeof L=="number"&&s<L||typeof L=="function"&&L(s,l);if(e||!Ue){F(l);return}s++,(Z=t.onFail)==null||Z.call(t,s,l),sleep(ue).then(()=>{if(H())return g()}).then(()=>{e?F(l):_()})})};return Ee(t.networkMode)?_():g().then(_),{promise:p,cancel:O,continue:()=>(d==null?void 0:d())?p:Promise.resolve(),cancelRetry:j,continueRetry:f}}var Ae=(ke=class extends he.l{constructor(e,s){super();o(this,A);o(this,X);o(this,Y);o(this,$);o(this,ee);o(this,te);o(this,se);o(this,re);o(this,ae);o(this,w,void 0);o(this,h,void 0);o(this,G,void 0);o(this,C,void 0);o(this,x,void 0);o(this,K,void 0);o(this,S,void 0);o(this,J,void 0);o(this,N,void 0);o(this,W,void 0);o(this,T,void 0);o(this,D,void 0);o(this,I,void 0);o(this,z,new Set);this.options=s,n(this,w,e),n(this,S,null),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(r(this,h).addObserver(this),Oe(r(this,h),this.options)?v(this,A,ne).call(this):this.updateResult(),v(this,ee,ve).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ce(r(this,h),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ce(r(this,h),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,v(this,te,me).call(this),v(this,se,be).call(this),r(this,h).removeObserver(this)}setOptions(e,s){const i=this.options,d=r(this,h);if(this.options=r(this,w).defaultQueryOptions(e),(0,R.VS)(i,this.options)||r(this,w).getQueryCache().notify({type:"observerOptionsUpdated",query:r(this,h),observer:this}),typeof this.options.enabled!="undefined"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=i.queryKey),v(this,re,Re).call(this);const c=this.hasListeners();c&&ge(r(this,h),d,this.options,i)&&v(this,A,ne).call(this),this.updateResult(s),c&&(r(this,h)!==d||this.options.enabled!==i.enabled||this.options.staleTime!==i.staleTime)&&v(this,X,fe).call(this);const u=v(this,Y,pe).call(this);c&&(r(this,h)!==d||this.options.enabled!==i.enabled||u!==r(this,I))&&v(this,$,ye).call(this,u)}getOptimisticResult(e){const s=r(this,w).getQueryCache().build(r(this,w),e),i=this.createResult(s,e);return Ve(this,i)&&(n(this,C,i),n(this,K,this.options),n(this,x,r(this,h).state)),i}getCurrentResult(){return r(this,C)}trackResult(e){const s={};return Object.keys(e).forEach(i=>{Object.defineProperty(s,i,{configurable:!1,enumerable:!0,get:()=>(r(this,z).add(i),e[i])})}),s}getCurrentQuery(){return r(this,h)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=r(this,w).defaultQueryOptions(e),i=r(this,w).getQueryCache().build(r(this,w),s);return i.isFetchingOptimistic=!0,i.fetch().then(()=>this.createResult(i,s))}fetch(e){var s;return v(this,A,ne).call(this,{...e,cancelRefetch:(s=e.cancelRefetch)!=null?s:!0}).then(()=>(this.updateResult(),r(this,C)))}createResult(e,s){var ie;const i=r(this,h),d=this.options,c=r(this,C),u=r(this,x),p=r(this,K),j=e!==i?e.state:r(this,G),{state:f}=e;let{error:H,errorUpdatedAt:oe,fetchStatus:F,status:g}=f,_=!1,a;if(s._optimisticResults){const E=this.hasListeners(),Z=!E&&Oe(e,s),$e=E&&ge(e,i,s,d);(Z||$e)&&(F=Ee(e.options.networkMode)?"fetching":"paused",f.dataUpdatedAt||(g="pending")),s._optimisticResults==="isRestoring"&&(F="idle")}if(s.select&&typeof f.data!="undefined")if(c&&f.data===(u==null?void 0:u.data)&&s.select===r(this,J))a=r(this,N);else try{n(this,J,s.select),a=s.select(f.data),a=(0,R.oE)(c==null?void 0:c.data,a,s),n(this,N,a),n(this,S,null)}catch(E){n(this,S,E)}else a=f.data;if(typeof s.placeholderData!="undefined"&&typeof a=="undefined"&&g==="pending"){let E;if(c!=null&&c.isPlaceholderData&&s.placeholderData===(p==null?void 0:p.placeholderData))E=c.data;else if(E=typeof s.placeholderData=="function"?s.placeholderData((ie=r(this,W))==null?void 0:ie.state.data,r(this,W)):s.placeholderData,s.select&&typeof E!="undefined")try{E=s.select(E),n(this,S,null)}catch(Z){n(this,S,Z)}typeof E!="undefined"&&(g="success",a=(0,R.oE)(c==null?void 0:c.data,E,s),_=!0)}r(this,S)&&(H=r(this,S),a=r(this,N),oe=Date.now(),g="error");const l=F==="fetching",L=g==="pending",P=g==="error",ue=L&&l;return{status:g,fetchStatus:F,isPending:L,isSuccess:g==="success",isError:P,isInitialLoading:ue,isLoading:ue,data:a,dataUpdatedAt:f.dataUpdatedAt,error:H,errorUpdatedAt:oe,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>j.dataUpdateCount||f.errorUpdateCount>j.errorUpdateCount,isFetching:l,isRefetching:l&&!L,isLoadingError:P&&f.dataUpdatedAt===0,isPaused:F==="paused",isPlaceholderData:_,isRefetchError:P&&f.dataUpdatedAt!==0,isStale:le(e,s),refetch:this.refetch}}updateResult(e){const s=r(this,C),i=this.createResult(r(this,h),this.options);if(n(this,x,r(this,h).state),n(this,K,this.options),r(this,x).data!==void 0&&n(this,W,r(this,h)),(0,R.VS)(i,s))return;n(this,C,i);const d={},c=()=>{if(!s)return!0;const{notifyOnChangeProps:u}=this.options,p=typeof u=="function"?u():u;if(p==="all"||!p&&!r(this,z).size)return!0;const O=new Set(p!=null?p:r(this,z));return this.options.throwOnError&&O.add("error"),Object.keys(r(this,C)).some(j=>{const f=j;return r(this,C)[f]!==s[f]&&O.has(f)})};(e==null?void 0:e.listeners)!==!1&&c()&&(d.listeners=!0),v(this,ae,Ie).call(this,{...d,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&v(this,ee,ve).call(this)}},w=new WeakMap,h=new WeakMap,G=new WeakMap,C=new WeakMap,x=new WeakMap,K=new WeakMap,S=new WeakMap,J=new WeakMap,N=new WeakMap,W=new WeakMap,T=new WeakMap,D=new WeakMap,I=new WeakMap,z=new WeakMap,A=new WeakSet,ne=function(e){v(this,re,Re).call(this);let s=r(this,h).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(R.ZT)),s},X=new WeakSet,fe=function(){if(v(this,te,me).call(this),R.sk||r(this,C).isStale||!(0,R.PN)(this.options.staleTime))return;const s=(0,R.Kp)(r(this,C).dataUpdatedAt,this.options.staleTime)+1;n(this,T,setTimeout(()=>{r(this,C).isStale||this.updateResult()},s))},Y=new WeakSet,pe=function(){var e;return(e=typeof this.options.refetchInterval=="function"?this.options.refetchInterval(r(this,h)):this.options.refetchInterval)!=null?e:!1},$=new WeakSet,ye=function(e){v(this,se,be).call(this),n(this,I,e),!(R.sk||this.options.enabled===!1||!(0,R.PN)(r(this,I))||r(this,I)===0)&&n(this,D,setInterval(()=>{(this.options.refetchIntervalInBackground||Me.isFocused())&&v(this,A,ne).call(this)},r(this,I)))},ee=new WeakSet,ve=function(){v(this,X,fe).call(this),v(this,$,ye).call(this,v(this,Y,pe).call(this))},te=new WeakSet,me=function(){r(this,T)&&(clearTimeout(r(this,T)),n(this,T,void 0))},se=new WeakSet,be=function(){r(this,D)&&(clearInterval(r(this,D)),n(this,D,void 0))},re=new WeakSet,Re=function(){const e=r(this,w).getQueryCache().build(r(this,w),this.options);if(e===r(this,h))return;const s=r(this,h);n(this,h,e),n(this,G,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},ae=new WeakSet,Ie=function(e){Ce.V.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(r(this,C))}),r(this,w).getQueryCache().notify({query:r(this,h),type:"observerResultsUpdated"})})},ke);function Be(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Oe(t,e){return Be(t,e)||t.state.dataUpdatedAt>0&&ce(t,e,e.refetchOnMount)}function ce(t,e,s){if(e.enabled!==!1){const i=typeof s=="function"?s(t):s;return i==="always"||i!==!1&&le(t,e)}return!1}function ge(t,e,s,i){return s.enabled!==!1&&(t!==e||i.enabled===!1)&&(!s.suspense||t.state.status!=="error")&&le(t,s)}function le(t,e){return t.isStaleByTime(e.staleTime)}function Ve(t,e){return!(0,R.VS)(t.getCurrentResult(),e)}var Q=y("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),st=y("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function Le(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Se=Q.createContext(Le()),qe=()=>Q.useContext(Se),rt=({children:t})=>{const[e]=React.useState(()=>Le());return jsx(Se.Provider,{value:e,children:typeof t=="function"?t(e):t})},Ke=y("../../../node_modules/.pnpm/@tanstack+react-query@5.20.5_react@18.2.0/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js"),Pe=Q.createContext(!1),Ne=()=>Q.useContext(Pe),it=Pe.Provider,We=y("../../../node_modules/.pnpm/@tanstack+react-query@5.20.5_react@18.2.0/node_modules/@tanstack/react-query/build/modern/utils.js"),ze=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},He=t=>{Q.useEffect(()=>{t.clearReset()},[t])},_e=({result:t,errorResetBoundary:e,throwOnError:s,query:i})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(0,We.L)(s,[t.error,i]),nt=(t,e)=>typeof e.state.data=="undefined",Ze=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},at=(t,e)=>t.isLoading&&t.isFetching&&!e,Ge=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Je=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function Xe(t,e,s){const i=(0,Ke.NL)(s),d=Ne(),c=qe(),u=i.defaultQueryOptions(t);u._optimisticResults=d?"isRestoring":"optimistic",Ze(u),ze(u,c),He(c);const[p]=Q.useState(()=>new e(i,u)),O=p.getOptimisticResult(u);if(Q.useSyncExternalStore(Q.useCallback(j=>{const f=d?()=>{}:p.subscribe(Ce.V.batchCalls(j));return p.updateResult(),f},[p,d]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),Q.useEffect(()=>{p.setOptions(u,{listeners:!1})},[u,p]),Ge(u,O))throw Je(u,p,c);if(_e({result:O,errorResetBoundary:c,throwOnError:u.throwOnError,query:i.getQueryCache().get(u.queryHash)}))throw O.error;return u.notifyOnChangeProps?O:p.trackResult(O)}function Ye(t,e){return Xe(t,Ae,e)}}}]);})();
