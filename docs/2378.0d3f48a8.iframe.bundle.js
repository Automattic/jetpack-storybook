"use strict";(()=>{(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[2378],{"../../../node_modules/.pnpm/@wordpress+api-fetch@6.34.0/node_modules/@wordpress/api-fetch/build-module/index.js":(I,_,f)=>{f.d(_,{Z:()=>P});var p=f("../../../node_modules/.pnpm/@wordpress+i18n@4.37.0/node_modules/@wordpress/i18n/build-module/index.js");function w(e){const r=(t,a)=>{const{headers:s={}}=t;for(const n in s)if(n.toLowerCase()==="x-wp-nonce"&&s[n]===r.nonce)return a(t);return a({...t,headers:{...s,"X-WP-Nonce":r.nonce}})};return r.nonce=e,r}const i=w,g=(e,r)=>{let t=e.path,a,s;return typeof e.namespace=="string"&&typeof e.endpoint=="string"&&(a=e.namespace.replace(/^\/|\/$/g,""),s=e.endpoint.replace(/^\//,""),s?t=a+"/"+s:t=a),delete e.namespace,delete e.endpoint,r({...e,path:t})},v=e=>(r,t)=>g(r,a=>{let s=a.url,n=a.path,c;return typeof n=="string"&&(c=e,e.indexOf("?")!==-1&&(n=n.replace("?","&")),n=n.replace(/^\//,""),typeof c=="string"&&c.indexOf("?")!==-1&&(n=n.replace("?","&")),s=c+n),t({...a,url:s})});function y(e){const r=e.split("?"),t=r[1],a=r[0];return t?a+"?"+t.split("&").map(s=>s.split("=")).map(s=>s.map(decodeURIComponent)).sort((s,n)=>s[0].localeCompare(n[0])).map(s=>s.map(encodeURIComponent)).map(s=>s.join("=")).join("&"):a}function b(e){try{return decodeURIComponent(e)}catch(r){return e}}function R(e){let r;try{r=new URL(e,"http://example.com").search.substring(1)}catch(t){}if(r)return r}function E(e,r,t){const a=r.length,s=a-1;for(let n=0;n<a;n++){let c=r[n];!c&&Array.isArray(e)&&(c=e.length.toString()),c=["__proto__","constructor","prototype"].includes(c)?c.toUpperCase():c;const d=!isNaN(Number(r[n+1]));e[c]=n===s?t:e[c]||(d?[]:{}),Array.isArray(e[c])&&!d&&(e[c]={...e[c]}),e=e[c]}}function M(e){return(R(e)||"").replace(/\+/g,"%20").split("&").reduce((r,t)=>{const[a,s=""]=t.split("=").filter(Boolean).map(b);if(a){const n=a.replace(/\]/g,"").split("[");E(r,n,s)}return r},Object.create(null))}function H(e){let r="";const t=Object.entries(e);let a;for(;a=t.shift();){let[s,n]=a;if(Array.isArray(n)||n&&n.constructor===Object){const d=Object.entries(n).reverse();for(const[l,u]of d)t.unshift([`${s}[${l}]`,u])}else n!==void 0&&(n===null&&(n=""),r+="&"+[s,n].map(encodeURIComponent).join("="))}return r.substr(1)}function h(e="",r){if(!r||!Object.keys(r).length)return e;let t=e;const a=e.indexOf("?");return a!==-1&&(r=Object.assign(M(e),r),t=t.substr(0,a)),t+"?"+H(r)}function F(e){const r=Object.fromEntries(Object.entries(e).map(([t,a])=>[y(t),a]));return(t,a)=>{const{parse:s=!0}=t;let n=t.path;if(!n&&t.url){const{rest_route:l,...u}=M(t.url);typeof l=="string"&&(n=h(l,u))}if(typeof n!="string")return a(t);const c=t.method||"GET",d=y(n);if(c==="GET"&&r[d]){const l=r[d];return delete r[d],U(l,!!s)}else if(c==="OPTIONS"&&r[c]&&r[c][d]){const l=r[c][d];return delete r[c][d],U(l,!!s)}return a(t)}}function U(e,r){return Promise.resolve(r?e.body:new window.Response(JSON.stringify(e.body),{status:200,statusText:"OK",headers:e.headers}))}const Q=F,Z=({path:e,url:r,...t},a)=>({...t,url:r&&h(r,a),path:e&&h(e,a)}),j=e=>e.json?e.json():Promise.reject(e),z=e=>{if(!e)return{};const r=e.match(/<([^>]+)>; rel="next"/);return r?{next:r[1]}:{}},S=e=>{const{next:r}=z(e.headers.get("link"));return r},G=e=>{const r=!!e.path&&e.path.indexOf("per_page=-1")!==-1,t=!!e.url&&e.url.indexOf("per_page=-1")!==-1;return r||t},x=async(e,r)=>{if(e.parse===!1||!G(e))return r(e);const t=await P({...Z(e,{per_page:100}),parse:!1}),a=await j(t);if(!Array.isArray(a))return a;let s=S(t);if(!s)return a;let n=[].concat(a);for(;s;){const c=await P({...e,path:void 0,url:s,parse:!1}),d=await j(c);n=n.concat(d),s=S(c)}return n},J=new Set(["PATCH","PUT","DELETE"]),K="GET",$=(e,r)=>{const{method:t=K}=e;return J.has(t.toUpperCase())&&(e={...e,headers:{...e.headers,"X-HTTP-Method-Override":t,"Content-Type":"application/json"},method:"POST"}),r(e)};function B(e,r){return M(e)[r]}function m(e,r){return B(e,r)!==void 0}const V=(e,r)=>(typeof e.url=="string"&&!m(e.url,"_locale")&&(e.url=h(e.url,{_locale:"user"})),typeof e.path=="string"&&!m(e.path,"_locale")&&(e.path=h(e.path,{_locale:"user"})),r(e)),q=(e,r=!0)=>r?e.status===204?null:e.json?e.json():Promise.reject(e):e,W=e=>{const r={code:"invalid_json",message:(0,p.__)("The response is not a valid JSON response.")};if(!e||!e.json)throw r;return e.json().catch(()=>{throw r})},C=(e,r=!0)=>Promise.resolve(q(e,r)).catch(t=>O(t,r));function O(e,r=!0){if(!r)throw e;return W(e).then(t=>{const a={code:"unknown_error",message:(0,p.__)("An unknown error occurred.")};throw t||a})}function X(e){const r=!!e.method&&e.method==="POST";return(!!e.path&&e.path.indexOf("/wp/v2/media")!==-1||!!e.url&&e.url.indexOf("/wp/v2/media")!==-1)&&r}const Y=(e,r)=>{if(!X(e))return r(e);let t=0;const a=5,s=n=>(t++,r({path:`/wp/v2/media/${n}/post-process`,method:"POST",data:{action:"create-image-subsizes"},parse:!1}).catch(()=>t<a?s(n):(r({path:`/wp/v2/media/${n}?force=true`,method:"DELETE"}),Promise.reject())));return r({...e,parse:!1}).catch(n=>{const c=n.headers.get("x-wp-upload-attachment-id");return n.status>=500&&n.status<600&&c?s(c).catch(()=>e.parse!==!1?Promise.reject({code:"post_process",message:(0,p.__)("Media upload failed. If this is a photo or a large image, please scale it down and try again.")}):Promise.reject(n)):O(n,e.parse)}).then(n=>C(n,e.parse))},ee=e=>(r,t)=>(typeof r.url=="string"&&!m(r.url,"wp_theme_preview")&&(r.url=h(r.url,{wp_theme_preview:e})),typeof r.path=="string"&&!m(r.path,"wp_theme_preview")&&(r.path=h(r.path,{wp_theme_preview:e})),t(r)),re={Accept:"application/json, */*;q=0.1"},te={credentials:"include"},D=[V,g,$,x];function ne(e){D.unshift(e)}const N=e=>{if(e.status>=200&&e.status<300)return e;throw e};let k=e=>{const{url:r,path:t,data:a,parse:s=!0,...n}=e;let{body:c,headers:d}=e;return d={...re,...d},a&&(c=JSON.stringify(a),d["Content-Type"]="application/json"),window.fetch(r||t||window.location.href,{...te,...n,body:c,headers:d}).then(u=>Promise.resolve(u).then(N).catch(A=>O(A,s)).then(A=>C(A,s)),u=>{throw u&&u.name==="AbortError"?u:{code:"fetch_error",message:(0,p.__)("You are probably offline.")}})};function ae(e){k=e}function o(e){return D.reduceRight((t,a)=>s=>a(s,t),k)(e).catch(t=>t.code!=="rest_cookie_invalid_nonce"?Promise.reject(t):window.fetch(o.nonceEndpoint).then(N).then(a=>a.text()).then(a=>(o.nonceMiddleware.nonce=a,o(e))))}o.use=ne,o.setFetchHandler=ae,o.createNonceMiddleware=i,o.createPreloadingMiddleware=Q,o.createRootURLMiddleware=v,o.fetchAllMiddleware=x,o.mediaUploadMiddleware=Y,o.createThemePreviewMiddleware=ee;const P=o},"../../../node_modules/.pnpm/@wordpress+data@9.7.0_react@18.2.0/node_modules/@wordpress/data/build-module/index.js":(I,_,f)=>{f.d(_,{R9:()=>b,UY:()=>T,z2:()=>E});var p=f("../../../node_modules/.pnpm/turbo-combine-reducers@1.0.2/node_modules/turbo-combine-reducers/index.js"),w=f.n(p),i=f("../../../node_modules/.pnpm/@wordpress+data@9.7.0_react@18.2.0/node_modules/@wordpress/data/build-module/default-registry.js");const T=w(),g=i.Z.resolveSelect,L=i.Z.suspendSelect,v=i.Z.subscribe,y=i.Z.registerGenericStore,b=i.Z.registerStore,R=i.Z.use,E=i.Z.register}}]);})();
