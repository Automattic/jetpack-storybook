"use strict";(()=>{var ve=(m,R,w)=>{if(!R.has(m))throw TypeError("Cannot "+w)};var r=(m,R,w)=>(ve(m,R,"read from private field"),w?w.call(m):R.get(m)),f=(m,R,w)=>{if(R.has(m))throw TypeError("Cannot add the same private member more than once");R instanceof WeakSet?R.add(m):R.set(m,w)},h=(m,R,w,T)=>(ve(m,R,"write to private field"),T?T.call(m,w):R.set(m,w),w);var b=(m,R,w)=>(ve(m,R,"access private method"),w);(self.webpackChunk_automattic_jetpack_storybook=self.webpackChunk_automattic_jetpack_storybook||[]).push([[3621],{"../../../node_modules/.pnpm/@tanstack+react-query@5.20.5_react@18.2.0/node_modules/@tanstack/react-query/build/modern/useQuery.js":(m,R,w)=>{var M,I,B,_e,N,U,z,Ae,g,y,X,O,k,H,j,Y,W,V,D,_,x,q,A,ae,Z,be,$,me,ee,Re,te,we,se,Ce,re,Oe,ne,Ee,ue,Ne,Ke;w.d(R,{a:()=>ft});var T=typeof window=="undefined"||"Deno"in window;function ze(){}function yt(t,e){return typeof t=="function"?t(e):t}function Se(t){return typeof t=="number"&&t>=0&&t!==1/0}function He(t,e){return Math.max(t+(e||0)-Date.now(),0)}function pt(t,e){const{type:s="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:c}=t;if(o){if(n){if(e.queryHash!==We(o,e.options))return!1}else if(!he(e.queryKey,o))return!1}if(s!=="all"){const v=e.isActive();if(s==="active"&&!v||s==="inactive"&&v)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||typeof i!="undefined"&&i!==e.state.fetchStatus||a&&!a(e))}function vt(t,e){const{exact:s,status:n,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(s){if(ce(e.options.mutationKey)!==ce(a))return!1}else if(!he(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function We(t,e){return((e==null?void 0:e.queryKeyHashFn)||ce)(t)}function ce(t){return JSON.stringify(t,(e,s)=>fe(s)?Object.keys(s).sort().reduce((n,i)=>(n[i]=s[i],n),{}):s)}function he(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(s=>!he(t[s],e[s])):!1}function ge(t,e){if(t===e)return t;const s=Fe(t)&&Fe(e);if(s||fe(t)&&fe(e)){const n=s?t:Object.keys(t),i=n.length,a=s?e:Object.keys(e),o=a.length,c=s?[]:{};let v=0;for(let E=0;E<o;E++){const u=s?E:a[E];!s&&t[u]===void 0&&e[u]===void 0&&n.includes(u)?(c[u]=void 0,v++):(c[u]=ge(t[u],e[u]),c[u]===t[u]&&t[u]!==void 0&&v++)}return i===o&&v===i?t:c}return e}function le(t,e){if(t&&!e||e&&!t)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function Fe(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function fe(t){if(!Pe(t))return!1;const e=t.constructor;if(typeof e=="undefined")return!0;const s=e.prototype;return!(!Pe(s)||!s.hasOwnProperty("isPrototypeOf"))}function Pe(t){return Object.prototype.toString.call(t)==="[object Object]"}function bt(t){return new Promise(e=>{setTimeout(e,t)})}function Qe(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?ge(t,e):e}function mt(t){return t}function Rt(t,e,s=0){const n=[...t,e];return s&&n.length>s?n.slice(1):n}function wt(t,e,s=0){const n=[e,...t];return s&&n.length>s?n.slice(0,-1):n}function Ve(){let t=[],e=0,s=d=>{d()},n=d=>{d()},i=d=>setTimeout(d,0);const a=d=>{i=d},o=d=>{let C;e++;try{C=d()}finally{e--,e||E()}return C},c=d=>{e?t.push(d):i(()=>{s(d)})},v=d=>(...C)=>{c(()=>{d(...C)})},E=()=>{const d=t;t=[],d.length&&i(()=>{n(()=>{d.forEach(C=>{s(C)})})})};return{batch:o,batchCalls:v,schedule:c,setNotifyFunction:d=>{s=d},setBatchNotifyFunction:d=>{n=d},setScheduler:a}}var je=Ve(),de=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qe=(_e=class extends de{constructor(){super();f(this,M,void 0);f(this,I,void 0);f(this,B,void 0);h(this,B,e=>{if(!T&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){r(this,I)||this.setEventListener(r(this,B))}onUnsubscribe(){var e;this.hasListeners()||((e=r(this,I))==null||e.call(this),h(this,I,void 0))}setEventListener(e){var s;h(this,B,e),(s=r(this,I))==null||s.call(this),h(this,I,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){r(this,M)!==e&&(h(this,M,e),this.onFocus())}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){var e;return typeof r(this,M)=="boolean"?r(this,M):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},M=new WeakMap,I=new WeakMap,B=new WeakMap,_e),Je=new qe,Ge=(Ae=class extends de{constructor(){super();f(this,N,!0);f(this,U,void 0);f(this,z,void 0);h(this,z,e=>{if(!T&&window.addEventListener){const s=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}}})}onSubscribe(){r(this,U)||this.setEventListener(r(this,z))}onUnsubscribe(){var e;this.hasListeners()||((e=r(this,U))==null||e.call(this),h(this,U,void 0))}setEventListener(e){var s;h(this,z,e),(s=r(this,U))==null||s.call(this),h(this,U,e(this.setOnline.bind(this)))}setOnline(e){r(this,N)!==e&&(h(this,N,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return r(this,N)}},N=new WeakMap,U=new WeakMap,z=new WeakMap,Ae),Xe=new Ge;function Ye(t){return Math.min(1e3*2**t,3e4)}function Le(t){return(t!=null?t:"online")==="online"?Xe.isOnline():!0}var Ie=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Ct(t){return t instanceof Ie}function Ot(t){let e=!1,s=0,n=!1,i,a,o;const c=new Promise((l,p)=>{a=l,o=p}),v=l=>{var p;n||(C(new Ie(l)),(p=t.abort)==null||p.call(t))},E=()=>{e=!0},u=()=>{e=!1},K=()=>!focusManager.isFocused()||t.networkMode!=="always"&&!onlineManager.isOnline(),d=l=>{var p;n||(n=!0,(p=t.onSuccess)==null||p.call(t,l),i==null||i(),a(l))},C=l=>{var p;n||(n=!0,(p=t.onError)==null||p.call(t,l),i==null||i(),o(l))},P=()=>new Promise(l=>{var p;i=Q=>{const L=n||!K();return L&&l(Q),L},(p=t.onPause)==null||p.call(t)}).then(()=>{var l;i=void 0,n||(l=t.onContinue)==null||l.call(t)}),J=()=>{if(n)return;let l;try{l=t.fn()}catch(p){l=Promise.reject(p)}Promise.resolve(l).then(d).catch(p=>{var ie,S,G;if(n)return;const Q=(ie=t.retry)!=null?ie:isServer?0:3,L=(S=t.retryDelay)!=null?S:Ye,oe=typeof L=="function"?L(s,p):L,Be=Q===!0||typeof Q=="number"&&s<Q||typeof Q=="function"&&Q(s,p);if(e||!Be){C(p);return}s++,(G=t.onFail)==null||G.call(t,s,p),sleep(oe).then(()=>{if(K())return P()}).then(()=>{e?C(p):J()})})};return Le(t.networkMode)?J():P().then(J),{promise:c,cancel:v,continue:()=>(i==null?void 0:i())?c:Promise.resolve(),cancelRetry:E,continueRetry:u}}var Ze=(Ke=class extends de{constructor(e,s){super();f(this,A);f(this,Z);f(this,$);f(this,ee);f(this,te);f(this,se);f(this,re);f(this,ne);f(this,ue);f(this,g,void 0);f(this,y,void 0);f(this,X,void 0);f(this,O,void 0);f(this,k,void 0);f(this,H,void 0);f(this,j,void 0);f(this,Y,void 0);f(this,W,void 0);f(this,V,void 0);f(this,D,void 0);f(this,_,void 0);f(this,x,void 0);f(this,q,new Set);this.options=s,h(this,g,e),h(this,j,null),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(r(this,y).addObserver(this),Ue(r(this,y),this.options)?b(this,A,ae).call(this):this.updateResult(),b(this,te,we).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ye(r(this,y),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ye(r(this,y),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,b(this,se,Ce).call(this),b(this,re,Oe).call(this),r(this,y).removeObserver(this)}setOptions(e,s){const n=this.options,i=r(this,y);if(this.options=r(this,g).defaultQueryOptions(e),le(n,this.options)||r(this,g).getQueryCache().notify({type:"observerOptionsUpdated",query:r(this,y),observer:this}),typeof this.options.enabled!="undefined"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),b(this,ne,Ee).call(this);const a=this.hasListeners();a&&xe(r(this,y),i,this.options,n)&&b(this,A,ae).call(this),this.updateResult(s),a&&(r(this,y)!==i||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&b(this,Z,be).call(this);const o=b(this,$,me).call(this);a&&(r(this,y)!==i||this.options.enabled!==n.enabled||o!==r(this,x))&&b(this,ee,Re).call(this,o)}getOptimisticResult(e){const s=r(this,g).getQueryCache().build(r(this,g),e),n=this.createResult(s,e);return et(this,n)&&(h(this,O,n),h(this,H,this.options),h(this,k,r(this,y).state)),n}getCurrentResult(){return r(this,O)}trackResult(e){const s={};return Object.keys(e).forEach(n=>{Object.defineProperty(s,n,{configurable:!1,enumerable:!0,get:()=>(r(this,q).add(n),e[n])})}),s}getCurrentQuery(){return r(this,y)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=r(this,g).defaultQueryOptions(e),n=r(this,g).getQueryCache().build(r(this,g),s);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,s))}fetch(e){var s;return b(this,A,ae).call(this,{...e,cancelRefetch:(s=e.cancelRefetch)!=null?s:!0}).then(()=>(this.updateResult(),r(this,O)))}createResult(e,s){var ie;const n=r(this,y),i=this.options,a=r(this,O),o=r(this,k),c=r(this,H),E=e!==n?e.state:r(this,X),{state:u}=e;let{error:K,errorUpdatedAt:d,fetchStatus:C,status:P}=u,J=!1,l;if(s._optimisticResults){const S=this.hasListeners(),G=!S&&Ue(e,s),dt=S&&xe(e,n,s,i);(G||dt)&&(C=Le(e.options.networkMode)?"fetching":"paused",u.dataUpdatedAt||(P="pending")),s._optimisticResults==="isRestoring"&&(C="idle")}if(s.select&&typeof u.data!="undefined")if(a&&u.data===(o==null?void 0:o.data)&&s.select===r(this,Y))l=r(this,W);else try{h(this,Y,s.select),l=s.select(u.data),l=Qe(a==null?void 0:a.data,l,s),h(this,W,l),h(this,j,null)}catch(S){h(this,j,S)}else l=u.data;if(typeof s.placeholderData!="undefined"&&typeof l=="undefined"&&P==="pending"){let S;if(a!=null&&a.isPlaceholderData&&s.placeholderData===(c==null?void 0:c.placeholderData))S=a.data;else if(S=typeof s.placeholderData=="function"?s.placeholderData((ie=r(this,V))==null?void 0:ie.state.data,r(this,V)):s.placeholderData,s.select&&typeof S!="undefined")try{S=s.select(S),h(this,j,null)}catch(G){h(this,j,G)}typeof S!="undefined"&&(P="success",l=Qe(a==null?void 0:a.data,S,s),J=!0)}r(this,j)&&(K=r(this,j),l=r(this,W),d=Date.now(),P="error");const p=C==="fetching",Q=P==="pending",L=P==="error",oe=Q&&p;return{status:P,fetchStatus:C,isPending:Q,isSuccess:P==="success",isError:L,isInitialLoading:oe,isLoading:oe,data:l,dataUpdatedAt:u.dataUpdatedAt,error:K,errorUpdatedAt:d,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>E.dataUpdateCount||u.errorUpdateCount>E.errorUpdateCount,isFetching:p,isRefetching:p&&!Q,isLoadingError:L&&u.dataUpdatedAt===0,isPaused:C==="paused",isPlaceholderData:J,isRefetchError:L&&u.dataUpdatedAt!==0,isStale:pe(e,s),refetch:this.refetch}}updateResult(e){const s=r(this,O),n=this.createResult(r(this,y),this.options);if(h(this,k,r(this,y).state),h(this,H,this.options),r(this,k).data!==void 0&&h(this,V,r(this,y)),le(n,s))return;h(this,O,n);const i={},a=()=>{if(!s)return!0;const{notifyOnChangeProps:o}=this.options,c=typeof o=="function"?o():o;if(c==="all"||!c&&!r(this,q).size)return!0;const v=new Set(c!=null?c:r(this,q));return this.options.throwOnError&&v.add("error"),Object.keys(r(this,O)).some(E=>{const u=E;return r(this,O)[u]!==s[u]&&v.has(u)})};(e==null?void 0:e.listeners)!==!1&&a()&&(i.listeners=!0),b(this,ue,Ne).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&b(this,te,we).call(this)}},g=new WeakMap,y=new WeakMap,X=new WeakMap,O=new WeakMap,k=new WeakMap,H=new WeakMap,j=new WeakMap,Y=new WeakMap,W=new WeakMap,V=new WeakMap,D=new WeakMap,_=new WeakMap,x=new WeakMap,q=new WeakMap,A=new WeakSet,ae=function(e){b(this,ne,Ee).call(this);let s=r(this,y).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(ze)),s},Z=new WeakSet,be=function(){if(b(this,se,Ce).call(this),T||r(this,O).isStale||!Se(this.options.staleTime))return;const s=He(r(this,O).dataUpdatedAt,this.options.staleTime)+1;h(this,D,setTimeout(()=>{r(this,O).isStale||this.updateResult()},s))},$=new WeakSet,me=function(){var e;return(e=typeof this.options.refetchInterval=="function"?this.options.refetchInterval(r(this,y)):this.options.refetchInterval)!=null?e:!1},ee=new WeakSet,Re=function(e){b(this,re,Oe).call(this),h(this,x,e),!(T||this.options.enabled===!1||!Se(r(this,x))||r(this,x)===0)&&h(this,_,setInterval(()=>{(this.options.refetchIntervalInBackground||Je.isFocused())&&b(this,A,ae).call(this)},r(this,x)))},te=new WeakSet,we=function(){b(this,Z,be).call(this),b(this,ee,Re).call(this,b(this,$,me).call(this))},se=new WeakSet,Ce=function(){r(this,D)&&(clearTimeout(r(this,D)),h(this,D,void 0))},re=new WeakSet,Oe=function(){r(this,_)&&(clearInterval(r(this,_)),h(this,_,void 0))},ne=new WeakSet,Ee=function(){const e=r(this,g).getQueryCache().build(r(this,g),this.options);if(e===r(this,y))return;const s=r(this,y);h(this,y,e),h(this,X,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},ue=new WeakSet,Ne=function(e){je.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(r(this,O))}),r(this,g).getQueryCache().notify({query:r(this,y),type:"observerResultsUpdated"})})},Ke);function $e(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Ue(t,e){return $e(t,e)||t.state.dataUpdatedAt>0&&ye(t,e,e.refetchOnMount)}function ye(t,e,s){if(e.enabled!==!1){const n=typeof s=="function"?s(t):s;return n==="always"||n!==!1&&pe(t,e)}return!1}function xe(t,e,s,n){return s.enabled!==!1&&(t!==e||n.enabled===!1)&&(!s.suspense||t.state.status!=="error")&&pe(t,s)}function pe(t,e){return t.isStaleByTime(e.staleTime)}function et(t,e){return!le(t.getCurrentResult(),e)}var F=w("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),Et=w("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function Te(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Me=F.createContext(Te()),tt=()=>F.useContext(Me),St=({children:t})=>{const[e]=React.useState(()=>Te());return jsx(Me.Provider,{value:e,children:typeof t=="function"?t(e):t})},ke=F.createContext(void 0),st=t=>{const e=F.useContext(ke);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},gt=({client:t,children:e})=>(React.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),jsx(ke.Provider,{value:t,children:e})),De=F.createContext(!1),rt=()=>F.useContext(De),Ft=De.Provider;function nt(t,e){return typeof t=="function"?t(...e):!!t}var it=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},at=t=>{F.useEffect(()=>{t.clearReset()},[t])},ut=({result:t,errorResetBoundary:e,throwOnError:s,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&nt(s,[t.error,n]),Pt=(t,e)=>typeof e.state.data=="undefined",ot=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},Qt=(t,e)=>t.isLoading&&t.isFetching&&!e,ct=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,ht=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function lt(t,e,s){const n=st(s),i=rt(),a=tt(),o=n.defaultQueryOptions(t);o._optimisticResults=i?"isRestoring":"optimistic",ot(o),it(o,a),at(a);const[c]=F.useState(()=>new e(n,o)),v=c.getOptimisticResult(o);if(F.useSyncExternalStore(F.useCallback(E=>{const u=i?()=>{}:c.subscribe(je.batchCalls(E));return c.updateResult(),u},[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),F.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),ct(o,v))throw ht(o,c,a);if(ut({result:v,errorResetBoundary:a,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw v.error;return o.notifyOnChangeProps?v:c.trackResult(v)}function ft(t,e){return lt(t,Ze,e)}}}]);})();
